/**
 * Phuket App Documentation - Content Data
 * Contains all page content for the documentation site
 */

const CONTENT = {
    // ========================================================================
    // OVERVIEW PAGE
    // ========================================================================
    overview: {
        title: '–û–±–∑–æ—Ä',
        icon: null,
        platform: null,
        breadcrumb: ['–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', '–û–±–∑–æ—Ä'],
        description: 'Phuket App - –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –ü—Ö—É–∫–µ—Ç–∞, –¢–∞–∏–ª–∞–Ω–¥',
        content: `
            <div class="section">
                <h2 class="section-title">–û –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ Phuket App</h2>
                <p>Phuket App - —ç—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –º–æ–±–∏–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞, –∫–æ—Ç–æ—Ä–∞—è –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ —Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ —É—Å–ª—É–≥–∏ –Ω–∞ –æ—Å—Ç—Ä–æ–≤–µ –ü—Ö—É–∫–µ—Ç:</p>

                <div class="feature-list">
                    <div class="feature-item feature-expandable" onclick="toggleFeatureExpand(this)">
                        <span class="feature-icon">üèçÔ∏è</span>
                        <div class="feature-text">
                            <h4>–ê—Ä–µ–Ω–¥–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞</h4>
                            <p>–°–∫—É—Ç–µ—Ä—ã, –º–æ—Ç–æ—Ü–∏–∫–ª—ã, –∞–≤—Ç–æ–º–æ–±–∏–ª–∏, –≤–Ω–µ–¥–æ—Ä–æ–∂–Ω–∏–∫–∏ —Å –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ–º</p>
                        </div>
                        <span class="feature-arrow">‚ñº</span>
                        <div class="feature-expand-content">
                            <div class="feature-details">
                                <h5>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:</h5>
                                <ul>
                                    <li>–ö–∞—Ç–∞–ª–æ–≥ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ (—Ç–∏–ø, —Ü–µ–Ω–∞, —Ä–∞–π–æ–Ω)</li>
                                    <li>–û–Ω–ª–∞–π–Ω-–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –≤—ã–±–æ—Ä–æ–º –¥–∞—Ç</li>
                                    <li>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∞—Ä–µ–Ω–¥—ã</li>
                                    <li>–ö–∞—Ä—Ç–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è –ø—É–Ω–∫—Ç–æ–≤ –≤—ã–¥–∞—á–∏</li>
                                    <li>–û—Ç–∑—ã–≤—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥–∏ –∞—Ä–µ–Ω–¥–æ–¥–∞—Ç–µ–ª–µ–π</li>
                                </ul>
                                <p><strong>–¢–∏–ø—ã —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞:</strong> –°–∫—É—Ç–µ—Ä—ã (125-150cc), –º–æ—Ç–æ—Ü–∏–∫–ª—ã, —Å–µ–¥–∞–Ω—ã, –≤–Ω–µ–¥–æ—Ä–æ–∂–Ω–∏–∫–∏, –º–∏–Ω–∏–≤—ç–Ω—ã</p>
                            </div>
                        </div>
                    </div>
                    <div class="feature-item feature-expandable" onclick="toggleFeatureExpand(this)">
                        <span class="feature-icon">üè†</span>
                        <div class="feature-text">
                            <h4>–ñ–∏–ª—å—ë</h4>
                            <p>–í–∏–ª–ª—ã, –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã, –æ—Ç–µ–ª–∏ —Å –ø—Ä—è–º—ã–º –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º</p>
                        </div>
                        <span class="feature-arrow">‚ñº</span>
                        <div class="feature-expand-content">
                            <div class="feature-details">
                                <h5>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:</h5>
                                <ul>
                                    <li>–ü–æ–∏—Å–∫ –ø–æ —Ä–∞–π–æ–Ω–∞–º –ü—Ö—É–∫–µ—Ç–∞ —Å –∫–∞—Ä—Ç–æ–π</li>
                                    <li>–§–∏–ª—å—Ç—Ä—ã: —Ü–µ–Ω–∞, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ø–∞–ª–µ–Ω, —É–¥–æ–±—Å—Ç–≤–∞</li>
                                    <li>–ì–∞–ª–µ—Ä–µ–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π –∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ —Ç—É—Ä—ã</li>
                                    <li>–ü—Ä—è–º–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤</li>
                                    <li>–°–≤—è–∑—å —Å –≤–ª–∞–¥–µ–ª—å—Ü–µ–º —á–µ—Ä–µ–∑ —á–∞—Ç</li>
                                </ul>
                                <p><strong>–¢–∏–ø—ã –∂–∏–ª—å—è:</strong> –í–∏–ª–ª—ã, –∫–æ–Ω–¥–æ, –∞–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç—ã, –≥–µ—Å—Ç—Ö–∞—É—Å—ã, –æ—Ç–µ–ª–∏</p>
                            </div>
                        </div>
                    </div>
                    <div class="feature-item feature-expandable" onclick="toggleFeatureExpand(this)">
                        <span class="feature-icon">üé´</span>
                        <div class="feature-text">
                            <h4>–¢—É—Ä—ã –∏ —ç–∫—Å–∫—É—Ä—Å–∏–∏</h4>
                            <p>–≠–∫—Å–∫—É—Ä—Å–∏–∏ –ø–æ –æ—Å—Ç—Ä–æ–≤–∞–º, –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è, –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</p>
                        </div>
                        <span class="feature-arrow">‚ñº</span>
                        <div class="feature-expand-content">
                            <div class="feature-details">
                                <h5>–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:</h5>
                                <ul>
                                    <li>–ö–∞—Ç–∞–ª–æ–≥ —ç–∫—Å–∫—É—Ä—Å–∏–π —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –∏ —Ñ–æ—Ç–æ</li>
                                    <li>–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –¥–∞—Ç—É</li>
                                    <li>–ì—Ä—É–ø–ø–æ–≤—ã–µ –∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Ç—É—Ä—ã</li>
                                    <li>–¢—Ä–∞–Ω—Å—Ñ–µ—Ä –∏–∑ –æ—Ç–µ–ª—è –≤–∫–ª—é—á—ë–Ω</li>
                                    <li>–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ –±–∏–ª–µ—Ç—ã –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏</li>
                                </ul>
                                <p><strong>–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ:</strong> –û—Å—Ç—Ä–æ–≤–∞ –ü—Ö–∏-–ü—Ö–∏, –î–∂–µ–π–º—Å –ë–æ–Ω–¥, –°–∏–º–∏–ª–∞–Ω—ã, Big Buddha, Old Town</p>
                            </div>
                        </div>
                    </div>
                    <div class="feature-item feature-expandable" onclick="toggleFeatureExpand(this)">
                        <span class="feature-icon">ü§ñ</span>
                        <div class="feature-text">
                            <h4>–ò–ò-–ø–æ–º–æ—â–Ω–∏–∫</h4>
                            <p>–£–º–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è —Ç—É—Ä–∏—Å—Ç–æ–≤ 24/7</p>
                        </div>
                        <span class="feature-arrow">‚ñº</span>
                        <div class="feature-expand-content">
                            <div class="feature-details">
                                <h5>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</h5>
                                <ul>
                                    <li>–û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –æ –ü—Ö—É–∫–µ—Ç–µ 24/7</li>
                                    <li>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Ä–µ—Å—Ç–æ—Ä–∞–Ω–æ–≤, –ø–ª—è–∂–µ–π, –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π</li>
                                    <li>–ü–æ–º–æ—â—å —Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º</li>
                                    <li>–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞ —Ç–∞–π—Å–∫–∏–π —è–∑—ã–∫</li>
                                    <li>–≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ø–æ–º–æ—â—å –∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã —Å–ª—É–∂–±</li>
                                </ul>
                                <p><strong>–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è:</strong> GPT-4 —Å fine-tuning –Ω–∞ –¥–∞–Ω–Ω—ã—Ö –æ –ü—Ö—É–∫–µ—Ç–µ</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã</h2>
                <div class="cards-grid">
                    <div class="card" data-page="ios-technical">
                        <svg class="card-icon-svg" viewBox="0 0 24 24" fill="currentColor" style="color: #007AFF"><path d="M18.71 19.5c-.83 1.24-1.71 2.45-3.05 2.47-1.34.03-1.77-.79-3.29-.79-1.53 0-2 .77-3.27.82-1.31.05-2.3-1.32-3.14-2.53C4.25 17 2.94 12.45 4.7 9.39c.87-1.52 2.43-2.48 4.12-2.51 1.28-.02 2.5.87 3.29.87.78 0 2.26-1.07 3.81-.91.65.03 2.47.26 3.64 1.98-.09.06-2.17 1.28-2.15 3.81.03 3.02 2.65 4.03 2.68 4.04-.03.07-.42 1.44-1.38 2.83M13 3.5c.73-.83 1.94-1.46 2.94-1.5.13 1.17-.34 2.35-1.04 3.19-.69.85-1.83 1.51-2.95 1.42-.15-1.15.41-2.35 1.05-3.11z"/></svg>
                        <h3 class="card-title">iOS / SwiftUI</h3>
                        <p class="card-description">–ù–∞—Ç–∏–≤–Ω–æ–µ iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ SwiftUI, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ MVVM –∏ Swift Concurrency</p>
                        <span class="card-platform ios">iOS 17+</span>
                    </div>
                    <div class="card" data-page="android-technical">
                        <svg class="card-icon-svg" viewBox="0 0 24 24" fill="currentColor" style="color: #3DDC84"><path d="M17.6 9.48l1.84-3.18c.16-.31.04-.69-.26-.85-.29-.15-.65-.06-.83.22l-1.88 3.24c-1.44-.59-3.03-.9-4.47-.9s-3.03.31-4.47.9L5.65 5.67c-.19-.29-.54-.38-.83-.22-.31.16-.42.54-.26.85L6.4 9.48C3.3 11.25 1.28 14.44 1 18h22c-.28-3.56-2.3-6.75-5.4-8.52zM7 15.25c-.69 0-1.25-.56-1.25-1.25s.56-1.25 1.25-1.25 1.25.56 1.25 1.25-.56 1.25-1.25 1.25zm10 0c-.69 0-1.25-.56-1.25-1.25s.56-1.25 1.25-1.25 1.25.56 1.25 1.25-.56 1.25-1.25 1.25z"/></svg>
                        <h3 class="card-title">Android / Kotlin</h3>
                        <p class="card-description">–ù–∞—Ç–∏–≤–Ω–æ–µ Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å Jetpack Compose, Clean Architecture –∏ Kotlin Coroutines</p>
                        <span class="card-platform android">Android 8.0+</span>
                    </div>
                    <div class="card" data-page="web-arch">
                        <span class="card-icon">üåê</span>
                        <h3 class="card-title">Web / Next.js</h3>
                        <p class="card-description">React SPA —Å Next.js 14, TypeScript, Tailwind CSS –∏ Server Components</p>
                        <span class="card-platform web">–í—Å–µ –±—Ä–∞—É–∑–µ—Ä—ã</span>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>–°–ª–æ–π</th>
                                <th>–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è</th>
                                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>iOS</strong></td>
                                <td>Swift 5.9, SwiftUI</td>
                                <td>–ù–∞—Ç–∏–≤–Ω—ã–π iOS —Å MVVM + Repository</td>
                            </tr>
                            <tr>
                                <td><strong>Android</strong></td>
                                <td>Kotlin 1.9, Jetpack Compose</td>
                                <td>–ù–∞—Ç–∏–≤–Ω—ã–π Android —Å Clean Architecture</td>
                            </tr>
                            <tr>
                                <td><strong>–ë—ç–∫–µ–Ω–¥</strong></td>
                                <td>Python 3.13, FastAPI</td>
                                <td>–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π REST API —Å Uvicorn</td>
                            </tr>
                            <tr>
                                <td><strong>–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö</strong></td>
                                <td>PostgreSQL 15</td>
                                <td>–û—Å–Ω–æ–≤–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö</td>
                            </tr>
                            <tr>
                                <td><strong>–ö–µ—à</strong></td>
                                <td>Redis 7</td>
                                <td>–°–µ—Å—Å–∏–∏, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ</td>
                            </tr>
                            <tr>
                                <td><strong>–û–±–ª–∞–∫–æ</strong></td>
                                <td>AWS (–°–∏–Ω–≥–∞–ø—É—Ä)</td>
                                <td>EC2, RDS, S3, CloudFront</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (—Ü–µ–ª–∏ 1-–π –≥–æ–¥)</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value">50K</div>
                        <div class="stat-label">–ê–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –º–µ—Å—è—Ü</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">8%</div>
                        <div class="stat-label">–ö–æ–Ω–≤–µ—Ä—Å–∏—è –≤ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">25%</div>
                        <div class="stat-label">Retention –Ω–∞ 30 –¥–µ–Ω—å</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">40+</div>
                        <div class="stat-label">–û—Ü–µ–Ω–∫–∞ NPS</div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Roadmap</h2>
                <p class="roadmap-subtitle">8 –º–µ—Å—è—Ü–µ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ ‚Ä¢ –Ø–Ω–≤–∞—Ä—å ‚Äî –ê–≤–≥—É—Å—Ç 2026</p>

                <div class="roadmap-modern">
                    <div class="roadmap-track">
                        <div class="track-line"></div>

                        <div class="track-item">
                            <div class="track-node node-1"></div>
                            <div class="track-card">
                                <div class="track-period">–Ø–Ω–≤ ‚Äî –§–µ–≤</div>
                                <h4 class="track-title">–§—É–Ω–¥–∞–º–µ–Ω—Ç</h4>
                                <p class="track-desc">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã, API, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</p>
                            </div>
                        </div>

                        <div class="track-item">
                            <div class="track-node node-2"></div>
                            <div class="track-card">
                                <div class="track-period">–ú–∞—Ä ‚Äî –ê–ø—Ä</div>
                                <h4 class="track-title">MVP</h4>
                                <p class="track-desc">–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç, –∂–∏–ª—å—ë, –ø–æ–∏—Å–∫, –ø—Ä–æ—Ñ–∏–ª—å</p>
                            </div>
                        </div>

                        <div class="track-item">
                            <div class="track-node node-3"></div>
                            <div class="track-card">
                                <div class="track-period">–ú–∞–π ‚Äî –ò—é–Ω</div>
                                <h4 class="track-title">–ò–ò + –ü–ª–∞—Ç–µ–∂–∏</h4>
                                <p class="track-desc">AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç, —Ç—É—Ä—ã, Stripe, –ø—É—à–∏</p>
                            </div>
                        </div>

                        <div class="track-item">
                            <div class="track-node node-4"></div>
                            <div class="track-card">
                                <div class="track-period">–ò—é–ª ‚Äî –ê–≤–≥</div>
                                <h4 class="track-title">–ó–∞–ø—É—Å–∫</h4>
                                <p class="track-desc">–õ–æ—è–ª—å–Ω–æ—Å—Ç—å, —Ç–µ—Å—Ç—ã, —Ä–µ–ª–∏–∑ –≤ —Å—Ç–æ—Ä—ã</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="roadmap-cta">
                    <a href="#" onclick="navigateTo('roadmap'); return false;" class="link-arrow">–ü–æ–¥—Ä–æ–±–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ ‚Üí</a>
                </div>
            </div>
        `
    },

    // ========================================================================
    // PRODUCT REQUIREMENTS
    // ========================================================================
    prd: {
        title: '–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ø—Ä–æ–¥—É–∫—Ç—É',
        icon: null,
        platform: null,
        breadcrumb: ['–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', '–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã', 'PRD'],
        description: '–î–æ–∫—É–º–µ–Ω—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ –ø—Ä–æ–¥—É–∫—Ç—É Phuket App',
        content: `
            <div class="section">
                <h2 class="section-title">1. –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ–±–ª–µ–º—ã</h2>
                <p>–¢—É—Ä–∏—Å—Ç—ã, –ø–æ—Å–µ—â–∞—é—â–∏–µ –ü—Ö—É–∫–µ—Ç, —Å—Ç–∞–ª–∫–∏–≤–∞—é—Ç—Å—è —Å —Ä—è–¥–æ–º –ø—Ä–æ–±–ª–µ–º:</p>
                <ul>
                    <li><strong>–§—Ä–∞–≥–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã</strong> - –Ω—É–∂–Ω–æ 5-10 —Ä–∞–∑–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –¥–ª—è —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞, –∂–∏–ª—å—è, —Ç—É—Ä–æ–≤</li>
                    <li><strong>–Ø–∑—ã–∫–æ–≤–æ–π –±–∞—Ä—å–µ—Ä</strong> - –º–µ—Å—Ç–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç —Ä—É—Å—Å–∫–∏–π/–∞–Ω–≥–ª–∏–π—Å–∫–∏–π</li>
                    <li><strong>–ù–µ–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å —Ü–µ–Ω</strong> - –Ω–µ—Ç –µ–¥–∏–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Ü–µ–Ω</li>
                    <li><strong>–ù–∞—Ü–µ–Ω–∫–∏ –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤</strong> - –≤—ã—Å–æ–∫–∏–µ –∫–æ–º–∏—Å—Å–∏–∏ –∞–≥–µ–Ω—Ç—Å—Ç–≤</li>
                    <li><strong>–ù–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏</strong> - –Ω–µ—Ç –ø—Ä–æ–≥—Ä–∞–º–º—ã –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –≥–æ—Å—Ç–µ–π</li>
                </ul>
            </div>

            <div class="section">
                <h2 class="section-title">2. –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>–°–µ–≥–º–µ–Ω—Ç</th>
                                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                                <th>% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>–†—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–µ —Ç—É—Ä–∏—Å—Ç—ã</td>
                                <td>–†–æ—Å—Å–∏—è, –°–ù–ì, —ç–∫—Å–ø–∞—Ç—ã –Ω–∞ –ü—Ö—É–∫–µ—Ç–µ</td>
                                <td>40%</td>
                            </tr>
                            <tr>
                                <td>–ï–≤—Ä–æ–ø–µ–π—Å–∫–∏–µ —Ç—É—Ä–∏—Å—Ç—ã</td>
                                <td>–í–µ–ª–∏–∫–æ–±—Ä–∏—Ç–∞–Ω–∏—è, –ì–µ—Ä–º–∞–Ω–∏—è, –§—Ä–∞–Ω—Ü–∏—è, –°–∫–∞–Ω–¥–∏–Ω–∞–≤–∏—è</td>
                                <td>25%</td>
                            </tr>
                            <tr>
                                <td>–ö–∏—Ç–∞–π—Å–∫–∏–µ —Ç—É—Ä–∏—Å—Ç—ã</td>
                                <td>–ú–∞—Ç–µ—Ä–∏–∫–æ–≤—ã–π –ö–∏—Ç–∞–π, –ì–æ–Ω–∫–æ–Ω–≥, –¢–∞–π–≤–∞–Ω—å</td>
                                <td>20%</td>
                            </tr>
                            <tr>
                                <td>–¶–∏—Ñ—Ä–æ–≤—ã–µ –∫–æ—á–µ–≤–Ω–∏–∫–∏</td>
                                <td>–£–¥–∞–ª—ë–Ω–Ω—ã–µ —Ä–∞–±–æ—Ç–Ω–∏–∫–∏, –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ –ø—Ä–æ–∂–∏–≤–∞–Ω–∏–µ</td>
                                <td>10%</td>
                            </tr>
                            <tr>
                                <td>–î—Ä—É–≥–∏–µ</td>
                                <td>–ê–≤—Å—Ç—Ä–∞–ª–∏—è, –°–®–ê, –¥—Ä—É–≥–∏–µ —Å—Ç—Ä–∞–Ω—ã</td>
                                <td>5%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">3. –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</h2>

                <h3 class="section-subtitle">3.1 –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (P0)</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ</th>
                                <th>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>AUTH-001</td><td>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ email/–ø–∞—Ä–æ–ª—é</td><td>P0</td></tr>
                            <tr><td>AUTH-002</td><td>–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</td><td>P0</td></tr>
                            <tr><td>AUTH-003</td><td>–°–±—Ä–æ—Å –ø–∞—Ä–æ–ª—è —á–µ—Ä–µ–∑ email</td><td>P0</td></tr>
                            <tr><td>AUTH-004</td><td>–í—Ö–æ–¥ —á–µ—Ä–µ–∑ —Å–æ—Ü—Å–µ—Ç–∏ (Google, Apple, Facebook)</td><td>P1</td></tr>
                            <tr><td>AUTH-005</td><td>–î–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</td><td>P2</td></tr>
                            <tr><td>AUTH-006</td><td>–ë–∏–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ (Face ID, Touch ID)</td><td>P1</td></tr>
                        </tbody>
                    </table>
                </div>

                <h3 class="section-subtitle">3.2 –ê—Ä–µ–Ω–¥–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ (P0)</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ</th>
                                <th>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>TRANS-001</td><td>–ö–∞—Ç–∞–ª–æ–≥ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏</td><td>P0</td></tr>
                            <tr><td>TRANS-002</td><td>–§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É (—Å–∫—É—Ç–µ—Ä, –º–æ—Ç–æ—Ü–∏–∫–ª, –∞–≤—Ç–æ, –≤–Ω–µ–¥–æ—Ä–æ–∂–Ω–∏–∫)</td><td>P0</td></tr>
                            <tr><td>TRANS-003</td><td>–§–∏–ª—å—Ç—Ä –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É —Ü–µ–Ω</td><td>P0</td></tr>
                            <tr><td>TRANS-004</td><td>–ö–∞—Ä—Ç–æ—á–∫–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ (—Ñ–æ—Ç–æ, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏, –æ—Ç–∑—ã–≤—ã)</td><td>P0</td></tr>
                            <tr><td>TRANS-005</td><td>–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞—Ç—ã</td><td>P0</td></tr>
                            <tr><td>TRANS-006</td><td>–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ –∫–∞—Ä—Ç–µ</td><td>P1</td></tr>
                        </tbody>
                    </table>
                </div>

                <h3 class="section-subtitle">3.3 –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç (P1)</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ</th>
                                <th>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>AI-001</td><td>–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á–∞—Ç–∞</td><td>P1</td></tr>
                            <tr><td>AI-002</td><td>–ú–µ—Å—Ç–Ω—ã–µ –∑–Ω–∞–Ω–∏—è (–º–µ—Å—Ç–∞, –æ–±—ã—á–∞–∏)</td><td>P1</td></tr>
                            <tr><td>AI-003</td><td>–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å (RU, EN, ZH)</td><td>P1</td></tr>
                            <tr><td>AI-004</td><td>–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é</td><td>P2</td></tr>
                            <tr><td>AI-005</td><td>–≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –ø–æ–º–æ—â—å</td><td>P1</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">4. –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>–£—Ä–æ–≤–µ–Ω—å</th>
                                <th>–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –±–∞–ª–ª–æ–≤</th>
                                <th>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>–ë—Ä–æ–Ω–∑–∞</strong></td>
                                <td>0</td>
                                <td>–ë–∞–∑–æ–≤—ã–π –¥–æ—Å—Ç—É–ø, 200 –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö –±–∞–ª–ª–æ–≤</td>
                            </tr>
                            <tr>
                                <td><strong>–°–µ—Ä–µ–±—Ä–æ</strong></td>
                                <td>1 000</td>
                                <td>–°–∫–∏–¥–∫–∞ 5%, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞</td>
                            </tr>
                            <tr>
                                <td><strong>–ó–æ–ª–æ—Ç–æ</strong></td>
                                <td>5 000</td>
                                <td>–°–∫–∏–¥–∫–∞ 10%, –±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∞–ø–≥—Ä–µ–π–¥—ã</td>
                            </tr>
                            <tr>
                                <td><strong>–ü–ª–∞—Ç–∏–Ω–∞</strong></td>
                                <td>15 000</td>
                                <td>–°–∫–∏–¥–∫–∞ 15%, VIP-–ø–æ–¥–¥–µ—Ä–∂–∫–∞, —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        `
    },

    // ========================================================================
    // PRODUCT DISCOVERY
    // ========================================================================
    discovery: {
        title: '–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ä—ã–Ω–∫–∞',
        icon: null,
        platform: null,
        breadcrumb: ['–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', '–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã', '–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ'],
        description: '–ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —Ä—ã–Ω–∫–∞ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã product discovery',
        content: `
            <div class="section">
                <h2 class="section-title">1. –û–±–∑–æ—Ä —Ä—ã–Ω–∫–∞</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>–ú–µ—Ç—Ä–∏–∫–∞</th>
                                <th>2023</th>
                                <th>2024</th>
                                <th>2025 (–ø—Ä–æ–≥–Ω–æ–∑)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>–¢—É—Ä–∏—Å—Ç—ã (–º–ª–Ω)</td>
                                <td>9.2</td>
                                <td>11.5</td>
                                <td>13.0</td>
                            </tr>
                            <tr>
                                <td>–†—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–µ</td>
                                <td>1.8M (20%)</td>
                                <td>2.0M (17%)</td>
                                <td>2.2M (17%)</td>
                            </tr>
                            <tr>
                                <td>–°—Ä–µ–¥–Ω–∏–π —á–µ–∫</td>
                                <td>$1,200</td>
                                <td>$1,300</td>
                                <td>$1,400</td>
                            </tr>
                            <tr>
                                <td>–û–Ω–ª–∞–π–Ω-–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</td>
                                <td>45%</td>
                                <td>55%</td>
                                <td>65%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">2. –ê–Ω–∞–ª–∏–∑ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–æ–≤</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç</th>
                                <th>–§–æ–∫—É—Å</th>
                                <th>–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã</th>
                                <th>–°–ª–∞–±—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Grab</strong></td>
                                <td>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç, –¥–æ—Å—Ç–∞–≤–∫–∞</td>
                                <td>–ë–æ–ª—å—à–∞—è –±–∞–∑–∞, —É–¥–æ–±—Å—Ç–≤–æ</td>
                                <td>–ù–µ—Ç –∂–∏–ª—å—è/—Ç—É—Ä–æ–≤</td>
                            </tr>
                            <tr>
                                <td><strong>Agoda</strong></td>
                                <td>–û—Ç–µ–ª–∏</td>
                                <td>–û–≥—Ä–æ–º–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥</td>
                                <td>–¢–æ–ª—å–∫–æ –∂–∏–ª—å—ë</td>
                            </tr>
                            <tr>
                                <td><strong>Klook</strong></td>
                                <td>–¢—É—Ä—ã, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏</td>
                                <td>–ú–Ω–æ–≥–æ —ç–∫—Å–∫—É—Ä—Å–∏–π</td>
                                <td>–ù–µ—Ç —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞/–∂–∏–ª—å—è</td>
                            </tr>
                            <tr>
                                <td><strong>Traveloka</strong></td>
                                <td>–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π</td>
                                <td>–ú–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–æ–≤</td>
                                <td>–°–ª–æ–∂–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</td>
                            </tr>
                            <tr>
                                <td><strong>–ú–µ—Å—Ç–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã</strong></td>
                                <td>–í—Å—ë</td>
                                <td>–õ–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥</td>
                                <td>–í—ã—Å–æ–∫–∏–µ —Ü–µ–Ω—ã, –Ω–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">3. SWOT-–∞–Ω–∞–ª–∏–∑</h2>
                <div class="diagram-block">
                    <pre>
+--------------------------------+  +--------------------------------+
|        –°–ò–õ–¨–ù–´–ï –°–¢–û–†–û–ù–´         |  |        –°–õ–ê–ë–´–ï –°–¢–û–†–û–ù–´          |
|                                |  |                                |
|  - –ï–¥–∏–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ           |  |  - –ù–æ–≤—ã–π –±—Ä–µ–Ω–¥                 |
|  - –§–æ–∫—É—Å –Ω–∞ –ü—Ö—É–∫–µ—Ç             |  |  - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥        |
|  - –†—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–π –ò–ò            |  |  - –ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ –æ—Ç–∑—ã–≤–æ–≤         |
|  - –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏        |  |  - –ú–∞–ª–µ–Ω—å–∫–∞—è –∫–æ–º–∞–Ω–¥–∞           |
|  - –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UX              |  |                                |
+--------------------------------+  +--------------------------------+
+--------------------------------+  +--------------------------------+
|        –í–û–ó–ú–û–ñ–ù–û–°–¢–ò             |  |           –£–ì–†–û–ó–´               |
|                                |  |                                |
|  - –†–æ—Å—Ç —Ç—É—Ä–∏–∑–º–∞                |  |  - –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ Grab/Agoda       |
|  - –¶–∏—Ñ—Ä–æ–≤–∏–∑–∞—Ü–∏—è                |  |  - –ú–µ—Å—Ç–Ω—ã–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã          |
|  - –ù–µ–¥–æ–æ–±—Å–ª—É–∂–µ–Ω–Ω—ã–π RU —Ä—ã–Ω–æ–∫    |  |  - –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π —Å–ø–∞–¥          |
|  - B2B –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞             |  |  - –†–µ–≥—É–ª—è—Ç–æ—Ä–Ω—ã–µ —Ä–∏—Å–∫–∏          |
|  - –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–∞ –°–∞–º—É–∏         |  |                                |
+--------------------------------+  +--------------------------------+
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">4. TAM/SAM/SOM</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value">$15B</div>
                        <div class="stat-label">TAM (—Ç—É—Ä–∏–∑–º –¢–∞–∏–ª–∞–Ω–¥–∞)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">$2B</div>
                        <div class="stat-label">SAM (—Ü–∏—Ñ—Ä–æ–≤–æ–π –ü—Ö—É–∫–µ—Ç)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">$50M</div>
                        <div class="stat-label">SOM (—Ü–µ–ª—å 3-–π –≥–æ–¥)</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value">2.5%</div>
                        <div class="stat-label">–¶–µ–ª–µ–≤–∞—è –¥–æ–ª—è —Ä—ã–Ω–∫–∞</div>
                    </div>
                </div>
            </div>
        `
    },

    // ========================================================================
    // SYSTEM DESIGN
    // ========================================================================
    'system-design': {
        title: '–î–∏–∑–∞–π–Ω —Å–∏—Å—Ç–µ–º—ã',
        icon: null,
        platform: null,
        breadcrumb: ['–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', '–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞', '–î–∏–∑–∞–π–Ω —Å–∏—Å—Ç–µ–º—ã'],
        description: '–í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã',
        content: `
            <div class="section">
                <h2 class="section-title">1. –í—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</h2>
                <div class="diagram-block">
                    <pre>
+-----------------------------------------------------------------------------+
|                              CLIENTS                                         |
+-----------------------------------------------------------------------------+
|                                                                              |
|  +------------+    +------------+    +------------+                         |
|  |  iOS App   |    |Android App |    |  Web App   |                         |
|  | (SwiftUI)  |    | (Kotlin)   |    |  (React)   |                         |
|  |  [READY]   |    | [PLANNED]  |    | [PLANNED]  |                         |
|  +-----+------+    +-----+------+    +-----+------+                         |
|        |                 |                 |                                 |
|        +--------+--------+--------+--------+                                 |
|                 |                                                            |
|                 | HTTPS (TLS 1.3) / REST API                                |
|                 v                                                            |
+-----------------------------------------------------------------------------+
|                           EDGE LAYER                                         |
+-----------------------------------------------------------------------------+
|                                                                              |
|  +-----------------------------------------------------------------------+  |
|  |                         CDN (CloudFlare)                               |  |
|  |  - SSL Termination    - DDoS Protection    - WAF                      |  |
|  +-----------------------------------+-----------------------------------+  |
|                                      |                                       |
|                                      v                                       |
|  +-----------------------------------------------------------------------+  |
|  |                      Load Balancer (AWS ALB)                           |  |
|  |  - Health Checks    - SSL Certificate    - Request Routing            |  |
|  +-----------------------------------+-----------------------------------+  |
|                                      |                                       |
+--------------------------------------+---------------------------------------+
|                        APPLICATION LAYER                                     |
+--------------------------------------+---------------------------------------+
|                                      |                                       |
|         +------------------------+---+---+------------------------+          |
|         |                        |       |                        |          |
|         v                        v       v                        v          |
|  +------------+           +------------+           +------------+            |
|  | API Pod 1  |           | API Pod 2  |           | API Pod N  |            |
|  | (FastAPI)  |           | (FastAPI)  |           | (FastAPI)  |            |
|  +-----+------+           +-----+------+           +-----+------+            |
|        |                        |                        |                   |
|        +------------------------+------------------------+                   |
|                                 |                                            |
+--------------------------------------+---------------------------------------+
|                       DATA LAYER                                             |
+--------------------------------------+---------------------------------------+
|                                      |                                       |
|         +-------------------+--------+--------+-------------------+          |
|         |                   |                 |                   |          |
|         v                   v                 v                   v          |
|  +------------+      +------------+      +------------+                      |
|  | PostgreSQL |      |   Redis    |      |     S3     |                      |
|  |  (Primary) |      |  (Cache)   |      |  (Media)   |                      |
|  | Users,     |      | Sessions,  |      | Images,    |                      |
|  | Bookings,  |      | Rate Limit |      | Documents  |                      |
|  | Catalog    |      | API Cache  |      | Backups    |                      |
|  +------------+      +------------+      +------------+                      |
|                                                                              |
+------------------------------------------------------------------------------+
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã</h2>

                <h3 class="section-subtitle">2.1 –ú–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è</h3>
                <div class="table-wrapper">
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th class="col-aspect">–ê—Å–ø–µ–∫—Ç</th>
                                <th class="col-ios">iOS</th>
                                <th class="col-android">Android</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞</td>
                                <td>iOS 17.0+</td>
                                <td>Android 8.0+ (API 26)</td>
                            </tr>
                            <tr>
                                <td>–Ø–∑—ã–∫</td>
                                <td>Swift 5.9</td>
                                <td>Kotlin 1.9</td>
                            </tr>
                            <tr>
                                <td>UI Framework</td>
                                <td>SwiftUI</td>
                                <td>Jetpack Compose</td>
                            </tr>
                            <tr>
                                <td>–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</td>
                                <td>MVVM + Repository</td>
                                <td>MVVM + Clean Architecture</td>
                            </tr>
                            <tr>
                                <td>–°–µ—Ç—å</td>
                                <td>URLSession + async/await</td>
                                <td>Retrofit + Coroutines</td>
                            </tr>
                            <tr>
                                <td>DI</td>
                                <td>Custom DI Container</td>
                                <td>Hilt (Dagger)</td>
                            </tr>
                            <tr>
                                <td>–•—Ä–∞–Ω–∏–ª–∏—â–µ</td>
                                <td>SwiftData + Keychain</td>
                                <td>Room + EncryptedPrefs</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3 class="section-subtitle">2.2 –ë—ç–∫–µ–Ω–¥</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç</th>
                                <th>–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è</th>
                                <th>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>API-—Å–µ—Ä–≤–µ—Ä</td>
                                <td>FastAPI + Uvicorn</td>
                                <td>REST API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã</td>
                            </tr>
                            <tr>
                                <td>–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö</td>
                                <td>PostgreSQL 15</td>
                                <td>–û—Å–Ω–æ–≤–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö</td>
                            </tr>
                            <tr>
                                <td>–ö–µ—à</td>
                                <td>Redis 7</td>
                                <td>–°–µ—Å—Å–∏–∏, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã</td>
                            </tr>
                            <tr>
                                <td>–•—Ä–∞–Ω–∏–ª–∏—â–µ</td>
                                <td>AWS S3</td>
                                <td>–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –¥–æ–∫—É–º–µ–Ω—Ç—ã</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">3. –í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã</h2>
                <div class="cards-grid">
                    <div class="card">
                        <span class="card-icon">ü§ñ</span>
                        <h3 class="card-title">OpenAI</h3>
                        <p class="card-description">GPT-4 –¥–ª—è —á–∞—Ç-—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞</p>
                    </div>
                    <div class="card">
                        <span class="card-icon">üí≥</span>
                        <h3 class="card-title">Stripe</h3>
                        <p class="card-description">–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π –∑–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</p>
                    </div>
                    <div class="card">
                        <span class="card-icon">üîî</span>
                        <h3 class="card-title">Firebase</h3>
                        <p class="card-description">Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</p>
                    </div>
                    <div class="card">
                        <span class="card-icon">üìß</span>
                        <h3 class="card-title">SendGrid</h3>
                        <p class="card-description">–¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–µ email-–ø–∏—Å—å–º–∞</p>
                    </div>
                    <div class="card">
                        <span class="card-icon">üå§Ô∏è</span>
                        <h3 class="card-title">OpenWeather</h3>
                        <p class="card-description">–ü—Ä–æ–≥–Ω–æ–∑ –ø–æ–≥–æ–¥—ã –¥–ª—è –ü—Ö—É–∫–µ—Ç–∞</p>
                    </div>
                    <div class="card">
                        <span class="card-icon">üìä</span>
                        <h3 class="card-title">Sentry</h3>
                        <p class="card-description">–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫</p>
                    </div>
                </div>
            </div>
        `
    },

    // ========================================================================
    // SOLUTION ARCHITECTURE
    // ========================================================================
    'solution-arch': {
        title: 'Solution Architecture',
        icon: null,
        platform: null,
        breadcrumb: ['–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', '–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞', 'Solution Architecture'],
        description: '–î–∏–∞–≥—Ä–∞–º–º—ã –º–æ–¥–µ–ª–∏ C4 –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ –≤–∏–¥–µ–Ω–∏–µ',
        content: `
            <div class="section">
                <h2 class="section-title">1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ –≤–∏–¥–µ–Ω–∏–µ</h2>
                <p>–†–µ—à–µ–Ω–∏–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ —Å–ª–µ–¥—É—é—â–∏—Ö –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö:</p>
                <div class="feature-list">
                    <div class="feature-item">
                        <span class="feature-icon">üì±</span>
                        <div class="feature-text">
                            <h4>Mobile-first</h4>
                            <p>–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–∫—É—Å –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">üîå</span>
                        <div class="feature-text">
                            <h4>API-centric</h4>
                            <p>–ï–¥–∏–Ω—ã–π API –¥–ª—è –≤—Å–µ—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">‚òÅÔ∏è</span>
                        <div class="feature-text">
                            <h4>Cloud-native</h4>
                            <p>–ì–æ—Ç–æ–≤ –∫ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—é –≤ –æ–±–ª–∞–∫–µ</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">üîí</span>
                        <div class="feature-text">
                            <h4>Security by design</h4>
                            <p>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">2. –ö–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>–†–µ—à–µ–Ω–∏–µ</th>
                                <th>–í—ã–±–æ—Ä</th>
                                <th>–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Mobile Framework</td>
                                <td>SwiftUI (iOS) / Compose (Android)</td>
                                <td>–ù–∞—Ç–∏–≤–Ω—ã–π UI, –ª—É—á—à–∏–π UX</td>
                            </tr>
                            <tr>
                                <td>Backend Framework</td>
                                <td>FastAPI</td>
                                <td>–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, async/await</td>
                            </tr>
                            <tr>
                                <td>–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö</td>
                                <td>PostgreSQL</td>
                                <td>–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ JSON, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å</td>
                            </tr>
                            <tr>
                                <td>–ö–µ—à</td>
                                <td>Redis</td>
                                <td>–ë—ã—Å—Ç—Ä—ã–π –∫–µ—à, rate limiting</td>
                            </tr>
                            <tr>
                                <td>–û–±–ª–∞–∫–æ</td>
                                <td>AWS</td>
                                <td>–≠–∫–æ—Å–∏—Å—Ç–µ–º–∞, —Ä–µ–≥–∏–æ–Ω –°–∏–Ω–≥–∞–ø—É—Ä</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">3. –î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (C4 Level 2)</h2>
                <div class="diagram-block">
                    <pre>
+-----------------------------------------------------------------------------+
|                          CONTAINER DIAGRAM                                   |
+-----------------------------------------------------------------------------+
|                                                                              |
|                      +---------------------------+                           |
|                      |         CLIENTS           |                           |
|                      |                           |                           |
|  +------------+      |  +------------+           |                           |
|  |  iOS App   |<-----+--|  Web App   |           |                           |
|  | (SwiftUI)  |      |  |  (React)   |           |                           |
|  |            |      |  | [Planned]  |           |                           |
|  +-----+------+      |  +-----+------+           |                           |
|        |             |        |                  |                           |
|        +-------------+--------+                  |                           |
|                      |                           |                           |
|                      +---------------------------+                           |
|                                 |                                            |
|                                 | HTTPS / REST API                           |
|                                 v                                            |
|  +-----------------------------------------------------------------------+  |
|  |                           BACKEND                                      |  |
|  |                                                                        |  |
|  |  +------------------------------------------------------------------+ |  |
|  |  |                      API Gateway (CloudFlare/ALB)                 | |  |
|  |  |                                                                   | |  |
|  |  |  - SSL Termination  - Rate Limiting  - DDoS Protection           | |  |
|  |  +-------------------------------+-----------------------------------+ |  |
|  |                                  |                                     |  |
|  |                                  v                                     |  |
|  |  +------------------------------------------------------------------+ |  |
|  |  |                    API Server (FastAPI)                           | |  |
|  |  |                                                                   | |  |
|  |  |  Python 3.13 + Uvicorn                                           | |  |
|  |  |                                                                   | |  |
|  |  |  Handles:                                                         | |  |
|  |  |  - Authentication (JWT)                                           | |  |
|  |  |  - Business logic                                                 | |  |
|  |  |  - Data validation                                                | |  |
|  |  |  - External integrations                                          | |  |
|  |  +-------------------------------+-----------------------------------+ |  |
|  |                                  |                                     |  |
|  +----------------------------------+-------------------------------------+  |
|                                     |                                        |
|         +----------------+----------+----------+----------------+            |
|         |                |                     |                |            |
|         v                v                     v                v            |
|  +-----------+    +-----------+         +-----------+                        |
|  | PostgreSQL|    |   Redis   |         |    S3     |                        |
|  |           |    |           |         |           |                        |
|  | Primary DB|    | Cache +   |         | Media     |                        |
|  | Users,    |    | Sessions  |         | Storage   |                        |
|  | Bookings  |    |           |         |           |                        |
|  +-----------+    +-----------+         +-----------+                        |
|                                                                              |
+------------------------------------------------------------------------------+
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">4. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</h2>
                <div class="callout info">
                    <span class="callout-icon">üîê</span>
                    <div class="callout-content">
                        <div class="callout-title">–£—Ä–æ–≤–Ω–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</div>
                        <div class="callout-text">–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∑–∞—â–∏—Ç–∞ —Å–∏—Å—Ç–µ–º—ã –æ—Ç –ø–µ—Ä–∏–º–µ—Ç—Ä–∞ –¥–æ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö</div>
                    </div>
                </div>
                <ul>
                    <li><strong>–ü–µ—Ä–∏–º–µ—Ç—Ä</strong>: CloudFlare WAF, –∑–∞—â–∏—Ç–∞ –æ—Ç DDoS</li>
                    <li><strong>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</strong>: TLS 1.3, SSL certificate pinning</li>
                    <li><strong>–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</strong>: JWT —Ç–æ–∫–µ–Ω—ã, rate limiting, –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤–≤–æ–¥–∞</li>
                    <li><strong>–î–∞–Ω–Ω—ã–µ</strong>: –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø–æ–∫–æ–µ, –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π</li>
                    <li><strong>–ú–æ–±–∏–ª—å–Ω—ã–µ</strong>: Keychain/EncryptedPrefs, –±–∏–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</li>
                </ul>
            </div>
        `
    },

    // ========================================================================
    // SOFTWARE ARCHITECTURE
    // ========================================================================
    'software-arch': {
        title: 'Software Architecture',
        icon: null,
        platform: null,
        breadcrumb: ['–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', '–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞', 'Software Architecture'],
        description: '–ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏ –ø—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã',
        content: `
            <div class="section">
                <h2 class="section-title">1. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π —Å—Ç–∏–ª—å</h2>
                <p>Phuket App –∏—Å–ø–æ–ª—å–∑—É–µ—Ç <strong>–∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É</strong> —Å RESTful API:</p>
                <div class="diagram-block">
                    <pre>
+-----------------------------------------------------------------------------+
|                         ARCHITECTURAL OVERVIEW                               |
+-----------------------------------------------------------------------------+
|                                                                              |
|  +-----------------------------------------------------------------------+  |
|  |                        PRESENTATION LAYER                              |  |
|  |                                                                        |  |
|  |   iOS (SwiftUI)      Android (Kotlin)      Web (React)                |  |
|  |        |                   |                   |                       |  |
|  |        +-------------------+-------------------+                       |  |
|  |                            |                                           |  |
|  |                     REST API (HTTPS)                                   |  |
|  |                            |                                           |  |
|  +----------------------------+-------------------------------------------+  |
|                               |                                              |
|  +----------------------------+-------------------------------------------+  |
|  |                    API LAYER (FastAPI)                                 |  |
|  |                               |                                        |  |
|  |  +----------------------------+--------------------------------------+ |  |
|  |  |                                                                    | |  |
|  |  |  Routers --> Services --> Repositories --> Database               | |  |
|  |  |     |                                                              | |  |
|  |  |     +-- Middleware (Auth, Rate Limit, CORS, Security)             | |  |
|  |  |                                                                    | |  |
|  |  +--------------------------------------------------------------------+ |  |
|  |                                                                        |  |
|  +------------------------------------------------------------------------+  |
|                               |                                              |
|  +----------------------------+-------------------------------------------+  |
|  |                     DATA LAYER                                         |  |
|  |                                                                        |  |
|  |  PostgreSQL (Primary)    Redis (Cache)    S3 (Media)                  |  |
|  |                                                                        |  |
|  +------------------------------------------------------------------------+  |
|                                                                              |
+------------------------------------------------------------------------------+
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">2. –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>–ü—Ä–∏–Ω—Ü–∏–ø</th>
                                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                                <th>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Separation of Concerns</strong></td>
                                <td>–ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</td>
                                <td>–°–ª–æ–∏: Presentation, API, Data</td>
                            </tr>
                            <tr>
                                <td><strong>Single Responsibility</strong></td>
                                <td>–ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –¥–µ–ª–∞–µ—Ç –æ–¥–Ω–æ –¥–µ–ª–æ</td>
                                <td>–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –ø–æ —Ñ–∏—á–∞–º</td>
                            </tr>
                            <tr>
                                <td><strong>Dependency Inversion</strong></td>
                                <td>–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–π</td>
                                <td>–ü—Ä–æ—Ç–æ–∫–æ–ª—ã/–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã</td>
                            </tr>
                            <tr>
                                <td><strong>Open/Closed</strong></td>
                                <td>–û—Ç–∫—Ä—ã—Ç –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è, –∑–∞–∫—Ä—ã—Ç –¥–ª—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏</td>
                                <td>Plugin-–ø–æ–¥–æ–±–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞</td>
                            </tr>
                            <tr>
                                <td><strong>DRY</strong></td>
                                <td>–ù–µ –ø–æ–≤—Ç–æ—Ä—è–π—Å—è</td>
                                <td>–û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —É—Ç–∏–ª–∏—Ç—ã</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª–µ–π</h2>

                <div class="tabs-container">
                    <div class="tabs-header">
                        <button class="tab-btn active" data-tab="ios" onclick="switchTab('ios')">iOS</button>
                        <button class="tab-btn" data-tab="android" onclick="switchTab('android')">Android</button>
                    </div>

                    <div class="tab-content active" id="tab-ios">
                        <div class="code-block">
                            <div class="code-header">
                                <span class="code-lang">Swift Project Structure</span>
                            </div>
                            <pre>
PhuketApp/
|
+-- Core/
|   +-- DI/           # Dependency Injection
|   +-- Network/      # API client, SSL Pinning
|   +-- Storage/      # Keychain, Cache, UserDefaults
|   +-- Security/     # Encryption, Secure Storage
|
+-- Features/
|   +-- Auth/         # Registration, login
|   +-- Home/         # Main screen, weather
|   +-- Transport/    # Vehicle rental
|   +-- Accommodation/# Property booking
|   +-- Tours/        # Excursions
|   +-- Profile/      # User profile, bookings
|   +-- Currency/     # Currency converter
|   +-- AIAssistant/  # AI chat
|
+-- Shared/
    +-- Models/       # Data models
    +-- Components/   # Reusable UI
    +-- Utils/        # Helpers
                            </pre>
                        </div>
                    </div>

                    <div class="tab-content" id="tab-android">
                        <div class="code-block">
                            <div class="code-header">
                                <span class="code-lang">Kotlin Project Structure</span>
                            </div>
                            <pre>
PhuketApp/
|
+-- app/                    # Main application module
|
+-- core/                   # Core modules
|   +-- common/             # Shared utilities
|   +-- network/            # Retrofit, OkHttp
|   +-- database/           # Room database
|   +-- datastore/          # DataStore preferences
|   +-- security/           # Encryption
|
+-- domain/                 # Domain layer
|   +-- model/              # Domain models
|   +-- repository/         # Repository interfaces
|   +-- usecase/            # Use cases
|
+-- feature/                # Feature modules
|   +-- home/
|   +-- transport/
|   +-- property/
|   +-- tours/
|   +-- profile/
|   +-- auth/
|   +-- ai_chat/
                            </pre>
                        </div>
                    </div>
                </div>
            </div>
        `
    },

    // ========================================================================
    // iOS TECHNICAL DESIGN
    // ========================================================================
    'ios-technical': {
        title: '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–∏–∑–∞–π–Ω',
        icon: null,
        platform: 'ios',
        breadcrumb: ['–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', 'iOS / SwiftUI', '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–∏–∑–∞–π–Ω'],
        description: '–î–µ—Ç–∞–ª–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ iOS',
        levels: {
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // QUICK - –ö—Ä–∞—Ç–∫–∞—è –≤—ã–∂–∏–º–∫–∞
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            quick: `
            <div class="section">
                <h2 class="section-title">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ iOS</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Aspect</th>
                                <th>Technology</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td><strong>Platform</strong></td><td>iOS 17.0+ (~90% coverage)</td></tr>
                            <tr><td><strong>Language</strong></td><td>Swift 5.9</td></tr>
                            <tr><td><strong>UI</strong></td><td>SwiftUI</td></tr>
                            <tr><td><strong>Architecture</strong></td><td>MVVM + Repository</td></tr>
                            <tr><td><strong>Concurrency</strong></td><td>async/await</td></tr>
                            <tr><td><strong>Storage</strong></td><td>SwiftData + Keychain</td></tr>
                            <tr><td><strong>Maps</strong></td><td>MapKit</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">–ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</h2>
                <div class="cards-grid">
                    <div class="card card-expandable" onclick="toggleCardExpand(this)">
                        <span class="card-icon">üì±</span>
                        <h3 class="card-title">MVVM</h3>
                        <p class="card-description">@StateObject + @Published –¥–ª—è reactive UI</p>
                        <div class="card-expand-content">
                            <div class="expand-details">
                                <h4>–ü—Ä–∏–º–µ—Ä ViewModel:</h4>
                                <pre>@MainActor
class VehiclesViewModel: ObservableObject {
    @Published var vehicles: [Vehicle] = []
    @Published var isLoading = false

    func loadVehicles() async {
        isLoading = true
        vehicles = await repository.fetchVehicles()
        isLoading = false
    }
}</pre>
                                <p><strong>–°–≤—è–∑—å:</strong> View –Ω–∞–±–ª—é–¥–∞–µ—Ç –∑–∞ @Published —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ —á–µ—Ä–µ–∑ @StateObject</p>
                            </div>
                        </div>
                    </div>
                    <div class="card card-expandable" onclick="toggleCardExpand(this)">
                        <span class="card-icon">üîÑ</span>
                        <h3 class="card-title">Repository</h3>
                        <p class="card-description">–ê–±—Å—Ç—Ä–∞–∫—Ü–∏—è data source –¥–ª—è —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç–∏</p>
                        <div class="card-expand-content">
                            <div class="expand-details">
                                <h4>–°—Ç—Ä—É–∫—Ç—É—Ä–∞:</h4>
                                <pre>protocol VehicleRepositoryProtocol {
    func fetchVehicles() async throws -> [Vehicle]
    func getVehicle(id: String) async throws -> Vehicle
}

class VehicleRepository: VehicleRepositoryProtocol {
    private let apiClient: APIClient
    private let cache: CacheManager
}</pre>
                                <p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong> –õ–µ–≥–∫–æ –º–æ–∫–∞—Ç—å –¥–ª—è —Ç–µ—Å—Ç–æ–≤, –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º</p>
                            </div>
                        </div>
                    </div>
                    <div class="card card-expandable" onclick="toggleCardExpand(this)">
                        <span class="card-icon">üíâ</span>
                        <h3 class="card-title">DI Container</h3>
                        <p class="card-description">Custom DI –¥–ª—è –∏–Ω—ä–µ–∫—Ü–∏–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π</p>
                        <div class="card-expand-content">
                            <div class="expand-details">
                                <h4>–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:</h4>
                                <pre>@MainActor
class DependencyContainer {
    static let shared = DependencyContainer()

    lazy var apiClient = APIClient()
    lazy var vehicleRepo = VehicleRepository(api: apiClient)
    lazy var authService = AuthService(api: apiClient)
}</pre>
                                <p><strong>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:</strong> @Environment –¥–ª—è –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –≤ SwiftUI views</p>
                            </div>
                        </div>
                    </div>
                    <div class="card card-expandable" onclick="toggleCardExpand(this)">
                        <span class="card-icon">üîê</span>
                        <h3 class="card-title">SSL Pinning</h3>
                        <p class="card-description">Certificate pinning –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</p>
                        <div class="card-expand-content">
                            <div class="expand-details">
                                <h4>–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:</h4>
                                <pre>class SSLPinningDelegate: NSObject, URLSessionDelegate {
    func urlSession(_ session: URLSession,
                    didReceive challenge: URLAuthenticationChallenge,
                    completionHandler: @escaping (URLSession.AuthChallengeDisposition, URLCredential?) -> Void) {
        // Verify certificate against pinned hash
    }
}</pre>
                                <p><strong>–ó–∞—â–∏—Ç–∞:</strong> –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç MITM –∞—Ç–∞–∫–∏, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Å–µ—Ä–≤–µ—Ä–∞</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            `,

            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // MEDIUM - –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            medium: `
            <div class="section">
                <h2 class="section-title">1. Platform & Technologies</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Aspect</th>
                                <th>Technology</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Platform</td>
                                <td>iOS 17.0+</td>
                                <td>~90% device coverage</td>
                            </tr>
                            <tr>
                                <td>Language</td>
                                <td>Swift 5.9</td>
                                <td>Latest stable</td>
                            </tr>
                            <tr>
                                <td>UI Framework</td>
                                <td>SwiftUI</td>
                                <td>Declarative UI</td>
                            </tr>
                            <tr>
                                <td>Concurrency</td>
                                <td>async/await</td>
                                <td>Swift Concurrency</td>
                            </tr>
                            <tr>
                                <td>Storage</td>
                                <td>SwiftData</td>
                                <td>Offline cache</td>
                            </tr>
                            <tr>
                                <td>Secure Storage</td>
                                <td>Keychain</td>
                                <td>Tokens, credentials</td>
                            </tr>
                            <tr>
                                <td>Maps</td>
                                <td>MapKit</td>
                                <td>Apple Maps</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">2. MVVM Architecture</h2>
                <div class="diagram-block">
                    <pre>
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                           iOS MVVM ARCHITECTURE                              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                              ‚îÇ
‚îÇ   VIEW LAYER (SwiftUI)                                                      ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ HomeView, TransportView, ToursView                                    ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ @StateObject viewModel                                                ‚îÇ
‚îÇ                    ‚îÇ                                                         ‚îÇ
‚îÇ                    ‚îÇ @Published properties                                   ‚îÇ
‚îÇ                    ‚ñº                                                         ‚îÇ
‚îÇ   VIEWMODEL LAYER                                                           ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ HomeViewModel, TransportViewModel                                     ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ @Published state, isLoading, error                                    ‚îÇ
‚îÇ                    ‚îÇ                                                         ‚îÇ
‚îÇ                    ‚îÇ Dependency Injection                                    ‚îÇ
‚îÇ                    ‚ñº                                                         ‚îÇ
‚îÇ   REPOSITORY LAYER                                                          ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ VehicleRepositoryProtocol ‚Üí NetworkVehicleRepository                  ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ PropertyRepositoryProtocol ‚Üí NetworkPropertyRepository                ‚îÇ
‚îÇ                    ‚îÇ                                                         ‚îÇ
‚îÇ                    ‚ñº                                                         ‚îÇ
‚îÇ   CORE LAYER                                                                ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ NetworkManager (SSL Pinning, async/await)                             ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ KeychainManager (Token Storage)                                       ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ CacheManager (API Cache, TTL Policy)                                  ‚îÇ
‚îÇ                                                                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">3. ViewModel Example</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">Swift</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="annotation">@MainActor</span>
<span class="keyword">final class</span> <span class="class-name">TransportViewModel</span>: <span class="class-name">ObservableObject</span> {
    <span class="annotation">@Published</span> <span class="keyword">private(set) var</span> vehicles: [<span class="class-name">Vehicle</span>] = []
    <span class="annotation">@Published</span> <span class="keyword">private(set) var</span> isLoading = <span class="keyword">false</span>
    <span class="annotation">@Published</span> <span class="keyword">var</span> error: <span class="class-name">AppError</span>?

    <span class="keyword">private let</span> repository: <span class="class-name">VehicleRepositoryProtocol</span>

    <span class="keyword">func</span> <span class="function">loadVehicles</span>(filter: <span class="class-name">VehicleFilter</span>) <span class="keyword">async</span> {
        isLoading = <span class="keyword">true</span>
        <span class="keyword">defer</span> { isLoading = <span class="keyword">false</span> }

        <span class="keyword">do</span> {
            vehicles = <span class="keyword">try await</span> repository.<span class="function">getVehicles</span>(filter: filter)
        } <span class="keyword">catch</span> {
            <span class="keyword">self</span>.error = <span class="class-name">AppError</span>(error)
        }
    }
}</pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">4. Project Structure</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">Directory Structure</span>
                    </div>
                    <pre>
PhuketApp/
‚îú‚îÄ‚îÄ App/
‚îÇ   ‚îî‚îÄ‚îÄ PhuketApp.swift              # @main entry point
‚îú‚îÄ‚îÄ Features/
‚îÇ   ‚îú‚îÄ‚îÄ Home/
‚îÇ   ‚îú‚îÄ‚îÄ Transport/
‚îÇ   ‚îú‚îÄ‚îÄ Accommodation/
‚îÇ   ‚îú‚îÄ‚îÄ Tours/
‚îÇ   ‚îú‚îÄ‚îÄ Profile/
‚îÇ   ‚îî‚îÄ‚îÄ AIChat/
‚îú‚îÄ‚îÄ Core/
‚îÇ   ‚îú‚îÄ‚îÄ Network/                     # URLSession, SSL Pinning
‚îÇ   ‚îú‚îÄ‚îÄ Storage/                     # SwiftData, Keychain
‚îÇ   ‚îú‚îÄ‚îÄ DI/                          # DI Container
‚îÇ   ‚îî‚îÄ‚îÄ Models/                      # Domain models
‚îî‚îÄ‚îÄ DesignSystem/
    ‚îú‚îÄ‚îÄ Components/                  # Reusable UI
    ‚îî‚îÄ‚îÄ Theme/                       # Colors, Fonts
                    </pre>
                </div>
            </div>
            `,

            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // FULL - –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            full: `
            <div class="section">
                <h2 class="section-title">1. MVVM Architecture</h2>
                <div class="diagram-block">
                    <pre>
+-----------------------------------------------------------------------------+
|                           iOS MVVM ARCHITECTURE                              |
+-----------------------------------------------------------------------------+
|                                                                              |
|  +-----------------------------------------------------------------------+  |
|  |                         VIEW LAYER (SwiftUI)                          |  |
|  |                                                                        |  |
|  |  +------------+  +------------+  +------------+                       |  |
|  |  | HomeView   |  |TransportView| | ToursView  |  ...                 |  |
|  |  |            |  |            |  |            |                       |  |
|  |  |@StateObject|  |@StateObject|  |@StateObject|                       |  |
|  |  | viewModel  |  | viewModel  |  | viewModel  |                       |  |
|  |  +-----+------+  +-----+------+  +-----+------+                       |  |
|  |        |               |               |                               |  |
|  +--------+---------------+---------------+-------------------------------+  |
|           |               |               |                                  |
|           |  @Published   |               |                                  |
|           |  properties   |               |                                  |
|           v               v               v                                  |
|  +-----------------------------------------------------------------------+  |
|  |                      VIEWMODEL LAYER                                   |  |
|  |                                                                        |  |
|  |  +------------+  +------------+  +------------+                       |  |
|  |  |HomeViewModel| |TransportVM |  |ToursViewModel|  ...               |  |
|  |  |            |  |            |  |            |                       |  |
|  |  | @Published |  | @Published |  | @Published |                       |  |
|  |  | state      |  | vehicles   |  | tours      |                       |  |
|  |  +-----+------+  +-----+------+  +-----+------+                       |  |
|  |        |               |               |                               |  |
|  +--------+---------------+---------------+-------------------------------+  |
|           |               |               |                                  |
|           |   Dependency  |               |                                  |
|           |   Injection   |               |                                  |
|           v               v               v                                  |
|  +-----------------------------------------------------------------------+  |
|  |                     REPOSITORY LAYER                                   |  |
|  |                                                                        |  |
|  |  VehicleRepositoryProtocol  -->  NetworkVehicleRepository             |  |
|  |  PropertyRepositoryProtocol -->  NetworkPropertyRepository            |  |
|  |  TourRepositoryProtocol     -->  NetworkTourRepository                |  |
|  |                                                                        |  |
|  +-----------------------------------------------------------------------+  |
|           |                                                                  |
|           v                                                                  |
|  +-----------------------------------------------------------------------+  |
|  |                       CORE LAYER                                       |  |
|  |                                                                        |  |
|  |  +------------+  +------------+  +------------+                       |  |
|  |  |NetworkMgr  |  |KeychainMgr |  | CacheManager|                      |  |
|  |  | SSL Pinning|  | Token Store|  | API Cache  |                       |  |
|  |  | async/await|  | Secure     |  | TTL Policy |                       |  |
|  |  +------------+  +------------+  +------------+                       |  |
|  |                                                                        |  |
|  +-----------------------------------------------------------------------+  |
|                                                                              |
+------------------------------------------------------------------------------+
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">2. Key Technologies</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Aspect</th>
                                <th>Technology</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Platform</td>
                                <td>iOS 17.0+</td>
                                <td>~90% device coverage</td>
                            </tr>
                            <tr>
                                <td>Language</td>
                                <td>Swift 5.9</td>
                                <td>Latest stable</td>
                            </tr>
                            <tr>
                                <td>UI Framework</td>
                                <td>SwiftUI</td>
                                <td>Declarative UI</td>
                            </tr>
                            <tr>
                                <td>Concurrency</td>
                                <td>async/await</td>
                                <td>Swift Concurrency</td>
                            </tr>
                            <tr>
                                <td>Storage</td>
                                <td>SwiftData</td>
                                <td>Offline cache</td>
                            </tr>
                            <tr>
                                <td>Secure Storage</td>
                                <td>Keychain</td>
                                <td>Tokens, credentials</td>
                            </tr>
                            <tr>
                                <td>Maps</td>
                                <td>MapKit</td>
                                <td>Apple Maps</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">3. API Client Example</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">Swift</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="keyword">protocol</span> <span class="class-name">APIClientProtocol</span> {
    <span class="keyword">func</span> <span class="function">request</span>&lt;T: <span class="class-name">Decodable</span>&gt;(
        endpoint: <span class="class-name">Endpoint</span>,
        responseType: T.<span class="class-name">Type</span>
    ) <span class="keyword">async throws</span> -> T
}

<span class="keyword">final class</span> <span class="class-name">APIClient</span>: <span class="class-name">APIClientProtocol</span> {
    <span class="keyword">private let</span> session: <span class="class-name">URLSession</span>
    <span class="keyword">private let</span> tokenManager: <span class="class-name">TokenManagerProtocol</span>

    <span class="keyword">func</span> <span class="function">request</span>&lt;T: <span class="class-name">Decodable</span>&gt;(
        endpoint: <span class="class-name">Endpoint</span>,
        responseType: T.<span class="class-name">Type</span>
    ) <span class="keyword">async throws</span> -> T {
        <span class="keyword">var</span> request = <span class="keyword">try</span> endpoint.<span class="function">makeURLRequest</span>()

        <span class="comment">// Add auth token</span>
        <span class="keyword">if let</span> token = tokenManager.accessToken {
            request.<span class="function">setValue</span>(
                <span class="string">"Bearer </span>\(token)<span class="string">"</span>,
                forHTTPHeaderField: <span class="string">"Authorization"</span>
            )
        }

        <span class="keyword">let</span> (data, response) = <span class="keyword">try await</span> session.<span class="function">data</span>(for: request)
        <span class="keyword">return try</span> <span class="class-name">JSONDecoder</span>().<span class="function">decode</span>(T.<span class="keyword">self</span>, from: data)
    }
}</pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">4. ViewModel Example</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">Swift</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="annotation">@MainActor</span>
<span class="keyword">final class</span> <span class="class-name">TransportViewModel</span>: <span class="class-name">ObservableObject</span> {
    <span class="annotation">@Published</span> <span class="keyword">private(set) var</span> vehicles: [<span class="class-name">Vehicle</span>] = []
    <span class="annotation">@Published</span> <span class="keyword">private(set) var</span> isLoading = <span class="keyword">false</span>
    <span class="annotation">@Published</span> <span class="keyword">var</span> error: <span class="class-name">AppError</span>?

    <span class="keyword">private let</span> repository: <span class="class-name">VehicleRepositoryProtocol</span>

    <span class="keyword">init</span>(repository: <span class="class-name">VehicleRepositoryProtocol</span>) {
        <span class="keyword">self</span>.repository = repository
    }

    <span class="keyword">func</span> <span class="function">loadVehicles</span>(filter: <span class="class-name">VehicleFilter</span>) <span class="keyword">async</span> {
        isLoading = <span class="keyword">true</span>
        <span class="keyword">defer</span> { isLoading = <span class="keyword">false</span> }

        <span class="keyword">do</span> {
            vehicles = <span class="keyword">try await</span> repository.<span class="function">getVehicles</span>(filter: filter)
        } <span class="keyword">catch</span> {
            <span class="keyword">self</span>.error = <span class="class-name">AppError</span>(error)
        }
    }
}</pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">5. Networking Layer</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">Swift</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="keyword">protocol</span> <span class="class-name">APIClientProtocol</span> {
    <span class="keyword">func</span> <span class="function">request</span>&lt;T: <span class="class-name">Decodable</span>&gt;(
        endpoint: <span class="class-name">Endpoint</span>,
        responseType: T.<span class="class-name">Type</span>
    ) <span class="keyword">async throws</span> -> T
}

<span class="keyword">final class</span> <span class="class-name">APIClient</span>: <span class="class-name">APIClientProtocol</span> {
    <span class="keyword">private let</span> session: <span class="class-name">URLSession</span>
    <span class="keyword">private let</span> tokenManager: <span class="class-name">TokenManagerProtocol</span>

    <span class="keyword">func</span> <span class="function">request</span>&lt;T: <span class="class-name">Decodable</span>&gt;(
        endpoint: <span class="class-name">Endpoint</span>,
        responseType: T.<span class="class-name">Type</span>
    ) <span class="keyword">async throws</span> -> T {
        <span class="keyword">var</span> request = <span class="keyword">try</span> endpoint.<span class="function">makeURLRequest</span>()

        <span class="comment">// Add auth token</span>
        <span class="keyword">if let</span> token = tokenManager.accessToken {
            request.<span class="function">setValue</span>(
                <span class="string">"Bearer </span>\\(token)<span class="string">"</span>,
                forHTTPHeaderField: <span class="string">"Authorization"</span>
            )
        }

        <span class="keyword">let</span> (data, response) = <span class="keyword">try await</span> session.<span class="function">data</span>(for: request)

        <span class="comment">// Handle HTTP errors</span>
        <span class="keyword">guard let</span> httpResponse = response <span class="keyword">as?</span> <span class="class-name">HTTPURLResponse</span> <span class="keyword">else</span> {
            <span class="keyword">throw</span> <span class="class-name">NetworkError</span>.invalidResponse
        }

        <span class="keyword">switch</span> httpResponse.statusCode {
        <span class="keyword">case</span> 200...299:
            <span class="keyword">return try</span> <span class="class-name">JSONDecoder</span>().<span class="function">decode</span>(T.<span class="keyword">self</span>, from: data)
        <span class="keyword">case</span> 401:
            <span class="keyword">throw</span> <span class="class-name">NetworkError</span>.unauthorized
        <span class="keyword">case</span> 429:
            <span class="keyword">throw</span> <span class="class-name">NetworkError</span>.rateLimited
        <span class="keyword">default</span>:
            <span class="keyword">throw</span> <span class="class-name">NetworkError</span>.serverError(httpResponse.statusCode)
        }
    }
}</pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">6. SSL Pinning</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">Swift</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="keyword">final class</span> <span class="class-name">SSLPinningDelegate</span>: <span class="class-name">NSObject</span>, <span class="class-name">URLSessionDelegate</span> {

    <span class="keyword">private let</span> pinnedCertificates: [<span class="class-name">Data</span>]

    <span class="keyword">func</span> <span class="function">urlSession</span>(
        _ session: <span class="class-name">URLSession</span>,
        didReceive challenge: <span class="class-name">URLAuthenticationChallenge</span>,
        completionHandler: @escaping (<span class="class-name">URLSession</span>.<span class="class-name">AuthChallengeDisposition</span>, <span class="class-name">URLCredential</span>?) -> <span class="class-name">Void</span>
    ) {
        <span class="keyword">guard</span> challenge.protectionSpace.authenticationMethod == <span class="class-name">NSURLAuthenticationMethodServerTrust</span>,
              <span class="keyword">let</span> serverTrust = challenge.protectionSpace.serverTrust,
              <span class="keyword">let</span> certificate = <span class="class-name">SecTrustGetCertificateAtIndex</span>(serverTrust, 0)
        <span class="keyword">else</span> {
            completionHandler(.cancelAuthenticationChallenge, <span class="keyword">nil</span>)
            <span class="keyword">return</span>
        }

        <span class="keyword">let</span> serverCertData = <span class="class-name">SecCertificateCopyData</span>(certificate) <span class="keyword">as</span> <span class="class-name">Data</span>

        <span class="keyword">if</span> pinnedCertificates.contains(serverCertData) {
            completionHandler(.useCredential, <span class="class-name">URLCredential</span>(trust: serverTrust))
        } <span class="keyword">else</span> {
            completionHandler(.cancelAuthenticationChallenge, <span class="keyword">nil</span>)
        }
    }
}</pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">7. Keychain Manager</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">Swift</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="keyword">protocol</span> <span class="class-name">TokenManagerProtocol</span> {
    <span class="keyword">var</span> accessToken: <span class="class-name">String</span>? { <span class="keyword">get</span> }
    <span class="keyword">var</span> refreshToken: <span class="class-name">String</span>? { <span class="keyword">get</span> }
    <span class="keyword">func</span> <span class="function">save</span>(accessToken: <span class="class-name">String</span>, refreshToken: <span class="class-name">String</span>)
    <span class="keyword">func</span> <span class="function">clear</span>()
}

<span class="keyword">final class</span> <span class="class-name">KeychainTokenManager</span>: <span class="class-name">TokenManagerProtocol</span> {

    <span class="keyword">private let</span> accessTokenKey = <span class="string">"com.phuketapp.accessToken"</span>
    <span class="keyword">private let</span> refreshTokenKey = <span class="string">"com.phuketapp.refreshToken"</span>

    <span class="keyword">var</span> accessToken: <span class="class-name">String</span>? {
        <span class="function">read</span>(key: accessTokenKey)
    }

    <span class="keyword">var</span> refreshToken: <span class="class-name">String</span>? {
        <span class="function">read</span>(key: refreshTokenKey)
    }

    <span class="keyword">func</span> <span class="function">save</span>(accessToken: <span class="class-name">String</span>, refreshToken: <span class="class-name">String</span>) {
        <span class="function">write</span>(accessToken, key: accessTokenKey)
        <span class="function">write</span>(refreshToken, key: refreshTokenKey)
    }

    <span class="keyword">func</span> <span class="function">clear</span>() {
        <span class="function">delete</span>(key: accessTokenKey)
        <span class="function">delete</span>(key: refreshTokenKey)
    }

    <span class="keyword">private func</span> <span class="function">write</span>(_ value: <span class="class-name">String</span>, key: <span class="class-name">String</span>) {
        <span class="keyword">guard let</span> data = value.<span class="function">data</span>(using: .utf8) <span class="keyword">else</span> { <span class="keyword">return</span> }
        <span class="keyword">let</span> query: [<span class="class-name">String</span>: <span class="class-name">Any</span>] = [
            kSecClass <span class="keyword">as</span> <span class="class-name">String</span>: kSecClassGenericPassword,
            kSecAttrAccount <span class="keyword">as</span> <span class="class-name">String</span>: key,
            kSecValueData <span class="keyword">as</span> <span class="class-name">String</span>: data,
            kSecAttrAccessible <span class="keyword">as</span> <span class="class-name">String</span>: kSecAttrAccessibleWhenUnlockedThisDeviceOnly
        ]
        <span class="class-name">SecItemDelete</span>(query <span class="keyword">as</span> <span class="class-name">CFDictionary</span>)
        <span class="class-name">SecItemAdd</span>(query <span class="keyword">as</span> <span class="class-name">CFDictionary</span>, <span class="keyword">nil</span>)
    }
}</pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">8. DI Container</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">Swift</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="keyword">final class</span> <span class="class-name">DependencyContainer</span> {

    <span class="keyword">static let</span> shared = <span class="class-name">DependencyContainer</span>()

    <span class="comment">// Core</span>
    <span class="keyword">lazy var</span> tokenManager: <span class="class-name">TokenManagerProtocol</span> = <span class="class-name">KeychainTokenManager</span>()
    <span class="keyword">lazy var</span> apiClient: <span class="class-name">APIClientProtocol</span> = <span class="class-name">APIClient</span>(tokenManager: tokenManager)

    <span class="comment">// Repositories</span>
    <span class="keyword">lazy var</span> vehicleRepository: <span class="class-name">VehicleRepositoryProtocol</span> =
        <span class="class-name">NetworkVehicleRepository</span>(apiClient: apiClient)

    <span class="keyword">lazy var</span> propertyRepository: <span class="class-name">PropertyRepositoryProtocol</span> =
        <span class="class-name">NetworkPropertyRepository</span>(apiClient: apiClient)

    <span class="keyword">lazy var</span> authRepository: <span class="class-name">AuthRepositoryProtocol</span> =
        <span class="class-name">NetworkAuthRepository</span>(apiClient: apiClient, tokenManager: tokenManager)

    <span class="comment">// ViewModels</span>
    <span class="keyword">func</span> <span class="function">makeTransportViewModel</span>() -> <span class="class-name">TransportViewModel</span> {
        <span class="class-name">TransportViewModel</span>(repository: vehicleRepository)
    }

    <span class="keyword">func</span> <span class="function">makeAuthViewModel</span>() -> <span class="class-name">AuthViewModel</span> {
        <span class="class-name">AuthViewModel</span>(repository: authRepository)
    }
}</pre>
                </div>
            </div>
        `
        }
    },

    // ========================================================================
    // iOS ADR
    // ========================================================================
    'ios-adr': {
        title: 'ADR (–†–µ—à–µ–Ω–∏—è)',
        icon: null,
        platform: 'ios',
        breadcrumb: ['–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', 'iOS / SwiftUI', 'ADR'],
        description: '–ó–∞–ø–∏—Å–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –¥–ª—è iOS',
        levels: {
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // QUICK - –ö—Ä–∞—Ç–∫–∞—è –≤—ã–∂–∏–º–∫–∞
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            quick: `
            <div class="section">
                <h2 class="section-title">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è iOS</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>ADR</th>
                                <th>–†–µ—à–µ–Ω–∏–µ</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>ADR-001</strong></td>
                                <td>SwiftUI for UI Framework</td>
                                <td><span class="status-badge success">Accepted</span></td>
                            </tr>
                            <tr>
                                <td><strong>ADR-002</strong></td>
                                <td>MVVM + Repository Pattern</td>
                                <td><span class="status-badge success">Accepted</span></td>
                            </tr>
                            <tr>
                                <td><strong>ADR-003</strong></td>
                                <td>SSL Certificate Pinning</td>
                                <td><span class="status-badge success">Accepted</span></td>
                            </tr>
                            <tr>
                                <td><strong>ADR-004</strong></td>
                                <td>SwiftData for Local Storage</td>
                                <td><span class="status-badge success">Accepted</span></td>
                            </tr>
                            <tr>
                                <td><strong>ADR-005</strong></td>
                                <td>Keychain for Secure Storage</td>
                                <td><span class="status-badge success">Accepted</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">–ö–ª—é—á–µ–≤—ã–µ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è</h2>
                <ul>
                    <li>–ú–∏–Ω–∏–º—É–º iOS 17+ (–æ—Ç—Å–µ–∫–∞–µ—Ç ~10% —É—Å—Ç—Ä–æ–π—Å—Ç–≤)</li>
                    <li>Android —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (Kotlin)</li>
                    <li>–ö–æ–º–∞–Ω–¥–∞ –¥–æ–ª–∂–Ω–∞ –∑–Ω–∞—Ç—å Swift + SwiftUI</li>
                    <li>–ù–∞—Ç–∏–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Apple Maps</li>
                </ul>
            </div>
            `,

            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // MEDIUM - –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            medium: `
            <div class="section">
                <h2 class="section-title">ADR-001: SwiftUI for iOS Development</h2>

                <div class="callout info">
                    <span class="callout-icon">‚úÖ</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Accepted</div>
                    </div>
                </div>

                <h3 class="section-subtitle">Options Considered</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Option</th>
                                <th>Pros</th>
                                <th>Cons</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>SwiftUI</strong></td>
                                <td>Declarative, native, less code</td>
                                <td>iOS 17+ required</td>
                            </tr>
                            <tr>
                                <td>UIKit</td>
                                <td>Mature, full customization</td>
                                <td>More boilerplate</td>
                            </tr>
                            <tr>
                                <td>React Native</td>
                                <td>Cross-platform</td>
                                <td>Not native, performance</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <p><strong>Decision:</strong> SwiftUI selected. Native iOS experience critical for tourist app.</p>
            </div>

            <div class="section">
                <h2 class="section-title">ADR-002: MVVM Architecture</h2>

                <div class="callout info">
                    <span class="callout-icon">‚úÖ</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Accepted</div>
                    </div>
                </div>

                <p><strong>Decision:</strong> MVVM + Repository Pattern</p>
                <ul>
                    <li>Natural fit with SwiftUI's @StateObject/@Published</li>
                    <li>Clear separation of concerns</li>
                    <li>Testable ViewModels with mock repositories</li>
                </ul>
            </div>

            <div class="section">
                <h2 class="section-title">ADR-003: SSL Certificate Pinning</h2>

                <div class="callout info">
                    <span class="callout-icon">‚úÖ</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Accepted</div>
                    </div>
                </div>

                <p><strong>Decision:</strong> Implement SSL Certificate Pinning</p>
                <ul>
                    <li>Prevents MITM attacks</li>
                    <li>Protects user credentials and payment data</li>
                    <li>Uses public key pinning for rotation flexibility</li>
                </ul>
            </div>
            `,

            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // FULL - –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            full: `
            <div class="section">
                <h2 class="section-title">Architecture Decision Records</h2>
                <p>Key architectural decisions made for iOS development:</p>
            </div>

            <div class="section">
                <h2 class="section-title">ADR-001: SwiftUI for iOS Development</h2>

                <div class="callout info">
                    <span class="callout-icon">‚úÖ</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Accepted</div>
                        <div class="callout-text">December 12, 2025</div>
                    </div>
                </div>

                <h3 class="section-subtitle">Context</h3>
                <p>Need to choose UI framework for iOS app. Requirements:</p>
                <ul>
                    <li>Native look & feel</li>
                    <li>High performance</li>
                    <li>Modern iOS features support</li>
                    <li>Developer productivity</li>
                </ul>

                <h3 class="section-subtitle">Options Considered</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Option</th>
                                <th>Pros</th>
                                <th>Cons</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>SwiftUI</strong></td>
                                <td>Declarative, native, less code, Live Preview</td>
                                <td>iOS 17+ required</td>
                            </tr>
                            <tr>
                                <td>UIKit</td>
                                <td>Mature, full customization, supports older iOS</td>
                                <td>More boilerplate, imperative</td>
                            </tr>
                            <tr>
                                <td>React Native</td>
                                <td>Cross-platform, large community</td>
                                <td>Not native, performance overhead, JS bridge</td>
                            </tr>
                            <tr>
                                <td>Flutter</td>
                                <td>Cross-platform, fast dev, good UI toolkit</td>
                                <td>Not native UI, Dart, large app size</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3 class="section-subtitle">Decision</h3>
                <p><strong>SwiftUI</strong> selected as primary UI framework.</p>

                <h3 class="section-subtitle">Rationale</h3>
                <ol>
                    <li><strong>Target audience:</strong> Tourists with modern iPhones (iOS 17+ covers ~90%)</li>
                    <li><strong>User Experience:</strong> Native iOS look & feel critical for tourist app</li>
                    <li><strong>Performance:</strong> Best for map/scroll-intensive application</li>
                    <li><strong>Integration:</strong> Native Apple Maps, Keychain, Push Notifications</li>
                    <li><strong>Productivity:</strong> Declarative UI accelerates development</li>
                </ol>

                <h3 class="section-subtitle">Consequences</h3>
                <ul>
                    <li>Requires iOS 17+ (drops ~10% of old devices)</li>
                    <li>Android version requires separate Kotlin development</li>
                    <li>Team must know Swift and SwiftUI</li>
                </ul>
            </div>

            <div class="section">
                <h2 class="section-title">ADR-002: MVVM Architecture</h2>

                <div class="callout info">
                    <span class="callout-icon">‚úÖ</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Accepted</div>
                        <div class="callout-text">December 12, 2025</div>
                    </div>
                </div>

                <h3 class="section-subtitle">Context</h3>
                <p>Choose architectural pattern for iOS app. Requirements: testability, separation of concerns, SwiftUI compatibility.</p>

                <h3 class="section-subtitle">Options Considered</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Option</th>
                                <th>Pros</th>
                                <th>Cons</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>MVVM + Repository</strong></td>
                                <td>Natural for SwiftUI, testable, clear layers</td>
                                <td>Additional abstraction layer</td>
                            </tr>
                            <tr>
                                <td>MVC</td>
                                <td>Simple, less code</td>
                                <td>Massive View Controller, hard to test</td>
                            </tr>
                            <tr>
                                <td>VIPER</td>
                                <td>Strict separation, very testable</td>
                                <td>Too much boilerplate, overkill</td>
                            </tr>
                            <tr>
                                <td>TCA</td>
                                <td>Unidirectional, composable</td>
                                <td>Steep learning curve, external dependency</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3 class="section-subtitle">Decision</h3>
                <p><strong>MVVM + Repository Pattern</strong> selected for iOS architecture.</p>

                <h3 class="section-subtitle">Rationale</h3>
                <ul>
                    <li>Natural fit with SwiftUI's @StateObject/@Published</li>
                    <li>Clear separation of concerns</li>
                    <li>Testable ViewModels with mock repositories</li>
                    <li>Repository pattern abstracts data sources (network/cache)</li>
                    <li>Team familiarity with MVVM</li>
                </ul>

                <h3 class="section-subtitle">Architecture</h3>
                <div class="diagram-block">
                    <pre>
View (SwiftUI)
    ‚Üì @StateObject
ViewModel (ObservableObject)
    ‚Üì Dependency Injection
Repository (Protocol)
    ‚Üì
NetworkManager / CacheManager
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">ADR-003: SSL Certificate Pinning</h2>

                <div class="callout info">
                    <span class="callout-icon">‚úÖ</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Accepted</div>
                        <div class="callout-text">December 12, 2025</div>
                    </div>
                </div>

                <h3 class="section-subtitle">Context</h3>
                <p>App handles sensitive user data (credentials, payment info, location). Need to protect API communication.</p>

                <h3 class="section-subtitle">Decision</h3>
                <p>Implement <strong>SSL Certificate Pinning</strong> for all API requests.</p>

                <h3 class="section-subtitle">Rationale</h3>
                <ul>
                    <li>Prevents Man-in-the-Middle (MITM) attacks</li>
                    <li>Protects user credentials and payment data</li>
                    <li>Required for financial transactions</li>
                    <li>Uses public key pinning for rotation flexibility</li>
                </ul>

                <h3 class="section-subtitle">Implementation</h3>
                <ul>
                    <li>Custom URLSessionDelegate with certificate validation</li>
                    <li>Pin public key (not certificate) for easier rotation</li>
                    <li>Backup pins for certificate rotation</li>
                    <li>Fail-closed: reject connections on pin mismatch</li>
                </ul>
            </div>

            <div class="section">
                <h2 class="section-title">ADR-004: SwiftData for Local Storage</h2>

                <div class="callout info">
                    <span class="callout-icon">‚úÖ</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Accepted</div>
                        <div class="callout-text">December 12, 2025</div>
                    </div>
                </div>

                <h3 class="section-subtitle">Decision</h3>
                <p>Use <strong>SwiftData</strong> for offline caching and local data persistence.</p>

                <h3 class="section-subtitle">Rationale</h3>
                <ul>
                    <li>Native Apple framework, optimized for SwiftUI</li>
                    <li>Automatic CloudKit sync capability</li>
                    <li>Type-safe with Swift macros</li>
                    <li>Simpler than Core Data</li>
                </ul>
            </div>

            <div class="section">
                <h2 class="section-title">ADR-005: Keychain for Secure Storage</h2>

                <div class="callout info">
                    <span class="callout-icon">‚úÖ</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Accepted</div>
                        <div class="callout-text">December 12, 2025</div>
                    </div>
                </div>

                <h3 class="section-subtitle">Decision</h3>
                <p>Store sensitive data (tokens, credentials) in <strong>iOS Keychain</strong>.</p>

                <h3 class="section-subtitle">Rationale</h3>
                <ul>
                    <li>Hardware-backed encryption on Secure Enclave</li>
                    <li>Data survives app reinstall</li>
                    <li>Access control (biometric, passcode)</li>
                    <li>Industry standard for mobile security</li>
                </ul>
            </div>
        `
        }
    },

    // ========================================================================
    // iOS RFC
    // ========================================================================
    'ios-rfc': {
        title: 'RFC (–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)',
        icon: null,
        platform: 'ios',
        breadcrumb: ['–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', 'iOS / SwiftUI', 'RFC'],
        description: 'Request for Comments - –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è iOS',
        levels: {
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // QUICK - –ö—Ä–∞—Ç–∫–∞—è –≤—ã–∂–∏–º–∫–∞
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            quick: `
            <div class="section">
                <h2 class="section-title">–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ iOS</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>RFC</th>
                                <th>–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>RFC-001</strong></td>
                                <td>Online Payments (Stripe)</td>
                                <td><span class="status-badge warning">Draft</span></td>
                            </tr>
                            <tr>
                                <td><strong>RFC-002</strong></td>
                                <td>Push Notifications</td>
                                <td><span class="status-badge warning">Draft</span></td>
                            </tr>
                            <tr>
                                <td><strong>RFC-003</strong></td>
                                <td>Offline Mode</td>
                                <td><span class="status-badge warning">Draft</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç</h2>
                <ul>
                    <li><strong>Payments:</strong> Reduce no-show from 15% to 5%</li>
                    <li><strong>Push:</strong> Increase engagement and retention</li>
                    <li><strong>Offline:</strong> Better tourist experience in areas with poor connectivity</li>
                </ul>
            </div>
            `,

            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // MEDIUM - –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            medium: `
            <div class="section">
                <h2 class="section-title">RFC-001: Online Payments</h2>

                <div class="callout warning">
                    <span class="callout-icon">üìù</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Draft</div>
                    </div>
                </div>

                <p><strong>Summary:</strong> Add online payment via Stripe with credit cards and PromptPay.</p>
                <p><strong>Expected:</strong> Reduce no-show from 15% to 5%, increase conversion.</p>
                <p><strong>Recommendation:</strong> Stripe - best documentation and SDK quality.</p>
            </div>

            <div class="section">
                <h2 class="section-title">RFC-002: Push Notifications</h2>

                <div class="callout warning">
                    <span class="callout-icon">üìù</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Draft</div>
                    </div>
                </div>

                <p><strong>Types:</strong> Booking confirmation, reminders (24h, 2h), return reminders, offers, weather alerts.</p>
            </div>

            <div class="section">
                <h2 class="section-title">RFC-003: Offline Mode</h2>

                <div class="callout warning">
                    <span class="callout-icon">üìù</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Draft</div>
                    </div>
                </div>

                <p><strong>Features:</strong> View bookings, QR codes, cached details, currency converter, offline maps.</p>
            </div>
            `,

            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // FULL - –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            full: `
            <div class="section">
                <h2 class="section-title">Request for Comments</h2>
                <p>Proposed features and improvements under discussion:</p>
            </div>

            <div class="section">
                <h2 class="section-title">RFC-001: Online Payments</h2>

                <div class="callout warning">
                    <span class="callout-icon">üìù</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Draft</div>
                        <div class="callout-text">Comment deadline: December 26, 2025</div>
                    </div>
                </div>

                <h3 class="section-subtitle">Summary</h3>
                <p>Add online payment for bookings via Stripe with credit cards and local Thai payment methods (PromptPay, bank transfer).</p>

                <h3 class="section-subtitle">Motivation</h3>
                <ul>
                    <li>Current: Bookings created without payment</li>
                    <li>High no-show rate (~15%)</li>
                    <li>No guarantee for partners</li>
                </ul>

                <h3 class="section-subtitle">Expected Improvements</h3>
                <ul>
                    <li>Reduce no-show to 5%</li>
                    <li>Increase conversion (instant booking)</li>
                    <li>Automatic revenue tracking</li>
                    <li>Partial prepayment option</li>
                </ul>

                <h3 class="section-subtitle">Payment Provider Comparison</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Criteria</th>
                                <th>Stripe</th>
                                <th>2C2P</th>
                                <th>Omise</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>International cards</td>
                                <td>Yes</td>
                                <td>Yes</td>
                                <td>Yes</td>
                            </tr>
                            <tr>
                                <td>PromptPay</td>
                                <td>Yes</td>
                                <td>Yes</td>
                                <td>Yes</td>
                            </tr>
                            <tr>
                                <td>API quality</td>
                                <td>Excellent</td>
                                <td>Good</td>
                                <td>Very Good</td>
                            </tr>
                            <tr>
                                <td>Commission</td>
                                <td>3.4% + $0.25</td>
                                <td>2.9%</td>
                                <td>3.65%</td>
                            </tr>
                            <tr>
                                <td>iOS SDK</td>
                                <td>Yes</td>
                                <td>Yes</td>
                                <td>Yes</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3 class="section-subtitle">Recommendation</h3>
                <p><strong>Stripe</strong> - best documentation, developer experience, and SDK quality.</p>
            </div>

            <div class="section">
                <h2 class="section-title">RFC-002: Push Notifications</h2>

                <div class="callout warning">
                    <span class="callout-icon">üìù</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Draft</div>
                        <div class="callout-text">Comment deadline: December 26, 2025</div>
                    </div>
                </div>

                <h3 class="section-subtitle">Proposed Notification Types</h3>
                <ul>
                    <li>Booking confirmation</li>
                    <li>Booking reminders (24h, 2h before)</li>
                    <li>Rental return reminders</li>
                    <li>Special offers and promotions</li>
                    <li>Weather alerts</li>
                </ul>

                <h3 class="section-subtitle">Implementation</h3>
                <ul>
                    <li>Apple Push Notification Service (APNs)</li>
                    <li>Firebase Cloud Messaging as intermediary</li>
                    <li>Rich notifications with images</li>
                    <li>Deep linking to relevant screens</li>
                </ul>
            </div>

            <div class="section">
                <h2 class="section-title">RFC-003: Offline Mode</h2>

                <div class="callout warning">
                    <span class="callout-icon">üìù</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Draft</div>
                        <div class="callout-text">Comment deadline: December 26, 2025</div>
                    </div>
                </div>

                <h3 class="section-subtitle">Summary</h3>
                <p>Enable core app functionality without internet connection using SwiftData for local caching.</p>

                <h3 class="section-subtitle">Offline Features</h3>
                <ul>
                    <li>View active bookings</li>
                    <li>Access booking QR codes</li>
                    <li>View cached property/vehicle details</li>
                    <li>Currency converter (cached rates)</li>
                    <li>Offline maps (saved areas)</li>
                </ul>

                <h3 class="section-subtitle">Sync Strategy</h3>
                <ul>
                    <li>Background sync when connectivity restored</li>
                    <li>Conflict resolution: server wins</li>
                    <li>Delta sync for efficiency</li>
                    <li>User notification on sync completion</li>
                </ul>
            </div>
        `
        }
    },

    // ========================================================================
    // ANDROID ARCHITECTURE
    // ========================================================================
    'android-arch': {
        title: '–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞',
        icon: null,
        platform: 'android',
        breadcrumb: ['–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', 'Android / Kotlin', '–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞'],
        description: '–û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã Android –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è',
        levels: {
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // QUICK - –ö—Ä–∞—Ç–∫–∞—è –≤—ã–∂–∏–º–∫–∞
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            quick: `
            <div class="section">
                <h2 class="section-title">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ Android</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Aspect</th>
                                <th>Technology</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td><strong>Platform</strong></td><td>Android 8.0+ (API 26+)</td></tr>
                            <tr><td><strong>Language</strong></td><td>Kotlin 1.9+</td></tr>
                            <tr><td><strong>UI</strong></td><td>Jetpack Compose</td></tr>
                            <tr><td><strong>Architecture</strong></td><td>MVVM + Clean Architecture</td></tr>
                            <tr><td><strong>Network</strong></td><td>Retrofit 2 + OkHttp + Coroutines</td></tr>
                            <tr><td><strong>DI</strong></td><td>Hilt (Dagger)</td></tr>
                            <tr><td><strong>Storage</strong></td><td>Room + DataStore + EncryptedSharedPreferences</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">–ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</h2>
                <div class="cards-grid">
                    <div class="card card-expandable" onclick="toggleCardExpand(this)">
                        <span class="card-icon">üèóÔ∏è</span>
                        <h3 class="card-title">Clean Architecture</h3>
                        <p class="card-description">Presentation ‚Üí Domain ‚Üí Data layers</p>
                        <div class="card-expand-content">
                            <div class="expand-details">
                                <h4>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–ª–æ—ë–≤:</h4>
                                <pre>presentation/   # UI + ViewModels
‚îú‚îÄ‚îÄ ui/         # Composable functions
‚îî‚îÄ‚îÄ viewmodel/  # State holders

domain/         # Business logic
‚îú‚îÄ‚îÄ model/      # Domain entities
‚îú‚îÄ‚îÄ usecase/    # Use cases
‚îî‚îÄ‚îÄ repository/ # Repository interfaces

data/           # Data sources
‚îú‚îÄ‚îÄ remote/     # API calls
‚îú‚îÄ‚îÄ local/      # Room DB
‚îî‚îÄ‚îÄ repository/ # Repository implementations</pre>
                                <p><strong>–ü—Ä–∏–Ω—Ü–∏–ø:</strong> –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –≤–Ω—É—Ç—Ä—å, domain –Ω–µ –∑–Ω–∞–µ—Ç –æ data</p>
                            </div>
                        </div>
                    </div>
                    <div class="card card-expandable" onclick="toggleCardExpand(this)">
                        <span class="card-icon">üîÑ</span>
                        <h3 class="card-title">StateFlow + UDF</h3>
                        <p class="card-description">Unidirectional data flow with StateFlow</p>
                        <div class="card-expand-content">
                            <div class="expand-details">
                                <h4>–ü–∞—Ç—Ç–µ—Ä–Ω MVI:</h4>
                                <pre>class VehiclesViewModel @Inject constructor(
    private val getVehiclesUseCase: GetVehiclesUseCase
) : ViewModel() {

    private val _state = MutableStateFlow(UiState())
    val state: StateFlow&lt;UiState&gt; = _state.asStateFlow()

    fun onEvent(event: UiEvent) {
        when (event) {
            is UiEvent.LoadVehicles -> loadVehicles()
            is UiEvent.SelectVehicle -> selectVehicle(event.id)
        }
    }
}</pre>
                                <p><strong>Flow:</strong> UI Event ‚Üí ViewModel ‚Üí State Update ‚Üí UI Recompose</p>
                            </div>
                        </div>
                    </div>
                    <div class="card card-expandable" onclick="toggleCardExpand(this)">
                        <span class="card-icon">üíâ</span>
                        <h3 class="card-title">Hilt DI</h3>
                        <p class="card-description">Compile-time dependency injection</p>
                        <div class="card-expand-content">
                            <div class="expand-details">
                                <h4>–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–¥—É–ª—è:</h4>
                                <pre>@Module
@InstallIn(SingletonComponent::class)
object NetworkModule {

    @Provides
    @Singleton
    fun provideRetrofit(): Retrofit = Retrofit.Builder()
        .baseUrl(BuildConfig.API_URL)
        .addConverterFactory(MoshiConverterFactory.create())
        .build()

    @Provides
    fun provideVehicleApi(retrofit: Retrofit): VehicleApi =
        retrofit.create(VehicleApi::class.java)
}</pre>
                                <p><strong>Scopes:</strong> @Singleton, @ActivityScoped, @ViewModelScoped</p>
                            </div>
                        </div>
                    </div>
                    <div class="card card-expandable" onclick="toggleCardExpand(this)">
                        <span class="card-icon">üì¶</span>
                        <h3 class="card-title">Multi-module</h3>
                        <p class="card-description">Feature-based module organization</p>
                        <div class="card-expand-content">
                            <div class="expand-details">
                                <h4>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–¥—É–ª–µ–π:</h4>
                                <pre>:app                    # Main application
:core
‚îú‚îÄ‚îÄ :core:network       # API client
‚îú‚îÄ‚îÄ :core:database      # Room DB
‚îú‚îÄ‚îÄ :core:ui            # Design system
‚îî‚îÄ‚îÄ :core:common        # Shared utilities
:feature
‚îú‚îÄ‚îÄ :feature:transport  # Vehicle rental
‚îú‚îÄ‚îÄ :feature:booking    # Booking flow
‚îú‚îÄ‚îÄ :feature:profile    # User profile
‚îî‚îÄ‚îÄ :feature:auth       # Authentication</pre>
                                <p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong> –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞, –∏–∑–æ–ª—è—Ü–∏—è, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            `,

            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // MEDIUM - –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            medium: `
            <div class="section">
                <h2 class="section-title">1. Platform & Technologies</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Aspect</th>
                                <th>Technology</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td><strong>Platform</strong></td><td>Android 8.0+ (API 26+)</td></tr>
                            <tr><td><strong>Language</strong></td><td>Kotlin 1.9+</td></tr>
                            <tr><td><strong>UI Framework</strong></td><td>Jetpack Compose</td></tr>
                            <tr><td><strong>Architecture</strong></td><td>MVVM + Clean Architecture</td></tr>
                            <tr><td><strong>Network</strong></td><td>Retrofit 2 + OkHttp + Coroutines</td></tr>
                            <tr><td><strong>DI</strong></td><td>Hilt (Dagger)</td></tr>
                            <tr><td><strong>Storage</strong></td><td>Room + DataStore + EncryptedSharedPreferences</td></tr>
                            <tr><td><strong>Navigation</strong></td><td>Navigation Compose</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">2. Clean Architecture</h2>
                <div class="diagram-block">
                    <pre>
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      ANDROID ARCHITECTURE OVERVIEW                           ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                              ‚îÇ
‚îÇ   PRESENTATION LAYER (Jetpack Compose)                                      ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ HomeScreen, TransportScreen, ToursScreen                              ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ viewModel (hiltViewModel)                                             ‚îÇ
‚îÇ                    ‚îÇ                                                         ‚îÇ
‚îÇ                    ‚îÇ StateFlow + Events                                      ‚îÇ
‚îÇ                    ‚ñº                                                         ‚îÇ
‚îÇ   VIEWMODEL LAYER                                                           ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ HomeViewModel, TransportViewModel                                     ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ _uiState: StateFlow<UiState>                                          ‚îÇ
‚îÇ                    ‚îÇ                                                         ‚îÇ
‚îÇ                    ‚îÇ UseCase Injection                                       ‚îÇ
‚îÇ                    ‚ñº                                                         ‚îÇ
‚îÇ   DOMAIN LAYER                                                              ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ UseCases: GetVehiclesUseCase, CreateBookingUseCase                    ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ Repository Interfaces                                                 ‚îÇ
‚îÇ                    ‚îÇ                                                         ‚îÇ
‚îÇ                    ‚ñº                                                         ‚îÇ
‚îÇ   DATA LAYER                                                                ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ Repository Impl                                                       ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ Remote DataSource (Retrofit)                                          ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ Local DataSource (Room)                                               ‚îÇ
‚îÇ                                                                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">3. Module Structure</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">Project Structure</span>
                    </div>
                    <pre>
PhuketApp/
‚îú‚îÄ‚îÄ app/                    # Main application module
‚îú‚îÄ‚îÄ core/                   # Core modules (network, database, security)
‚îú‚îÄ‚îÄ domain/                 # Domain layer (models, usecases, repositories)
‚îú‚îÄ‚îÄ data/                   # Data layer (implementations)
‚îú‚îÄ‚îÄ feature/                # Feature modules (home, transport, tours...)
‚îî‚îÄ‚îÄ designsystem/           # Design system (theme, components)
                    </pre>
                </div>
            </div>
            `,

            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // FULL - –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            full: `
            <div class="section">
                <h2 class="section-title">1. Platform & Technologies</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Aspect</th>
                                <th>Technology</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Platform</strong></td>
                                <td>Android 8.0+ (API 26+)</td>
                            </tr>
                            <tr>
                                <td><strong>Language</strong></td>
                                <td>Kotlin 1.9+</td>
                            </tr>
                            <tr>
                                <td><strong>UI Framework</strong></td>
                                <td>Jetpack Compose</td>
                            </tr>
                            <tr>
                                <td><strong>Architecture</strong></td>
                                <td>MVVM + Clean Architecture</td>
                            </tr>
                            <tr>
                                <td><strong>Network</strong></td>
                                <td>Retrofit 2 + OkHttp + Coroutines</td>
                            </tr>
                            <tr>
                                <td><strong>DI</strong></td>
                                <td>Hilt (Dagger)</td>
                            </tr>
                            <tr>
                                <td><strong>Storage</strong></td>
                                <td>Room + DataStore + EncryptedSharedPreferences</td>
                            </tr>
                            <tr>
                                <td><strong>Navigation</strong></td>
                                <td>Navigation Compose</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">2. Clean Architecture</h2>
                <div class="diagram-block">
                    <pre>
+-----------------------------------------------------------------------------+
|                      ANDROID ARCHITECTURE OVERVIEW                           |
+-----------------------------------------------------------------------------+
|                                                                              |
|  +-----------------------------------------------------------------------+  |
|  |                    PRESENTATION LAYER                                  |  |
|  |                     (Jetpack Compose)                                  |  |
|  |                                                                        |  |
|  |  +------------+  +------------+  +------------+                       |  |
|  |  | HomeScreen |  |TransportScr|  | ToursScreen|  ...                 |  |
|  |  |            |  |            |  |            |                       |  |
|  |  | viewModel  |  | viewModel  |  | viewModel  |                       |  |
|  |  |(hiltViewModel)|(hiltViewModel)|(hiltViewModel)|                    |  |
|  |  +-----+------+  +-----+------+  +-----+------+                       |  |
|  |        |               |               |                               |  |
|  +--------+---------------+---------------+-------------------------------+  |
|           |               |               |                                  |
|           |   StateFlow   |               |                                  |
|           |   + Events    |               |                                  |
|           v               v               v                                  |
|  +-----------------------------------------------------------------------+  |
|  |                      VIEWMODEL LAYER                                   |  |
|  |                                                                        |  |
|  |  +------------+  +------------+  +------------+                       |  |
|  |  |HomeViewModel| |TransportVM |  |ToursViewModel|  ...               |  |
|  |  |            |  |            |  |            |                       |  |
|  |  | _uiState   |  | _uiState   |  | _uiState   |                       |  |
|  |  | StateFlow  |  | StateFlow  |  | StateFlow  |                       |  |
|  |  +-----+------+  +-----+------+  +-----+------+                       |  |
|  |        |               |               |                               |  |
|  +--------+---------------+---------------+-------------------------------+  |
|           |               |               |                                  |
|           |   UseCase     |               |                                  |
|           |   Injection   |               |                                  |
|           v               v               v                                  |
|  +-----------------------------------------------------------------------+  |
|  |                       DOMAIN LAYER                                     |  |
|  |                                                                        |  |
|  |  UseCases: GetVehiclesUseCase, GetPropertiesUseCase, CreateBooking...  |  |
|  |                                                                        |  |
|  |  Repository Interfaces: VehicleRepository, PropertyRepository...       |  |
|  |                                                                        |  |
|  +-----------------------------------------------------------------------+  |
|                               |                                              |
|                               v                                              |
|  +-----------------------------------------------------------------------+  |
|  |                        DATA LAYER                                      |  |
|  |                                                                        |  |
|  |  +------------+  +------------+  +------------+                       |  |
|  |  | Repository |  |  Remote    |  |   Local    |                       |  |
|  |  |   Impl     |  | DataSource |  | DataSource |                       |  |
|  |  |            |  | (Retrofit) |  |  (Room)    |                       |  |
|  |  +------------+  +------------+  +------------+                       |  |
|  |                                                                        |  |
|  +-----------------------------------------------------------------------+  |
|                                                                              |
+------------------------------------------------------------------------------+
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">3. Module Structure</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">Kotlin Project Structure</span>
                    </div>
                    <pre>
PhuketApp/
|
+-- app/                    # Main application module
|   +-- src/main/
|       +-- java/com/phuketapp/
|           +-- PhuketApplication.kt  # @HiltAndroidApp
|           +-- MainActivity.kt       # Single Activity
|           +-- MainNavGraph.kt       # Navigation
|
+-- core/                   # Core modules
|   +-- common/             # Shared utilities
|   +-- network/            # Retrofit, OkHttp, SSL Pinning
|   +-- database/           # Room database
|   +-- datastore/          # DataStore preferences
|   +-- security/           # Encryption
|
+-- domain/                 # Domain layer
|   +-- model/              # Domain models
|   +-- repository/         # Repository interfaces
|   +-- usecase/            # Use cases
|
+-- feature/                # Feature modules
    +-- home/
    +-- transport/
    +-- property/
    +-- tours/
    +-- profile/
    +-- auth/
    +-- ai_chat/
    +-- currency/
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">4. Device Support</h2>
                <div class="diagram-block">
                    <pre>
Android Version Distribution (Target Users):

Android 14 (API 34)    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ~20%
Android 13 (API 33)    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ~28%
Android 12 (API 31-32) ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ~22%
Android 11 (API 30)    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ~15%
Android 10 (API 29)    ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ~10%
Android 9  (API 28)    ‚ñà‚ñà‚ñà‚ñà  ~4%
Android 8  (API 26-27) ‚ñà‚ñà  ~1%

Total Coverage: ~100% of target market

Screen Sizes Supported:
- Phones: 4.7" - 7.2"
- Tablets: 7" - 12.9" (adaptive layouts)
- Foldables: Supported
                    </pre>
                </div>
            </div>
        `
        }
    },

    // ========================================================================
    // ANDROID TECHNICAL DESIGN
    // ========================================================================
    'android-technical': {
        title: '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–∏–∑–∞–π–Ω',
        icon: null,
        platform: 'android',
        breadcrumb: ['–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', 'Android / Kotlin', '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–∏–∑–∞–π–Ω'],
        description: '–î–µ—Ç–∞–ª–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Android',
        levels: {
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // QUICK - –ö—Ä–∞—Ç–∫–∞—è –≤—ã–∂–∏–º–∫–∞
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            quick: `
            <div class="section">
                <h2 class="section-title">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ Android</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Value</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td><strong>Min SDK</strong></td><td>API 26 (Android 8.0)</td></tr>
                            <tr><td><strong>Target SDK</strong></td><td>API 34 (Android 14)</td></tr>
                            <tr><td><strong>Kotlin</strong></td><td>1.9.21+</td></tr>
                            <tr><td><strong>JVM Target</strong></td><td>17</td></tr>
                            <tr><td><strong>Gradle</strong></td><td>8.2+</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Key Components</h2>
                <div class="cards-grid">
                    <div class="card">
                        <span class="card-icon">üé®</span>
                        <h3 class="card-title">Jetpack Compose</h3>
                        <p class="card-description">Declarative UI with Material 3</p>
                    </div>
                    <div class="card">
                        <span class="card-icon">üíâ</span>
                        <h3 class="card-title">Hilt DI</h3>
                        <p class="card-description">@HiltViewModel injection</p>
                    </div>
                    <div class="card">
                        <span class="card-icon">üåê</span>
                        <h3 class="card-title">Retrofit + OkHttp</h3>
                        <p class="card-description">Network layer with SSL Pinning</p>
                    </div>
                    <div class="card">
                        <span class="card-icon">üíæ</span>
                        <h3 class="card-title">Room + DataStore</h3>
                        <p class="card-description">Local storage with encryption</p>
                    </div>
                </div>
            </div>
            `,

            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // MEDIUM - –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            medium: `
            <div class="section">
                <h2 class="section-title">1. System Requirements</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Value</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td><strong>Min SDK</strong></td><td>API 26 (Android 8.0 Oreo)</td></tr>
                            <tr><td><strong>Target SDK</strong></td><td>API 34 (Android 14)</td></tr>
                            <tr><td><strong>Compile SDK</strong></td><td>API 34</td></tr>
                            <tr><td><strong>Kotlin</strong></td><td>1.9.21+</td></tr>
                            <tr><td><strong>JVM Target</strong></td><td>17</td></tr>
                            <tr><td><strong>Gradle</strong></td><td>8.2+</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">2. ViewModel Pattern</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">Kotlin</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="annotation">@HiltViewModel</span>
<span class="keyword">class</span> <span class="class-name">TransportViewModel</span> <span class="annotation">@Inject</span> <span class="keyword">constructor</span>(
    <span class="keyword">private val</span> getVehiclesUseCase: <span class="class-name">GetVehiclesUseCase</span>
) : <span class="class-name">ViewModel</span>() {

    <span class="keyword">private val</span> _uiState = <span class="class-name">MutableStateFlow</span>(<span class="class-name">TransportUiState</span>())
    <span class="keyword">val</span> uiState: <span class="class-name">StateFlow</span>&lt;<span class="class-name">TransportUiState</span>&gt; = _uiState.<span class="function">asStateFlow</span>()

    <span class="keyword">fun</span> <span class="function">loadVehicles</span>(filter: <span class="class-name">VehicleFilter</span>) {
        viewModelScope.<span class="function">launch</span> {
            _uiState.<span class="function">update</span> { it.<span class="function">copy</span>(isLoading = <span class="keyword">true</span>) }
            getVehiclesUseCase(filter)
                .<span class="function">onSuccess</span> { vehicles ->
                    _uiState.<span class="function">update</span> { it.<span class="function">copy</span>(vehicles = vehicles, isLoading = <span class="keyword">false</span>) }
                }
                .<span class="function">onFailure</span> { error ->
                    _uiState.<span class="function">update</span> { it.<span class="function">copy</span>(error = error.message, isLoading = <span class="keyword">false</span>) }
                }
        }
    }
}</pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">3. Network Module</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">Kotlin</span>
                    </div>
                    <pre><span class="annotation">@Module</span>
<span class="annotation">@InstallIn</span>(<span class="class-name">SingletonComponent</span>::<span class="keyword">class</span>)
<span class="keyword">object</span> <span class="class-name">NetworkModule</span> {
    <span class="annotation">@Provides</span> <span class="annotation">@Singleton</span>
    <span class="keyword">fun</span> <span class="function">provideOkHttpClient</span>(authInterceptor: <span class="class-name">AuthInterceptor</span>): <span class="class-name">OkHttpClient</span> =
        <span class="class-name">OkHttpClient</span>.<span class="class-name">Builder</span>()
            .<span class="function">addInterceptor</span>(authInterceptor)
            .<span class="function">certificatePinner</span>(<span class="comment">/* SSL Pinning */</span>)
            .<span class="function">build</span>()
}</pre>
                </div>
            </div>
            `,

            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // FULL - –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            full: `
            <div class="section">
                <h2 class="section-title">1. System Requirements</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Value</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Min SDK</strong></td>
                                <td>API 26 (Android 8.0 Oreo)</td>
                            </tr>
                            <tr>
                                <td><strong>Target SDK</strong></td>
                                <td>API 34 (Android 14)</td>
                            </tr>
                            <tr>
                                <td><strong>Compile SDK</strong></td>
                                <td>API 34</td>
                            </tr>
                            <tr>
                                <td><strong>Kotlin</strong></td>
                                <td>1.9.21+</td>
                            </tr>
                            <tr>
                                <td><strong>JVM Target</strong></td>
                                <td>17</td>
                            </tr>
                            <tr>
                                <td><strong>Gradle</strong></td>
                                <td>8.2+</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">2. ViewModel Example</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">Kotlin</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="annotation">@HiltViewModel</span>
<span class="keyword">class</span> <span class="class-name">TransportViewModel</span> <span class="annotation">@Inject</span> <span class="keyword">constructor</span>(
    <span class="keyword">private val</span> getVehiclesUseCase: <span class="class-name">GetVehiclesUseCase</span>
) : <span class="class-name">ViewModel</span>() {

    <span class="keyword">private val</span> _uiState = <span class="class-name">MutableStateFlow</span>(<span class="class-name">TransportUiState</span>())
    <span class="keyword">val</span> uiState: <span class="class-name">StateFlow</span>&lt;<span class="class-name">TransportUiState</span>&gt; = _uiState.<span class="function">asStateFlow</span>()

    <span class="keyword">fun</span> <span class="function">loadVehicles</span>(filter: <span class="class-name">VehicleFilter</span>) {
        viewModelScope.<span class="function">launch</span> {
            _uiState.<span class="function">update</span> { it.<span class="function">copy</span>(isLoading = <span class="keyword">true</span>) }

            getVehiclesUseCase(filter)
                .<span class="function">onSuccess</span> { vehicles ->
                    _uiState.<span class="function">update</span> {
                        it.<span class="function">copy</span>(
                            vehicles = vehicles,
                            isLoading = <span class="keyword">false</span>
                        )
                    }
                }
                .<span class="function">onFailure</span> { error ->
                    _uiState.<span class="function">update</span> {
                        it.<span class="function">copy</span>(
                            error = error.message,
                            isLoading = <span class="keyword">false</span>
                        )
                    }
                }
        }
    }
}

<span class="keyword">data class</span> <span class="class-name">TransportUiState</span>(
    <span class="keyword">val</span> vehicles: <span class="class-name">List</span>&lt;<span class="class-name">Vehicle</span>&gt; = <span class="function">emptyList</span>(),
    <span class="keyword">val</span> isLoading: <span class="class-name">Boolean</span> = <span class="keyword">false</span>,
    <span class="keyword">val</span> error: <span class="class-name">String</span>? = <span class="keyword">null</span>
)</pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">3. Compose Screen Example</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">Kotlin</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="annotation">@Composable</span>
<span class="keyword">fun</span> <span class="function">TransportScreen</span>(
    viewModel: <span class="class-name">TransportViewModel</span> = <span class="function">hiltViewModel</span>(),
    onVehicleClick: (<span class="class-name">String</span>) -> <span class="class-name">Unit</span>
) {
    <span class="keyword">val</span> uiState <span class="keyword">by</span> viewModel.uiState.<span class="function">collectAsStateWithLifecycle</span>()

    <span class="class-name">Scaffold</span>(
        topBar = { <span class="class-name">TransportTopBar</span>() }
    ) { padding ->
        <span class="keyword">when</span> {
            uiState.isLoading -> {
                <span class="class-name">LoadingIndicator</span>()
            }
            uiState.error != <span class="keyword">null</span> -> {
                <span class="class-name">ErrorMessage</span>(uiState.error!!)
            }
            <span class="keyword">else</span> -> {
                <span class="class-name">LazyColumn</span>(
                    modifier = <span class="class-name">Modifier</span>.<span class="function">padding</span>(padding)
                ) {
                    <span class="function">items</span>(uiState.vehicles) { vehicle ->
                        <span class="class-name">VehicleCard</span>(
                            vehicle = vehicle,
                            onClick = { onVehicleClick(vehicle.id) }
                        )
                    }
                }
            }
        }
    }
}</pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">4. Network Layer</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">Kotlin</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="annotation">@Module</span>
<span class="annotation">@InstallIn</span>(<span class="class-name">SingletonComponent</span>::<span class="keyword">class</span>)
<span class="keyword">object</span> <span class="class-name">NetworkModule</span> {

    <span class="annotation">@Provides</span>
    <span class="annotation">@Singleton</span>
    <span class="keyword">fun</span> <span class="function">provideOkHttpClient</span>(
        authInterceptor: <span class="class-name">AuthInterceptor</span>
    ): <span class="class-name">OkHttpClient</span> {
        <span class="keyword">return</span> <span class="class-name">OkHttpClient</span>.<span class="class-name">Builder</span>()
            .<span class="function">addInterceptor</span>(authInterceptor)
            .<span class="function">certificatePinner</span>(
                <span class="class-name">CertificatePinner</span>.<span class="class-name">Builder</span>()
                    .<span class="function">add</span>(<span class="string">"api.phuketapp.com"</span>, <span class="string">"sha256/..."</span>)
                    .<span class="function">build</span>()
            )
            .<span class="function">connectTimeout</span>(<span class="number">30</span>, <span class="class-name">TimeUnit</span>.SECONDS)
            .<span class="function">build</span>()
    }

    <span class="annotation">@Provides</span>
    <span class="annotation">@Singleton</span>
    <span class="keyword">fun</span> <span class="function">provideRetrofit</span>(client: <span class="class-name">OkHttpClient</span>): <span class="class-name">Retrofit</span> {
        <span class="keyword">return</span> <span class="class-name">Retrofit</span>.<span class="class-name">Builder</span>()
            .<span class="function">baseUrl</span>(<span class="class-name">BuildConfig</span>.API_BASE_URL)
            .<span class="function">client</span>(client)
            .<span class="function">addConverterFactory</span>(<span class="class-name">MoshiConverterFactory</span>.<span class="function">create</span>())
            .<span class="function">build</span>()
    }
}</pre>
                </div>
            </div>
        `
        }
    },

    // ========================================================================
    // ANDROID ADR
    // ========================================================================
    'android-adr': {
        title: 'ADR (–†–µ—à–µ–Ω–∏—è)',
        icon: null,
        platform: 'android',
        breadcrumb: ['–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', 'Android / Kotlin', 'ADR'],
        description: '–ó–∞–ø–∏—Å–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –¥–ª—è Android',
        levels: {
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // QUICK - –ö—Ä–∞—Ç–∫–∞—è –≤—ã–∂–∏–º–∫–∞
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            quick: `
            <div class="section">
                <h2 class="section-title">Android Architecture Decisions</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>ADR</th>
                                <th>–†–µ—à–µ–Ω–∏–µ</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>ADR-A01</strong></td>
                                <td>Kotlin + Jetpack Compose</td>
                                <td><span class="status-badge success">Accepted</span></td>
                            </tr>
                            <tr>
                                <td><strong>ADR-A02</strong></td>
                                <td>Clean Architecture + MVVM</td>
                                <td><span class="status-badge success">Accepted</span></td>
                            </tr>
                            <tr>
                                <td><strong>ADR-A03</strong></td>
                                <td>Hilt for Dependency Injection</td>
                                <td><span class="status-badge success">Accepted</span></td>
                            </tr>
                            <tr>
                                <td><strong>ADR-A04</strong></td>
                                <td>Room + DataStore + Encrypted Storage</td>
                                <td><span class="status-badge success">Accepted</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Key Consequences</h2>
                <ul>
                    <li>Android 8.0+ minimum (API 26)</li>
                    <li>Declarative UI similar to iOS SwiftUI</li>
                    <li>Google recommended technology stack</li>
                    <li>Compile-time DI verification</li>
                </ul>
            </div>
            `,

            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // MEDIUM - –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            medium: `
            <div class="section">
                <h2 class="section-title">ADR-A01: Kotlin + Jetpack Compose</h2>

                <div class="callout info">
                    <span class="callout-icon">‚úÖ</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Accepted</div>
                    </div>
                </div>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Option</th>
                                <th>Pros</th>
                                <th>Cons</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Kotlin + Compose</strong></td>
                                <td>Google recommended, declarative</td>
                                <td>Relatively new</td>
                            </tr>
                            <tr>
                                <td>Kotlin + XML</td>
                                <td>Mature, many resources</td>
                                <td>More boilerplate</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <p><strong>Decision:</strong> Kotlin + Jetpack Compose for consistency with iOS SwiftUI.</p>
            </div>

            <div class="section">
                <h2 class="section-title">ADR-A02: Clean Architecture + MVVM</h2>

                <div class="callout info">
                    <span class="callout-icon">‚úÖ</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Accepted</div>
                    </div>
                </div>

                <p><strong>Layers:</strong></p>
                <ul>
                    <li><strong>Presentation</strong>: Compose UI + ViewModels</li>
                    <li><strong>Domain</strong>: UseCases + Repository interfaces</li>
                    <li><strong>Data</strong>: Repository implementations + DataSources</li>
                </ul>
            </div>

            <div class="section">
                <h2 class="section-title">ADR-A03: Hilt for DI</h2>

                <div class="callout info">
                    <span class="callout-icon">‚úÖ</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Accepted</div>
                    </div>
                </div>

                <p><strong>Rationale:</strong> Official Google recommendation, compile-time verification, easy ViewModel integration.</p>
            </div>
            `,

            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // FULL - –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            full: `
            <div class="section">
                <h2 class="section-title">Architecture Decision Records</h2>
                <p>Key architectural decisions made for Android development:</p>
            </div>

            <div class="section">
                <h2 class="section-title">ADR-A01: Kotlin + Jetpack Compose</h2>

                <div class="callout info">
                    <span class="callout-icon">‚úÖ</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Accepted</div>
                        <div class="callout-text">December 12, 2025</div>
                    </div>
                </div>

                <h3 class="section-subtitle">Context</h3>
                <p>Choose language and UI framework for Android version. Requirements:</p>
                <ul>
                    <li>Modern, supported stack</li>
                    <li>Declarative UI (similar to SwiftUI on iOS)</li>
                    <li>High performance</li>
                    <li>Google recommended</li>
                </ul>

                <h3 class="section-subtitle">Options Considered</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Option</th>
                                <th>Pros</th>
                                <th>Cons</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Kotlin + Compose</strong></td>
                                <td>Google recommended, declarative, Kotlin-first</td>
                                <td>Relatively new</td>
                            </tr>
                            <tr>
                                <td>Kotlin + XML</td>
                                <td>Mature, many resources</td>
                                <td>More boilerplate</td>
                            </tr>
                            <tr>
                                <td>Flutter</td>
                                <td>Cross-platform</td>
                                <td>Not native UI, iOS already on SwiftUI</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3 class="section-subtitle">Decision</h3>
                <p><strong>Kotlin</strong> as language and <strong>Jetpack Compose</strong> as UI framework.</p>

                <h3 class="section-subtitle">Rationale</h3>
                <ol>
                    <li>Consistency: Compose is declarative like SwiftUI</li>
                    <li>Google recommends Compose as future of Android UI</li>
                    <li>Kotlin: Official Android language, null safety, coroutines</li>
                    <li>Material 3 native support</li>
                </ol>
            </div>

            <div class="section">
                <h2 class="section-title">ADR-A02: Clean Architecture + MVVM</h2>

                <div class="callout info">
                    <span class="callout-icon">‚úÖ</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Accepted</div>
                        <div class="callout-text">December 12, 2025</div>
                    </div>
                </div>

                <h3 class="section-subtitle">Decision</h3>
                <p><strong>Clean Architecture + MVVM</strong> with clear layer separation.</p>

                <h3 class="section-subtitle">Layers</h3>
                <ul>
                    <li><strong>Presentation</strong>: Compose UI + ViewModels</li>
                    <li><strong>Domain</strong>: UseCases + Repository interfaces</li>
                    <li><strong>Data</strong>: Repository implementations + DataSources</li>
                </ul>
            </div>

            <div class="section">
                <h2 class="section-title">ADR-A03: Hilt for Dependency Injection</h2>

                <div class="callout info">
                    <span class="callout-icon">‚úÖ</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Accepted</div>
                        <div class="callout-text">December 12, 2025</div>
                    </div>
                </div>

                <h3 class="section-subtitle">Decision</h3>
                <p><strong>Hilt</strong> (based on Dagger) for dependency injection.</p>

                <h3 class="section-subtitle">Rationale</h3>
                <ul>
                    <li>Official Google recommendation</li>
                    <li>Compile-time verification</li>
                    <li>Easy integration with ViewModels</li>
                    <li>Less boilerplate than pure Dagger</li>
                </ul>
            </div>

            <div class="section">
                <h2 class="section-title">ADR-A04: Room + DataStore</h2>

                <div class="callout info">
                    <span class="callout-icon">‚úÖ</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Accepted</div>
                        <div class="callout-text">December 12, 2025</div>
                    </div>
                </div>

                <h3 class="section-subtitle">Decision</h3>
                <ul>
                    <li><strong>Room</strong> for structured data (offline cache)</li>
                    <li><strong>DataStore</strong> for preferences</li>
                    <li><strong>EncryptedSharedPreferences</strong> for secrets</li>
                </ul>
            </div>
        `
        }
    },

    // ========================================================================
    // ANDROID RFC
    // ========================================================================
    'android-rfc': {
        title: 'RFC (–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)',
        icon: null,
        platform: 'android',
        breadcrumb: ['–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', 'Android / Kotlin', 'RFC'],
        description: 'Request for Comments - –ø—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è Android',
        levels: {
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // QUICK - –ö—Ä–∞—Ç–∫–∞—è –≤—ã–∂–∏–º–∫–∞
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            quick: `
            <div class="section">
                <h2 class="section-title">Android Proposed Features</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>RFC</th>
                                <th>–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</th>
                                <th>–°—Ç–∞—Ç—É—Å</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>RFC-A01</strong></td>
                                <td>Android Widgets (Glance)</td>
                                <td><span class="status-badge warning">Draft</span></td>
                            </tr>
                            <tr>
                                <td><strong>RFC-A02</strong></td>
                                <td>Google Pay Integration</td>
                                <td><span class="status-badge warning">Draft</span></td>
                            </tr>
                            <tr>
                                <td><strong>RFC-A03</strong></td>
                                <td>Offline Mode with WorkManager</td>
                                <td><span class="status-badge warning">Draft</span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç</h2>
                <ul>
                    <li><strong>Widgets:</strong> Quick access to bookings from home screen</li>
                    <li><strong>Google Pay:</strong> One-tap payments, higher conversion</li>
                    <li><strong>Offline:</strong> Better experience in areas with poor connectivity</li>
                </ul>
            </div>
            `,

            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // MEDIUM - –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            medium: `
            <div class="section">
                <h2 class="section-title">RFC-A01: Android Widgets</h2>

                <div class="callout warning">
                    <span class="callout-icon">üìù</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Draft</div>
                    </div>
                </div>

                <p><strong>Summary:</strong> Home screen widgets using Jetpack Glance.</p>
                <p><strong>Types:</strong> Small (2x2) - next booking, Medium (4x2) - upcoming bookings list.</p>
            </div>

            <div class="section">
                <h2 class="section-title">RFC-A02: Google Pay Integration</h2>

                <div class="callout warning">
                    <span class="callout-icon">üìù</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Draft</div>
                    </div>
                </div>

                <p><strong>Benefits:</strong> One-tap payment, higher conversion, secure tokenized payments.</p>
            </div>

            <div class="section">
                <h2 class="section-title">RFC-A03: Offline Mode</h2>

                <div class="callout warning">
                    <span class="callout-icon">üìù</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Draft</div>
                    </div>
                </div>

                <p><strong>Features:</strong> View cached bookings, QR codes, create bookings offline (sync later), offline maps.</p>
            </div>
            `,

            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // FULL - –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            full: `
            <div class="section">
                <h2 class="section-title">Request for Comments</h2>
                <p>Proposed features and improvements for Android:</p>
            </div>

            <div class="section">
                <h2 class="section-title">RFC-A01: Android Widgets</h2>

                <div class="callout warning">
                    <span class="callout-icon">üìù</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Draft</div>
                        <div class="callout-text">Comment deadline: December 26, 2025</div>
                    </div>
                </div>

                <h3 class="section-subtitle">Summary</h3>
                <p>Develop Android App Widgets (Glance) to display upcoming bookings on home screen.</p>

                <h3 class="section-subtitle">Widget Types</h3>
                <div class="diagram-block">
                    <pre>
SMALL (2x2)                    MEDIUM (4x2)
+---------------+              +----------------------------+
|  Next Booking |              |  Upcoming Bookings          |
|               |              |                             |
|  Honda PCX    |              |  1. Honda PCX 160          |
|  Dec 15-22    |              |     Dec 15-22  ‡∏ø2,100      |
|               |              |                             |
|  [Open App]   |              |  2. Phi Phi Tour           |
+---------------+              |     Dec 18     ‡∏ø1,500      |
                               |                             |
                               |           [View All]        |
                               +----------------------------+
                    </pre>
                </div>

                <h3 class="section-subtitle">Implementation</h3>
                <p>Using <strong>Jetpack Glance</strong> for Compose-based widgets.</p>
            </div>

            <div class="section">
                <h2 class="section-title">RFC-A02: Google Pay Integration</h2>

                <div class="callout warning">
                    <span class="callout-icon">üìù</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Draft</div>
                        <div class="callout-text">Comment deadline: December 26, 2025</div>
                    </div>
                </div>

                <h3 class="section-subtitle">Summary</h3>
                <p>Add Google Pay as payment option alongside Stripe for faster checkout.</p>

                <h3 class="section-subtitle">Benefits</h3>
                <ul>
                    <li>One-tap payment for Android users</li>
                    <li>Higher conversion rate</li>
                    <li>Secure tokenized payments</li>
                    <li>Works with Stripe backend</li>
                </ul>
            </div>

            <div class="section">
                <h2 class="section-title">RFC-A03: Offline Mode with WorkManager</h2>

                <div class="callout warning">
                    <span class="callout-icon">üìù</span>
                    <div class="callout-content">
                        <div class="callout-title">Status: Draft</div>
                        <div class="callout-text">Comment deadline: December 26, 2025</div>
                    </div>
                </div>

                <h3 class="section-subtitle">Summary</h3>
                <p>Enable offline functionality using Room for caching and WorkManager for sync.</p>

                <h3 class="section-subtitle">Offline Features</h3>
                <ul>
                    <li>View cached bookings</li>
                    <li>Access booking QR codes</li>
                    <li>Create bookings offline (sync when online)</li>
                    <li>Offline maps with saved areas</li>
                </ul>
            </div>
        `
        }
    },

    // ========================================================================
    // WEB ARCHITECTURE
    // ========================================================================
    'web-arch': {
        title: '–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞',
        icon: null,
        platform: 'web',
        breadcrumb: ['–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', 'Web / Next.js', '–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞'],
        description: '–û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã Web –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è',
        levels: {
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // QUICK - –ö—Ä–∞—Ç–∫–∞—è –≤—ã–∂–∏–º–∫–∞
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            quick: `
            <div class="section">
                <h2 class="section-title">Web Tech Stack</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Aspect</th>
                                <th>Technology</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td><strong>Framework</strong></td><td>Next.js 14 (App Router)</td></tr>
                            <tr><td><strong>Language</strong></td><td>TypeScript 5.3+</td></tr>
                            <tr><td><strong>UI</strong></td><td>React 18 + Tailwind CSS</td></tr>
                            <tr><td><strong>State</strong></td><td>Zustand + React Query</td></tr>
                            <tr><td><strong>Forms</strong></td><td>React Hook Form + Zod</td></tr>
                            <tr><td><strong>Auth</strong></td><td>NextAuth.js</td></tr>
                            <tr><td><strong>Maps</strong></td><td>Mapbox GL JS</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">–ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</h2>
                <div class="cards-grid">
                    <div class="card card-expandable" onclick="toggleCardExpand(this)">
                        <span class="card-icon">üìÅ</span>
                        <h3 class="card-title">App Router</h3>
                        <p class="card-description">Next.js 14 file-based routing with RSC</p>
                        <div class="card-expand-content">
                            <div class="expand-details">
                                <h4>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤:</h4>
                                <pre>app/
‚îú‚îÄ‚îÄ (auth)/           # –ì—Ä—É–ø–ø–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ login/page.tsx
‚îÇ   ‚îî‚îÄ‚îÄ register/page.tsx
‚îú‚îÄ‚îÄ (main)/           # –û—Å–Ω–æ–≤–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ transport/page.tsx
‚îÇ   ‚îú‚îÄ‚îÄ accommodation/page.tsx
‚îÇ   ‚îî‚îÄ‚îÄ tours/page.tsx
‚îú‚îÄ‚îÄ api/              # API Routes
‚îî‚îÄ‚îÄ layout.tsx        # Root Layout</pre>
                                <p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong> –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π code-splitting, nested layouts, loading/error states</p>
                            </div>
                        </div>
                    </div>
                    <div class="card card-expandable" onclick="toggleCardExpand(this)">
                        <span class="card-icon">üîÑ</span>
                        <h3 class="card-title">Server Components</h3>
                        <p class="card-description">React Server Components for performance</p>
                        <div class="card-expand-content">
                            <div class="expand-details">
                                <h4>–ü—Ä–∏–º–µ—Ä Server Component:</h4>
                                <pre>// app/transport/page.tsx
export default async function Page() {
  const vehicles = await db.vehicle.findMany()
  return &lt;VehicleList data={vehicles} /&gt;
}</pre>
                                <p><strong>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:</strong> Zero JS bundle –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –ë–î, streaming SSR</p>
                            </div>
                        </div>
                    </div>
                    <div class="card card-expandable" onclick="toggleCardExpand(this)">
                        <span class="card-icon">üé®</span>
                        <h3 class="card-title">Tailwind CSS</h3>
                        <p class="card-description">Utility-first CSS with design tokens</p>
                        <div class="card-expand-content">
                            <div class="expand-details">
                                <h4>Design Tokens:</h4>
                                <pre>// tailwind.config.ts
theme: {
  colors: {
    primary: '#6366F1',
    secondary: '#8B5CF6',
    accent: '#F59E0B'
  },
  fontFamily: {
    sans: ['Inter', 'sans-serif']
  }
}</pre>
                                <p><strong>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:</strong> shadcn/ui + Radix UI –¥–ª—è accessible UI</p>
                            </div>
                        </div>
                    </div>
                    <div class="card card-expandable" onclick="toggleCardExpand(this)">
                        <span class="card-icon">üì¶</span>
                        <h3 class="card-title">Feature Slices</h3>
                        <p class="card-description">Modular architecture by features</p>
                        <div class="card-expand-content">
                            <div class="expand-details">
                                <h4>–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∏—á–∏:</h4>
                                <pre>features/transport/
‚îú‚îÄ‚îÄ components/      # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ VehicleCard.tsx
‚îÇ   ‚îî‚îÄ‚îÄ VehicleList.tsx
‚îú‚îÄ‚îÄ hooks/           # Custom hooks
‚îÇ   ‚îî‚îÄ‚îÄ useVehicles.ts
‚îú‚îÄ‚îÄ api/             # API —Ñ—É–Ω–∫—Ü–∏–∏
‚îî‚îÄ‚îÄ types/           # TypeScript types</pre>
                                <p><strong>–ü—Ä–∏–Ω—Ü–∏–ø:</strong> –ö–∞–∂–¥–∞—è —Ñ–∏—á–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–∞–ª–µ–Ω–∞ –±–µ–∑ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –¥—Ä—É–≥–∏–µ</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            `,

            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // MEDIUM - –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            medium: `
            <div class="section">
                <h2 class="section-title">1. Platform & Technologies</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Aspect</th>
                                <th>Technology</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>Framework</td><td>Next.js 14</td><td>App Router, RSC</td></tr>
                            <tr><td>Language</td><td>TypeScript 5.3+</td><td>Strict mode</td></tr>
                            <tr><td>UI Library</td><td>React 18</td><td>Server Components</td></tr>
                            <tr><td>Styling</td><td>Tailwind CSS 3.4</td><td>+ shadcn/ui</td></tr>
                            <tr><td>State</td><td>Zustand</td><td>Client state</td></tr>
                            <tr><td>Data Fetching</td><td>React Query</td><td>Server state</td></tr>
                            <tr><td>Forms</td><td>React Hook Form</td><td>+ Zod validation</td></tr>
                            <tr><td>Auth</td><td>NextAuth.js</td><td>JWT + OAuth</td></tr>
                            <tr><td>Maps</td><td>Mapbox GL JS</td><td>Interactive maps</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">2. Architecture Overview</h2>
                <div class="diagram-block">
                    <pre>
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         WEB ARCHITECTURE (Next.js 14)                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                              ‚îÇ
‚îÇ   APP ROUTER                                                                ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ app/                                                                  ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ (auth)/login, register                                           ‚îÇ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ (main)/transport, accommodation, tours                           ‚îÇ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api/                                                              ‚îÇ
‚îÇ                    ‚îÇ                                                         ‚îÇ
‚îÇ                    ‚îÇ Server Components                                       ‚îÇ
‚îÇ                    ‚ñº                                                         ‚îÇ
‚îÇ   FEATURES                                                                  ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ transport/ (components, hooks, api)                                   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ accommodation/                                                        ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ booking/                                                              ‚îÇ
‚îÇ                    ‚îÇ                                                         ‚îÇ
‚îÇ                    ‚îÇ React Query                                             ‚îÇ
‚îÇ                    ‚ñº                                                         ‚îÇ
‚îÇ   SHARED                                                                    ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ components/ui (shadcn/ui)                                             ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ lib/ (api client, utils)                                              ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ hooks/ (useAuth, useBooking)                                          ‚îÇ
‚îÇ                                                                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">3. Project Structure</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">Directory Structure</span>
                    </div>
                    <pre>
phuket-web/
‚îú‚îÄ‚îÄ app/                      # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ (auth)/              # Auth routes group
‚îÇ   ‚îú‚îÄ‚îÄ (main)/              # Main app routes
‚îÇ   ‚îî‚îÄ‚îÄ api/                 # API routes
‚îú‚îÄ‚îÄ features/                 # Feature modules
‚îÇ   ‚îú‚îÄ‚îÄ transport/
‚îÇ   ‚îú‚îÄ‚îÄ accommodation/
‚îÇ   ‚îî‚îÄ‚îÄ booking/
‚îú‚îÄ‚îÄ shared/                   # Shared code
‚îÇ   ‚îú‚îÄ‚îÄ components/ui/       # shadcn/ui components
‚îÇ   ‚îú‚îÄ‚îÄ lib/                 # Utilities
‚îÇ   ‚îî‚îÄ‚îÄ hooks/               # Custom hooks
‚îî‚îÄ‚îÄ styles/                   # Global styles
                    </pre>
                </div>
            </div>
            `,

            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // FULL - –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–û–ë–®–ò–†–ù–ê–Ø –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø)
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            full: `
            <div class="section">
                <h2 class="section-title">üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ</h2>
                <div class="toc-block">
                    <ol>
                        <li><a href="#tech-stack">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫</a></li>
                        <li><a href="#architecture">–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã</a></li>
                        <li><a href="#project-structure">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞</a></li>
                        <li><a href="#routing">–ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è (App Router)</a></li>
                        <li><a href="#components">–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã</a></li>
                        <li><a href="#state-management">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º</a></li>
                        <li><a href="#data-fetching">–ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö</a></li>
                        <li><a href="#authentication">–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è</a></li>
                        <li><a href="#api-routes">API Routes</a></li>
                        <li><a href="#database">–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (Prisma)</a></li>
                        <li><a href="#forms">–§–æ—Ä–º—ã –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è</a></li>
                        <li><a href="#payments">–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–µ–π</a></li>
                        <li><a href="#maps">–ö–∞—Ä—Ç—ã –∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è</a></li>
                        <li><a href="#file-upload">–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤</a></li>
                        <li><a href="#email">Email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</a></li>
                        <li><a href="#seo">SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</a></li>
                        <li><a href="#performance">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</a></li>
                        <li><a href="#security">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</a></li>
                        <li><a href="#testing">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</a></li>
                        <li><a href="#deployment">–î–µ–ø–ª–æ–π –∏ CI/CD</a></li>
                        <li><a href="#monitoring">–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</a></li>
                    </ol>
                </div>
            </div>

            <!-- ============================================================== -->
            <!-- 1. –¢–ï–•–ù–û–õ–û–ì–ò–ß–ï–°–ö–ò–ô –°–¢–ï–ö -->
            <!-- ============================================================== -->
            <div class="section" id="tech-stack">
                <h2 class="section-title">1. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫</h2>

                <h3 class="section-subtitle">1.1 Core Technologies</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                                <th>–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è</th>
                                <th>–í–µ—Ä—Å–∏—è</th>
                                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Framework</strong></td>
                                <td>Next.js</td>
                                <td>14.1.0</td>
                                <td>App Router, React Server Components, Streaming SSR</td>
                            </tr>
                            <tr>
                                <td><strong>Language</strong></td>
                                <td>TypeScript</td>
                                <td>5.3+</td>
                                <td>Strict mode, ESLint –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è</td>
                            </tr>
                            <tr>
                                <td><strong>Runtime</strong></td>
                                <td>Node.js</td>
                                <td>20 LTS</td>
                                <td>Edge Runtime –¥–ª—è middleware</td>
                            </tr>
                            <tr>
                                <td><strong>UI Library</strong></td>
                                <td>React</td>
                                <td>18.2.0</td>
                                <td>Server & Client Components, Suspense</td>
                            </tr>
                            <tr>
                                <td><strong>Styling</strong></td>
                                <td>Tailwind CSS</td>
                                <td>3.4.1</td>
                                <td>JIT compilation, custom design tokens</td>
                            </tr>
                            <tr>
                                <td><strong>UI Components</strong></td>
                                <td>shadcn/ui</td>
                                <td>latest</td>
                                <td>Radix UI primitives + Tailwind</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3 class="section-subtitle">1.2 State & Data Management</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ</th>
                                <th>–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞</th>
                                <th>–í–µ—Ä—Å–∏—è</th>
                                <th>–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Client State</td>
                                <td>Zustand</td>
                                <td>4.4.7</td>
                                <td>UI state, cart, user preferences</td>
                            </tr>
                            <tr>
                                <td>Server State</td>
                                <td>TanStack Query</td>
                                <td>5.17.0</td>
                                <td>API caching, mutations, infinite scroll</td>
                            </tr>
                            <tr>
                                <td>Forms</td>
                                <td>React Hook Form</td>
                                <td>7.49.0</td>
                                <td>Performant forms with minimal re-renders</td>
                            </tr>
                            <tr>
                                <td>Validation</td>
                                <td>Zod</td>
                                <td>3.22.4</td>
                                <td>Schema validation, type inference</td>
                            </tr>
                            <tr>
                                <td>ORM</td>
                                <td>Prisma</td>
                                <td>5.8.0</td>
                                <td>Type-safe database queries</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3 class="section-subtitle">1.3 Integrations</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>–°–µ—Ä–≤–∏—Å</th>
                                <th>–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞</th>
                                <th>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Authentication</td>
                                <td>NextAuth.js v5</td>
                                <td>JWT, OAuth (Google, Apple, Facebook)</td>
                            </tr>
                            <tr>
                                <td>Payments</td>
                                <td>Stripe</td>
                                <td>Checkout, Connect, Webhooks</td>
                            </tr>
                            <tr>
                                <td>Maps</td>
                                <td>Mapbox GL JS</td>
                                <td>Interactive maps, geocoding</td>
                            </tr>
                            <tr>
                                <td>File Storage</td>
                                <td>Cloudflare R2</td>
                                <td>Images, videos, documents</td>
                            </tr>
                            <tr>
                                <td>Email</td>
                                <td>Resend</td>
                                <td>Transactional emails</td>
                            </tr>
                            <tr>
                                <td>Analytics</td>
                                <td>PostHog</td>
                                <td>Events, funnels, feature flags</td>
                            </tr>
                            <tr>
                                <td>Monitoring</td>
                                <td>Sentry</td>
                                <td>Error tracking, performance</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3 class="section-subtitle">1.4 Development Tools</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">package.json (devDependencies)</span>
                    </div>
                    <pre>{
  "devDependencies": {
    "@types/node": "20.11.0",
    "@types/react": "18.2.48",
    "@types/react-dom": "18.2.18",
    "typescript": "5.3.3",
    "eslint": "8.56.0",
    "eslint-config-next": "14.1.0",
    "@typescript-eslint/parser": "6.19.0",
    "@typescript-eslint/eslint-plugin": "6.19.0",
    "prettier": "3.2.4",
    "prettier-plugin-tailwindcss": "0.5.11",
    "autoprefixer": "10.4.17",
    "postcss": "8.4.33",
    "tailwindcss": "3.4.1",
    "vitest": "1.2.1",
    "@testing-library/react": "14.1.2",
    "@playwright/test": "1.41.0",
    "prisma": "5.8.0",
    "husky": "8.0.3",
    "lint-staged": "15.2.0"
  }
}</pre>
                </div>
            </div>

            <!-- ============================================================== -->
            <!-- 2. –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –°–ò–°–¢–ï–ú–´ -->
            <!-- ============================================================== -->
            <div class="section" id="architecture">
                <h2 class="section-title">2. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã</h2>
                <div class="diagram-block">
                    <pre>
+-----------------------------------------------------------------------------+
|                         WEB ARCHITECTURE (Next.js 14)                        |
+-----------------------------------------------------------------------------+
|                                                                              |
|  +-----------------------------------------------------------------------+  |
|  |                         APP ROUTER LAYER                               |  |
|  |                                                                        |  |
|  |  app/                                                                  |  |
|  |  ‚îú‚îÄ‚îÄ (auth)/                    # Auth route group                    |  |
|  |  ‚îÇ   ‚îú‚îÄ‚îÄ login/page.tsx                                               |  |
|  |  ‚îÇ   ‚îî‚îÄ‚îÄ register/page.tsx                                            |  |
|  |  ‚îú‚îÄ‚îÄ (main)/                    # Main app routes                     |  |
|  |  ‚îÇ   ‚îú‚îÄ‚îÄ transport/page.tsx                                           |  |
|  |  ‚îÇ   ‚îú‚îÄ‚îÄ accommodation/page.tsx                                       |  |
|  |  ‚îÇ   ‚îú‚îÄ‚îÄ tours/page.tsx                                               |  |
|  |  ‚îÇ   ‚îî‚îÄ‚îÄ profile/page.tsx                                             |  |
|  |  ‚îú‚îÄ‚îÄ api/                       # API routes                          |  |
|  |  ‚îî‚îÄ‚îÄ layout.tsx                 # Root layout                         |  |
|  +-----------------------------------------------------------------------+  |
|                               |                                              |
|                               | Server Components / Client Components        |
|                               v                                              |
|  +-----------------------------------------------------------------------+  |
|  |                        FEATURES LAYER                                  |  |
|  |                                                                        |  |
|  |  features/                                                             |  |
|  |  ‚îú‚îÄ‚îÄ transport/                                                        |  |
|  |  ‚îÇ   ‚îú‚îÄ‚îÄ components/           # Feature-specific components          |  |
|  |  ‚îÇ   ‚îú‚îÄ‚îÄ hooks/                # useVehicles, useBookVehicle         |  |
|  |  ‚îÇ   ‚îú‚îÄ‚îÄ api/                  # API functions                        |  |
|  |  ‚îÇ   ‚îî‚îÄ‚îÄ types/                # TypeScript types                     |  |
|  |  ‚îú‚îÄ‚îÄ accommodation/                                                    |  |
|  |  ‚îú‚îÄ‚îÄ tours/                                                            |  |
|  |  ‚îî‚îÄ‚îÄ booking/                                                          |  |
|  +-----------------------------------------------------------------------+  |
|                               |                                              |
|                               | Shared code                                  |
|                               v                                              |
|  +-----------------------------------------------------------------------+  |
|  |                         SHARED LAYER                                   |  |
|  |                                                                        |  |
|  |  shared/                                                               |  |
|  |  ‚îú‚îÄ‚îÄ components/ui/            # shadcn/ui components                 |  |
|  |  ‚îú‚îÄ‚îÄ lib/                                                              |  |
|  |  ‚îÇ   ‚îú‚îÄ‚îÄ api-client.ts         # Fetch wrapper with auth             |  |
|  |  ‚îÇ   ‚îú‚îÄ‚îÄ auth.ts               # NextAuth config                      |  |
|  |  ‚îÇ   ‚îî‚îÄ‚îÄ utils.ts              # Utilities                            |  |
|  |  ‚îú‚îÄ‚îÄ hooks/                                                            |  |
|  |  ‚îÇ   ‚îú‚îÄ‚îÄ useAuth.ts                                                   |  |
|  |  ‚îÇ   ‚îî‚îÄ‚îÄ useToast.ts                                                  |  |
|  |  ‚îî‚îÄ‚îÄ stores/                   # Zustand stores                       |  |
|  |      ‚îî‚îÄ‚îÄ cart-store.ts                                                |  |
|  +-----------------------------------------------------------------------+  |
|                                                                              |
+------------------------------------------------------------------------------+
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">3. Project Structure</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">Directory Structure</span>
                    </div>
                    <pre>
phuket-web/
‚îú‚îÄ‚îÄ app/                          # Next.js App Router
‚îÇ   ‚îú‚îÄ‚îÄ (auth)/                   # Auth routes group
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login/page.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ register/page.tsx
‚îÇ   ‚îú‚îÄ‚îÄ (main)/                   # Main app routes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ transport/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ page.tsx          # List page (RSC)
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ [id]/page.tsx     # Detail page
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ accommodation/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tours/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ booking/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ profile/
‚îÇ   ‚îú‚îÄ‚îÄ api/                      # API routes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/[...nextauth]/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ webhooks/stripe/
‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx                # Root layout
‚îÇ   ‚îú‚îÄ‚îÄ loading.tsx               # Loading UI
‚îÇ   ‚îî‚îÄ‚îÄ error.tsx                 # Error boundary
‚îÇ
‚îú‚îÄ‚îÄ features/                     # Feature modules
‚îÇ   ‚îú‚îÄ‚îÄ transport/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ VehicleCard.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ VehicleFilters.tsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ VehicleList.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useVehicles.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ vehicles.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ types/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ vehicle.ts
‚îÇ   ‚îú‚îÄ‚îÄ accommodation/
‚îÇ   ‚îú‚îÄ‚îÄ tours/
‚îÇ   ‚îî‚îÄ‚îÄ booking/
‚îÇ
‚îú‚îÄ‚îÄ shared/                       # Shared code
‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ui/                   # shadcn/ui
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ button.tsx
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ card.tsx
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ input.tsx
‚îÇ   ‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api-client.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils.ts
‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ useAuth.ts
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useToast.ts
‚îÇ   ‚îî‚îÄ‚îÄ stores/
‚îÇ       ‚îî‚îÄ‚îÄ cart-store.ts
‚îÇ
‚îú‚îÄ‚îÄ styles/
‚îÇ   ‚îî‚îÄ‚îÄ globals.css               # Tailwind imports
‚îÇ
‚îú‚îÄ‚îÄ public/                       # Static assets
‚îú‚îÄ‚îÄ next.config.js
‚îú‚îÄ‚îÄ tailwind.config.ts
‚îú‚îÄ‚îÄ tsconfig.json
‚îî‚îÄ‚îÄ package.json
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">4. Server Component Example</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript (RSC)</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// app/(main)/transport/page.tsx</span>
<span class="keyword">import</span> { <span class="class-name">VehicleList</span> } <span class="keyword">from</span> <span class="string">'@/features/transport/components'</span>
<span class="keyword">import</span> { getVehicles } <span class="keyword">from</span> <span class="string">'@/features/transport/api'</span>

<span class="keyword">export default async function</span> <span class="function">TransportPage</span>({
  searchParams
}: {
  searchParams: { type?: <span class="class-name">string</span>; minPrice?: <span class="class-name">string</span> }
}) {
  <span class="comment">// Server-side data fetching</span>
  <span class="keyword">const</span> vehicles = <span class="keyword">await</span> <span class="function">getVehicles</span>({
    type: searchParams.type,
    minPrice: searchParams.minPrice ? <span class="function">Number</span>(searchParams.minPrice) : <span class="keyword">undefined</span>
  })

  <span class="keyword">return</span> (
    &lt;<span class="class-name">div</span> className=<span class="string">"container mx-auto py-8"</span>&gt;
      &lt;<span class="class-name">h1</span> className=<span class="string">"text-3xl font-bold mb-6"</span>&gt;
        –ê—Ä–µ–Ω–¥–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞
      &lt;/<span class="class-name">h1</span>&gt;
      &lt;<span class="class-name">VehicleList</span> vehicles={vehicles} /&gt;
    &lt;/<span class="class-name">div</span>&gt;
  )
}</pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">5. Client Component Example</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="string">'use client'</span>

<span class="keyword">import</span> { useQuery } <span class="keyword">from</span> <span class="string">'@tanstack/react-query'</span>
<span class="keyword">import</span> { useState } <span class="keyword">from</span> <span class="string">'react'</span>
<span class="keyword">import</span> { <span class="class-name">VehicleCard</span> } <span class="keyword">from</span> <span class="string">'./VehicleCard'</span>
<span class="keyword">import</span> { fetchVehicles } <span class="keyword">from</span> <span class="string">'../api/vehicles'</span>

<span class="keyword">export function</span> <span class="function">VehicleList</span>() {
  <span class="keyword">const</span> [filter, setFilter] = <span class="function">useState</span>&lt;<span class="class-name">VehicleFilter</span>&gt;({})

  <span class="keyword">const</span> { data: vehicles, isLoading, error } = <span class="function">useQuery</span>({
    queryKey: [<span class="string">'vehicles'</span>, filter],
    queryFn: () => <span class="function">fetchVehicles</span>(filter)
  })

  <span class="keyword">if</span> (isLoading) <span class="keyword">return</span> &lt;<span class="class-name">LoadingSkeleton</span> /&gt;
  <span class="keyword">if</span> (error) <span class="keyword">return</span> &lt;<span class="class-name">ErrorMessage</span> error={error} /&gt;

  <span class="keyword">return</span> (
    &lt;<span class="class-name">div</span> className=<span class="string">"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"</span>&gt;
      {vehicles?.<span class="function">map</span>(vehicle => (
        &lt;<span class="class-name">VehicleCard</span> key={vehicle.id} vehicle={vehicle} /&gt;
      ))}
    &lt;/<span class="class-name">div</span>&gt;
  )
}</pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">6. API Client</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// shared/lib/api-client.ts</span>
<span class="keyword">import</span> { getSession } <span class="keyword">from</span> <span class="string">'next-auth/react'</span>

<span class="keyword">const</span> API_BASE = process.env.NEXT_PUBLIC_API_URL

<span class="keyword">export async function</span> <span class="function">apiClient</span>&lt;T&gt;(
  endpoint: <span class="class-name">string</span>,
  options: <span class="class-name">RequestInit</span> = {}
): <span class="class-name">Promise</span>&lt;T&gt; {
  <span class="keyword">const</span> session = <span class="keyword">await</span> <span class="function">getSession</span>()

  <span class="keyword">const</span> headers: <span class="class-name">HeadersInit</span> = {
    <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span>,
    ...options.headers
  }

  <span class="keyword">if</span> (session?.accessToken) {
    headers[<span class="string">'Authorization'</span>] = <span class="string">\`Bearer \${session.accessToken}\`</span>
  }

  <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="function">fetch</span>(<span class="string">\`\${API_BASE}\${endpoint}\`</span>, {
    ...options,
    headers
  })

  <span class="keyword">if</span> (!response.ok) {
    <span class="keyword">throw new</span> <span class="class-name">ApiError</span>(response.status, <span class="keyword">await</span> response.<span class="function">text</span>())
  }

  <span class="keyword">return</span> response.<span class="function">json</span>()
}</pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">7. Component Hierarchy</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">Components Structure</span>
                    </div>
                    <pre>
components/
‚îú‚îÄ‚îÄ ui/                          # –ë–∞–∑–æ–≤—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (shadcn/ui)
‚îÇ   ‚îú‚îÄ‚îÄ Button.tsx
‚îÇ   ‚îú‚îÄ‚îÄ Input.tsx
‚îÇ   ‚îú‚îÄ‚îÄ Select.tsx
‚îÇ   ‚îú‚îÄ‚îÄ Modal.tsx
‚îÇ   ‚îú‚îÄ‚îÄ Card.tsx
‚îÇ   ‚îú‚îÄ‚îÄ Badge.tsx
‚îÇ   ‚îú‚îÄ‚îÄ Avatar.tsx
‚îÇ   ‚îú‚îÄ‚îÄ Skeleton.tsx
‚îÇ   ‚îî‚îÄ‚îÄ Toast.tsx
‚îÇ
‚îú‚îÄ‚îÄ layout/                      # Layout –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ Navigation.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Logo
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ NavLinks
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SearchBar
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ LanguageSelector
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ UserMenu
‚îÇ   ‚îî‚îÄ‚îÄ Footer.tsx
‚îÇ
‚îú‚îÄ‚îÄ sections/                    # –°–µ–∫—Ü–∏–∏ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îú‚îÄ‚îÄ Hero.tsx                 # Hero —Å –≤–∏–¥–µ–æ –∏ –ø–æ–∏—Å–∫–æ–º
‚îÇ   ‚îú‚îÄ‚îÄ QuickAccess.tsx          # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —É—Å–ª—É–≥
‚îÇ   ‚îú‚îÄ‚îÄ FeaturedListings.tsx     # Featured –æ–±—ä–µ–∫—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ InteractiveMap.tsx       # Mapbox –∫–∞—Ä—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ Testimonials.tsx         # –û—Ç–∑—ã–≤—ã
‚îÇ
‚îú‚îÄ‚îÄ properties/                  # Property –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ PropertyCard.tsx
‚îÇ   ‚îú‚îÄ‚îÄ PropertyGrid.tsx
‚îÇ   ‚îú‚îÄ‚îÄ PropertyFilters.tsx
‚îÇ   ‚îî‚îÄ‚îÄ ImageGallery.tsx
‚îÇ
‚îú‚îÄ‚îÄ vehicles/                    # Vehicle –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ VehicleCard.tsx
‚îÇ   ‚îî‚îÄ‚îÄ VehicleFilters.tsx
‚îÇ
‚îú‚îÄ‚îÄ tours/                       # Tour –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ TourCard.tsx
‚îÇ   ‚îî‚îÄ‚îÄ TourFilters.tsx
‚îÇ
‚îú‚îÄ‚îÄ booking/                     # Booking –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ BookingWidget.tsx
‚îÇ   ‚îú‚îÄ‚îÄ DatePicker.tsx
‚îÇ   ‚îú‚îÄ‚îÄ GuestSelector.tsx
‚îÇ   ‚îî‚îÄ‚îÄ PriceSummary.tsx
‚îÇ
‚îî‚îÄ‚îÄ forms/                       # –§–æ—Ä–º—ã
    ‚îú‚îÄ‚îÄ LoginForm.tsx
    ‚îú‚îÄ‚îÄ RegisterForm.tsx
    ‚îú‚îÄ‚îÄ PropertyForm.tsx
    ‚îî‚îÄ‚îÄ ReviewForm.tsx
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">8. State Management (Zustand)</h2>
                <div class="diagram-block">
                    <pre>
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      ZUSTAND STORES                              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ   useUserStore  ‚îÇ  ‚îÇ useSearchStore  ‚îÇ  ‚îÇuseBookingStore  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ                 ‚îÇ  ‚îÇ                 ‚îÇ  ‚îÇ                 ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ user          ‚îÇ  ‚îÇ ‚Ä¢ query         ‚îÇ  ‚îÇ ‚Ä¢ draft         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ isAuth        ‚îÇ  ‚îÇ ‚Ä¢ filters       ‚îÇ  ‚îÇ ‚Ä¢ dates         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ favorites     ‚îÇ  ‚îÇ ‚Ä¢ results       ‚îÇ  ‚îÇ ‚Ä¢ guests        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ setUser()     ‚îÇ  ‚îÇ ‚Ä¢ setQuery()    ‚îÇ  ‚îÇ ‚Ä¢ setDraft()    ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ logout()      ‚îÇ  ‚îÇ ‚Ä¢ setFilters()  ‚îÇ  ‚îÇ ‚Ä¢ clear()       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                       ‚îÇ
‚îÇ  ‚îÇ   useUIStore    ‚îÇ  ‚îÇuseCurrencyStore ‚îÇ                       ‚îÇ
‚îÇ  ‚îÇ                 ‚îÇ  ‚îÇ                 ‚îÇ                       ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ theme         ‚îÇ  ‚îÇ ‚Ä¢ baseCurrency  ‚îÇ                       ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ language      ‚îÇ  ‚îÇ ‚Ä¢ rates         ‚îÇ                       ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ sidebarOpen   ‚îÇ  ‚îÇ ‚Ä¢ convert()     ‚îÇ                       ‚îÇ
‚îÇ  ‚îÇ ‚Ä¢ setTheme()    ‚îÇ  ‚îÇ ‚Ä¢ fetchRates()  ‚îÇ                       ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                       ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">9. API Routes Structure</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">API Routes</span>
                    </div>
                    <pre>
app/api/
‚îÇ
‚îú‚îÄ‚îÄ auth/
‚îÇ   ‚îî‚îÄ‚îÄ [...nextauth]/
‚îÇ       ‚îî‚îÄ‚îÄ route.ts          # NextAuth handler
‚îÇ
‚îú‚îÄ‚îÄ properties/
‚îÇ   ‚îú‚îÄ‚îÄ route.ts              # GET (list), POST (create)
‚îÇ   ‚îî‚îÄ‚îÄ [id]/
‚îÇ       ‚îî‚îÄ‚îÄ route.ts          # GET, PUT, DELETE
‚îÇ
‚îú‚îÄ‚îÄ vehicles/
‚îÇ   ‚îú‚îÄ‚îÄ route.ts
‚îÇ   ‚îî‚îÄ‚îÄ [id]/route.ts
‚îÇ
‚îú‚îÄ‚îÄ tours/
‚îÇ   ‚îú‚îÄ‚îÄ route.ts
‚îÇ   ‚îî‚îÄ‚îÄ [id]/route.ts
‚îÇ
‚îú‚îÄ‚îÄ bookings/
‚îÇ   ‚îú‚îÄ‚îÄ route.ts
‚îÇ   ‚îî‚îÄ‚îÄ [id]/route.ts
‚îÇ
‚îú‚îÄ‚îÄ reviews/
‚îÇ   ‚îî‚îÄ‚îÄ route.ts
‚îÇ
‚îú‚îÄ‚îÄ search/
‚îÇ   ‚îî‚îÄ‚îÄ route.ts              # Global search endpoint
‚îÇ
‚îú‚îÄ‚îÄ currency/
‚îÇ   ‚îî‚îÄ‚îÄ route.ts              # Exchange rates
‚îÇ
‚îú‚îÄ‚îÄ upload/
‚îÇ   ‚îî‚îÄ‚îÄ route.ts              # File upload to R2
‚îÇ
‚îî‚îÄ‚îÄ webhooks/
    ‚îî‚îÄ‚îÄ stripe/
        ‚îî‚îÄ‚îÄ route.ts          # Stripe webhooks
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">10. Database Schema (Prisma)</h2>
                <div class="diagram-block">
                    <pre>
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                           DATABASE SCHEMA                                  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                            ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îÇ
‚îÇ  ‚îÇ   Account   ‚îÇ         ‚îÇ    User     ‚îÇ         ‚îÇ   Session   ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ         ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ         ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ userId (FK) ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ id (PK)     ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ userId (FK) ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ provider    ‚îÇ         ‚îÇ email       ‚îÇ         ‚îÇ sessionToken‚îÇ          ‚îÇ
‚îÇ  ‚îÇ providerAcct‚îÇ         ‚îÇ password    ‚îÇ         ‚îÇ expires     ‚îÇ          ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îÇ name, role  ‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îÇ
‚îÇ                          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                   ‚îÇ
‚îÇ                                 ‚îÇ                                          ‚îÇ
‚îÇ        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                ‚îÇ
‚îÇ        ‚îÇ                        ‚îÇ                        ‚îÇ                ‚îÇ
‚îÇ        ‚ñº                        ‚ñº                        ‚ñº                ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îÇ
‚îÇ  ‚îÇ  Property   ‚îÇ         ‚îÇ   Vehicle   ‚îÇ         ‚îÇ    Tour     ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ         ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ         ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ id, title   ‚îÇ         ‚îÇ id, title   ‚îÇ         ‚îÇ id, title   ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ vendorId    ‚îÇ         ‚îÇ vendorId    ‚îÇ         ‚îÇ vendorId    ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ type, price ‚îÇ         ‚îÇ type, brand ‚îÇ         ‚îÇ category    ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ amenities[] ‚îÇ         ‚îÇ pricePerDay ‚îÇ         ‚îÇ duration    ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ images[]    ‚îÇ         ‚îÇ features[]  ‚îÇ         ‚îÇ price       ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ location    ‚îÇ         ‚îÇ images[]    ‚îÇ         ‚îÇ images[]    ‚îÇ          ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îÇ
‚îÇ         ‚îÇ                       ‚îÇ                       ‚îÇ                 ‚îÇ
‚îÇ         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                 ‚îÇ
‚îÇ                                 ‚îÇ                                          ‚îÇ
‚îÇ         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                 ‚îÇ
‚îÇ         ‚îÇ                       ‚îÇ                       ‚îÇ                 ‚îÇ
‚îÇ         ‚ñº                       ‚ñº                       ‚ñº                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îÇ
‚îÇ  ‚îÇ   Booking   ‚îÇ         ‚îÇ   Review    ‚îÇ         ‚îÇ  Favorite   ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ         ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ         ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ userId      ‚îÇ         ‚îÇ userId      ‚îÇ         ‚îÇ userId      ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ propertyId  ‚îÇ         ‚îÇ propertyId  ‚îÇ         ‚îÇ propertyId  ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ vehicleId   ‚îÇ         ‚îÇ rating      ‚îÇ         ‚îÇ vehicleId   ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ tourId      ‚îÇ         ‚îÇ comment     ‚îÇ         ‚îÇ tourId      ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ dates, price‚îÇ         ‚îÇ images[]    ‚îÇ         ‚îÇ createdAt   ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ status      ‚îÇ         ‚îÇ             ‚îÇ         ‚îÇ             ‚îÇ          ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îÇ
‚îÇ                                                                            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">11. External Integrations</h2>
                <div class="diagram-block">
                    <pre>
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                       EXTERNAL INTEGRATIONS                          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ                      PAYMENTS (Stripe)                       ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Checkout Sessions    ‚Ä¢ Connect (Payouts)                  ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Webhooks: payment_intent, checkout.session, refund        ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ                                                                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ                       MAPS (Mapbox)                          ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ GL JS Map Component  ‚Ä¢ Geocoding  ‚Ä¢ Directions API        ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ                                                                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ                   FILE STORAGE (Cloudflare R2)               ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Images Upload  ‚Ä¢ Videos Upload  ‚Ä¢ Signed URLs             ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ                                                                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îÇ
‚îÇ  ‚îÇ     EMAIL (Resend)        ‚îÇ  ‚îÇ    ANALYTICS (PostHog)    ‚îÇ       ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Booking confirmation   ‚îÇ  ‚îÇ  ‚Ä¢ Page views             ‚îÇ       ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Password reset         ‚îÇ  ‚îÇ  ‚Ä¢ User events            ‚îÇ       ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Notifications          ‚îÇ  ‚îÇ  ‚Ä¢ Feature flags          ‚îÇ       ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îÇ
‚îÇ                                                                      ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îÇ
‚îÇ  ‚îÇ   MONITORING (Sentry)     ‚îÇ  ‚îÇ   EXTERNAL APIs           ‚îÇ       ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Error tracking         ‚îÇ  ‚îÇ  ‚Ä¢ Currency rates API     ‚îÇ       ‚îÇ
‚îÇ  ‚îÇ  ‚Ä¢ Performance traces     ‚îÇ  ‚îÇ  ‚Ä¢ Weather data API       ‚îÇ       ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îÇ
‚îÇ                                                                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">12. Infrastructure</h2>
                <div class="diagram-block">
                    <pre>
                                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                    ‚îÇ    CLOUDFLARE       ‚îÇ
                                    ‚îÇ  DNS + WAF + CDN    ‚îÇ
                                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                               ‚îÇ
                                               ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                              VERCEL EDGE NETWORK                            ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ                          NEXT.JS APPLICATION                          ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   ‚îÇ   SSR PAGES    ‚îÇ   ‚îÇ  API ROUTES    ‚îÇ   ‚îÇ   STATIC       ‚îÇ       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   ‚îÇ ‚Ä¢ Home         ‚îÇ   ‚îÇ ‚Ä¢ /api/auth    ‚îÇ   ‚îÇ ‚Ä¢ JS/CSS       ‚îÇ       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   ‚îÇ ‚Ä¢ Properties   ‚îÇ   ‚îÇ ‚Ä¢ /api/props   ‚îÇ   ‚îÇ ‚Ä¢ Images       ‚îÇ       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   ‚îÇ ‚Ä¢ Tours        ‚îÇ   ‚îÇ ‚Ä¢ /api/booking ‚îÇ   ‚îÇ ‚Ä¢ Fonts        ‚îÇ       ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò       ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                    ‚îÇ
           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
           ‚îÇ                        ‚îÇ                        ‚îÇ
           ‚ñº                        ‚ñº                        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     POSTGRESQL      ‚îÇ  ‚îÇ   CLOUDFLARE R2     ‚îÇ  ‚îÇ  EXTERNAL SERVICES  ‚îÇ
‚îÇ   (Neon/Supabase)   ‚îÇ  ‚îÇ   (File Storage)    ‚îÇ  ‚îÇ  Stripe, Mapbox     ‚îÇ
‚îÇ   Users, Properties ‚îÇ  ‚îÇ   images/, videos/  ‚îÇ  ‚îÇ  Resend, PostHog    ‚îÇ
‚îÇ   Bookings, Reviews ‚îÇ  ‚îÇ                     ‚îÇ  ‚îÇ  Sentry, Currency   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">13. Browser Support</h2>
                <div class="diagram-block">
                    <pre>
Browser Support (Target Users):

Chrome 90+        ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ~65%
Safari 15+        ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ~20%
Firefox 90+       ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà  ~8%
Edge 90+          ‚ñà‚ñà‚ñà‚ñà  ~5%
Other             ‚ñà‚ñà  ~2%

Features Required:
- ES2020+ (async/await, optional chaining)
- CSS Grid & Flexbox
- Intersection Observer
- WebGL (for Mapbox)

Mobile Browsers:
- iOS Safari 15+
- Chrome for Android 90+
                    </pre>
                </div>
            </div>

            <!-- ============================================================== -->
            <!-- 14. MIDDLEWARE -->
            <!-- ============================================================== -->
            <div class="section" id="middleware">
                <h2 class="section-title">14. Middleware</h2>

                <h3 class="section-subtitle">14.1 Auth Middleware</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// middleware.ts</span>
<span class="keyword">import</span> { NextResponse } <span class="keyword">from</span> <span class="string">'next/server'</span>
<span class="keyword">import</span> <span class="keyword">type</span> { NextRequest } <span class="keyword">from</span> <span class="string">'next/server'</span>
<span class="keyword">import</span> { getToken } <span class="keyword">from</span> <span class="string">'next-auth/jwt'</span>

<span class="comment">// Routes that require authentication</span>
<span class="keyword">const</span> protectedRoutes = [<span class="string">'/profile'</span>, <span class="string">'/bookings'</span>, <span class="string">'/favorites'</span>]
<span class="keyword">const</span> authRoutes = [<span class="string">'/login'</span>, <span class="string">'/register'</span>]
<span class="keyword">const</span> vendorRoutes = [<span class="string">'/vendor'</span>]
<span class="keyword">const</span> adminRoutes = [<span class="string">'/admin'</span>]

<span class="keyword">export async function</span> <span class="function">middleware</span>(request: <span class="class-name">NextRequest</span>) {
  <span class="keyword">const</span> { pathname } = request.nextUrl

  <span class="comment">// Get JWT token</span>
  <span class="keyword">const</span> token = <span class="keyword">await</span> <span class="function">getToken</span>({
    req: request,
    secret: process.env.NEXTAUTH_SECRET
  })

  <span class="comment">// Redirect authenticated users away from auth pages</span>
  <span class="keyword">if</span> (token && authRoutes.<span class="function">some</span>(route => pathname.<span class="function">startsWith</span>(route))) {
    <span class="keyword">return</span> NextResponse.<span class="function">redirect</span>(<span class="keyword">new</span> <span class="class-name">URL</span>(<span class="string">'/'</span>, request.url))
  }

  <span class="comment">// Protect routes that require authentication</span>
  <span class="keyword">if</span> (!token && protectedRoutes.<span class="function">some</span>(route => pathname.<span class="function">startsWith</span>(route))) {
    <span class="keyword">const</span> loginUrl = <span class="keyword">new</span> <span class="class-name">URL</span>(<span class="string">'/login'</span>, request.url)
    loginUrl.searchParams.<span class="function">set</span>(<span class="string">'callbackUrl'</span>, pathname)
    <span class="keyword">return</span> NextResponse.<span class="function">redirect</span>(loginUrl)
  }

  <span class="comment">// Vendor routes - check role</span>
  <span class="keyword">if</span> (vendorRoutes.<span class="function">some</span>(route => pathname.<span class="function">startsWith</span>(route))) {
    <span class="keyword">if</span> (!token || (token.role !== <span class="string">'vendor'</span> && token.role !== <span class="string">'admin'</span>)) {
      <span class="keyword">return</span> NextResponse.<span class="function">redirect</span>(<span class="keyword">new</span> <span class="class-name">URL</span>(<span class="string">'/403'</span>, request.url))
    }
  }

  <span class="comment">// Admin routes - check role</span>
  <span class="keyword">if</span> (adminRoutes.<span class="function">some</span>(route => pathname.<span class="function">startsWith</span>(route))) {
    <span class="keyword">if</span> (!token || token.role !== <span class="string">'admin'</span>) {
      <span class="keyword">return</span> NextResponse.<span class="function">redirect</span>(<span class="keyword">new</span> <span class="class-name">URL</span>(<span class="string">'/403'</span>, request.url))
    }
  }

  <span class="comment">// Add user info to headers for server components</span>
  <span class="keyword">const</span> response = NextResponse.<span class="function">next</span>()
  <span class="keyword">if</span> (token) {
    response.headers.<span class="function">set</span>(<span class="string">'x-user-id'</span>, token.sub <span class="keyword">as string</span>)
    response.headers.<span class="function">set</span>(<span class="string">'x-user-role'</span>, token.role <span class="keyword">as string</span>)
  }

  <span class="keyword">return</span> response
}

<span class="keyword">export const</span> config = {
  matcher: [
    <span class="string">'/((?!api|_next/static|_next/image|favicon.ico).*)'</span>
  ]
}</pre>
                </div>

                <h3 class="section-subtitle">14.2 Rate Limiting Middleware</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// lib/rate-limit.ts</span>
<span class="keyword">import</span> { <span class="class-name">Ratelimit</span> } <span class="keyword">from</span> <span class="string">'@upstash/ratelimit'</span>
<span class="keyword">import</span> { <span class="class-name">Redis</span> } <span class="keyword">from</span> <span class="string">'@upstash/redis'</span>

<span class="keyword">const</span> redis = <span class="keyword">new</span> <span class="class-name">Redis</span>({
  url: process.env.UPSTASH_REDIS_URL!,
  token: process.env.UPSTASH_REDIS_TOKEN!
})

<span class="comment">// Create different rate limiters for different use cases</span>
<span class="keyword">export const</span> rateLimits = {
  <span class="comment">// General API: 100 requests per minute</span>
  api: <span class="keyword">new</span> <span class="class-name">Ratelimit</span>({
    redis,
    limiter: Ratelimit.<span class="function">slidingWindow</span>(100, <span class="string">'1 m'</span>),
    analytics: <span class="keyword">true</span>,
    prefix: <span class="string">'ratelimit:api'</span>
  }),

  <span class="comment">// Auth endpoints: 5 requests per minute</span>
  auth: <span class="keyword">new</span> <span class="class-name">Ratelimit</span>({
    redis,
    limiter: Ratelimit.<span class="function">slidingWindow</span>(5, <span class="string">'1 m'</span>),
    analytics: <span class="keyword">true</span>,
    prefix: <span class="string">'ratelimit:auth'</span>
  }),

  <span class="comment">// Search: 30 requests per minute</span>
  search: <span class="keyword">new</span> <span class="class-name">Ratelimit</span>({
    redis,
    limiter: Ratelimit.<span class="function">slidingWindow</span>(30, <span class="string">'1 m'</span>),
    analytics: <span class="keyword">true</span>,
    prefix: <span class="string">'ratelimit:search'</span>
  })
}

<span class="keyword">export async function</span> <span class="function">checkRateLimit</span>(
  limiter: <span class="class-name">Ratelimit</span>,
  identifier: <span class="class-name">string</span>
) {
  <span class="keyword">const</span> { success, limit, reset, remaining } = <span class="keyword">await</span> limiter.<span class="function">limit</span>(identifier)

  <span class="keyword">return</span> {
    success,
    headers: {
      <span class="string">'X-RateLimit-Limit'</span>: limit.<span class="function">toString</span>(),
      <span class="string">'X-RateLimit-Remaining'</span>: remaining.<span class="function">toString</span>(),
      <span class="string">'X-RateLimit-Reset'</span>: reset.<span class="function">toString</span>()
    }
  }
}</pre>
                </div>
            </div>

            <!-- ============================================================== -->
            <!-- 15. ERROR HANDLING -->
            <!-- ============================================================== -->
            <div class="section" id="error-handling">
                <h2 class="section-title">15. Error Handling</h2>

                <h3 class="section-subtitle">15.1 Global Error Boundary</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// app/error.tsx</span>
<span class="string">'use client'</span>

<span class="keyword">import</span> { useEffect } <span class="keyword">from</span> <span class="string">'react'</span>
<span class="keyword">import</span> * <span class="keyword">as</span> Sentry <span class="keyword">from</span> <span class="string">'@sentry/nextjs'</span>
<span class="keyword">import</span> { <span class="class-name">Button</span> } <span class="keyword">from</span> <span class="string">'@/shared/components/ui/button'</span>

<span class="keyword">export default function</span> <span class="function">Error</span>({
  error,
  reset
}: {
  error: <span class="class-name">Error</span> & { digest?: <span class="class-name">string</span> }
  reset: () => <span class="class-name">void</span>
}) {
  <span class="function">useEffect</span>(() => {
    <span class="comment">// Log error to Sentry</span>
    Sentry.<span class="function">captureException</span>(error, {
      tags: {
        digest: error.digest,
        location: <span class="string">'error-boundary'</span>
      }
    })
  }, [error])

  <span class="keyword">return</span> (
    &lt;div className=<span class="string">"min-h-screen flex items-center justify-center"</span>&gt;
      &lt;div className=<span class="string">"text-center space-y-4"</span>&gt;
        &lt;h1 className=<span class="string">"text-4xl font-bold"</span>&gt;–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫&lt;/h1&gt;
        &lt;p className=<span class="string">"text-muted-foreground"</span>&gt;
          –ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É.
        &lt;/p&gt;
        {error.digest && (
          &lt;p className=<span class="string">"text-sm text-muted-foreground"</span>&gt;
            –ö–æ–¥ –æ—à–∏–±–∫–∏: {error.digest}
          &lt;/p&gt;
        )}
        &lt;<span class="class-name">Button</span> onClick={() => <span class="function">reset</span>()}&gt;
          –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞
        &lt;/<span class="class-name">Button</span>&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  )
}</pre>
                </div>

                <h3 class="section-subtitle">15.2 API Error Classes</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// shared/lib/errors.ts</span>

<span class="keyword">export class</span> <span class="class-name">AppError</span> <span class="keyword">extends</span> <span class="class-name">Error</span> {
  <span class="keyword">constructor</span>(
    message: <span class="class-name">string</span>,
    <span class="keyword">public</span> code: <span class="class-name">string</span>,
    <span class="keyword">public</span> statusCode: <span class="class-name">number</span> = 500,
    <span class="keyword">public</span> details?: <span class="class-name">Record</span>&lt;<span class="class-name">string</span>, <span class="class-name">unknown</span>&gt;
  ) {
    <span class="keyword">super</span>(message)
    <span class="keyword">this</span>.name = <span class="string">'AppError'</span>
  }
}

<span class="keyword">export class</span> <span class="class-name">ValidationError</span> <span class="keyword">extends</span> <span class="class-name">AppError</span> {
  <span class="keyword">constructor</span>(message: <span class="class-name">string</span>, details?: <span class="class-name">Record</span>&lt;<span class="class-name">string</span>, <span class="class-name">unknown</span>&gt;) {
    <span class="keyword">super</span>(message, <span class="string">'VALIDATION_ERROR'</span>, 400, details)
  }
}

<span class="keyword">export class</span> <span class="class-name">AuthenticationError</span> <span class="keyword">extends</span> <span class="class-name">AppError</span> {
  <span class="keyword">constructor</span>(message = <span class="string">'–¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è'</span>) {
    <span class="keyword">super</span>(message, <span class="string">'UNAUTHORIZED'</span>, 401)
  }
}

<span class="keyword">export class</span> <span class="class-name">ForbiddenError</span> <span class="keyword">extends</span> <span class="class-name">AppError</span> {
  <span class="keyword">constructor</span>(message = <span class="string">'–î–æ—Å—Ç—É–ø –∑–∞–ø—Ä–µ—â–µ–Ω'</span>) {
    <span class="keyword">super</span>(message, <span class="string">'FORBIDDEN'</span>, 403)
  }
}

<span class="keyword">export class</span> <span class="class-name">NotFoundError</span> <span class="keyword">extends</span> <span class="class-name">AppError</span> {
  <span class="keyword">constructor</span>(resource: <span class="class-name">string</span>) {
    <span class="keyword">super</span>(<span class="string">\`\${resource} –Ω–µ –Ω–∞–π–¥–µ–Ω\`</span>, <span class="string">'NOT_FOUND'</span>, 404)
  }
}

<span class="keyword">export class</span> <span class="class-name">ConflictError</span> <span class="keyword">extends</span> <span class="class-name">AppError</span> {
  <span class="keyword">constructor</span>(message: <span class="class-name">string</span>) {
    <span class="keyword">super</span>(message, <span class="string">'CONFLICT'</span>, 409)
  }
}

<span class="keyword">export class</span> <span class="class-name">RateLimitError</span> <span class="keyword">extends</span> <span class="class-name">AppError</span> {
  <span class="keyword">constructor</span>(retryAfter: <span class="class-name">number</span>) {
    <span class="keyword">super</span>(<span class="string">'–°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤'</span>, <span class="string">'RATE_LIMIT'</span>, 429, { retryAfter })
  }
}</pre>
                </div>

                <h3 class="section-subtitle">15.3 API Error Handler</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// shared/lib/api-handler.ts</span>
<span class="keyword">import</span> { NextResponse } <span class="keyword">from</span> <span class="string">'next/server'</span>
<span class="keyword">import</span> { <span class="class-name">ZodError</span> } <span class="keyword">from</span> <span class="string">'zod'</span>
<span class="keyword">import</span> * <span class="keyword">as</span> Sentry <span class="keyword">from</span> <span class="string">'@sentry/nextjs'</span>
<span class="keyword">import</span> { <span class="class-name">AppError</span>, <span class="class-name">ValidationError</span> } <span class="keyword">from</span> <span class="string">'./errors'</span>

<span class="keyword">type</span> <span class="class-name">ApiHandler</span> = (
  request: <span class="class-name">Request</span>,
  context?: { params: <span class="class-name">Record</span>&lt;<span class="class-name">string</span>, <span class="class-name">string</span>&gt; }
) => <span class="class-name">Promise</span>&lt;<span class="class-name">Response</span>&gt;

<span class="keyword">export function</span> <span class="function">withErrorHandler</span>(handler: <span class="class-name">ApiHandler</span>): <span class="class-name">ApiHandler</span> {
  <span class="keyword">return async</span> (request, context) => {
    <span class="keyword">try</span> {
      <span class="keyword">return await</span> <span class="function">handler</span>(request, context)
    } <span class="keyword">catch</span> (error) {
      <span class="comment">// Zod validation errors</span>
      <span class="keyword">if</span> (error <span class="keyword">instanceof</span> <span class="class-name">ZodError</span>) {
        <span class="keyword">return</span> NextResponse.<span class="function">json</span>(
          {
            error: <span class="string">'–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏'</span>,
            code: <span class="string">'VALIDATION_ERROR'</span>,
            details: error.flatten().fieldErrors
          },
          { status: 400 }
        )
      }

      <span class="comment">// Known application errors</span>
      <span class="keyword">if</span> (error <span class="keyword">instanceof</span> <span class="class-name">AppError</span>) {
        <span class="keyword">return</span> NextResponse.<span class="function">json</span>(
          {
            error: error.message,
            code: error.code,
            details: error.details
          },
          { status: error.statusCode }
        )
      }

      <span class="comment">// Unknown errors - log to Sentry</span>
      Sentry.<span class="function">captureException</span>(error)
      console.<span class="function">error</span>(<span class="string">'Unexpected error:'</span>, error)

      <span class="keyword">return</span> NextResponse.<span class="function">json</span>(
        {
          error: <span class="string">'–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞'</span>,
          code: <span class="string">'INTERNAL_ERROR'</span>
        },
        { status: 500 }
      )
    }
  }
}</pre>
                </div>
            </div>

            <!-- ============================================================== -->
            <!-- 16. AUTHENTICATION FULL IMPLEMENTATION -->
            <!-- ============================================================== -->
            <div class="section" id="auth-full">
                <h2 class="section-title">16. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (–ø–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)</h2>

                <h3 class="section-subtitle">16.1 NextAuth.js Configuration</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// shared/lib/auth.ts</span>
<span class="keyword">import</span> <span class="class-name">NextAuth</span> <span class="keyword">from</span> <span class="string">'next-auth'</span>
<span class="keyword">import</span> <span class="class-name">Credentials</span> <span class="keyword">from</span> <span class="string">'next-auth/providers/credentials'</span>
<span class="keyword">import</span> <span class="class-name">Google</span> <span class="keyword">from</span> <span class="string">'next-auth/providers/google'</span>
<span class="keyword">import</span> <span class="class-name">Apple</span> <span class="keyword">from</span> <span class="string">'next-auth/providers/apple'</span>
<span class="keyword">import</span> { <span class="class-name">PrismaAdapter</span> } <span class="keyword">from</span> <span class="string">'@auth/prisma-adapter'</span>
<span class="keyword">import</span> { prisma } <span class="keyword">from</span> <span class="string">'./prisma'</span>
<span class="keyword">import</span> { compare } <span class="keyword">from</span> <span class="string">'bcryptjs'</span>
<span class="keyword">import</span> { loginSchema } <span class="keyword">from</span> <span class="string">'./validations/auth'</span>

<span class="keyword">export const</span> {
  handlers: { GET, POST },
  auth,
  signIn,
  signOut
} = <span class="function">NextAuth</span>({
  adapter: <span class="function">PrismaAdapter</span>(prisma),
  session: { strategy: <span class="string">'jwt'</span> },
  pages: {
    signIn: <span class="string">'/login'</span>,
    signOut: <span class="string">'/logout'</span>,
    error: <span class="string">'/auth/error'</span>,
    verifyRequest: <span class="string">'/auth/verify'</span>
  },
  providers: [
    <span class="function">Credentials</span>({
      <span class="keyword">async</span> <span class="function">authorize</span>(credentials) {
        <span class="keyword">const</span> validated = loginSchema.<span class="function">safeParse</span>(credentials)
        <span class="keyword">if</span> (!validated.success) <span class="keyword">return null</span>

        <span class="keyword">const</span> { email, password } = validated.data

        <span class="keyword">const</span> user = <span class="keyword">await</span> prisma.user.<span class="function">findUnique</span>({
          where: { email },
          select: {
            id: <span class="keyword">true</span>,
            email: <span class="keyword">true</span>,
            name: <span class="keyword">true</span>,
            password: <span class="keyword">true</span>,
            role: <span class="keyword">true</span>,
            image: <span class="keyword">true</span>,
            emailVerified: <span class="keyword">true</span>
          }
        })

        <span class="keyword">if</span> (!user || !user.password) <span class="keyword">return null</span>

        <span class="keyword">const</span> isValid = <span class="keyword">await</span> <span class="function">compare</span>(password, user.password)
        <span class="keyword">if</span> (!isValid) <span class="keyword">return null</span>

        <span class="keyword">return</span> {
          id: user.id,
          email: user.email,
          name: user.name,
          role: user.role,
          image: user.image
        }
      }
    }),
    <span class="function">Google</span>({
      clientId: process.env.GOOGLE_CLIENT_ID!,
      clientSecret: process.env.GOOGLE_CLIENT_SECRET!,
      authorization: {
        params: {
          prompt: <span class="string">'consent'</span>,
          access_type: <span class="string">'offline'</span>,
          response_type: <span class="string">'code'</span>
        }
      }
    }),
    <span class="function">Apple</span>({
      clientId: process.env.APPLE_CLIENT_ID!,
      clientSecret: process.env.APPLE_CLIENT_SECRET!
    })
  ],
  callbacks: {
    <span class="keyword">async</span> <span class="function">jwt</span>({ token, user, trigger, session }) {
      <span class="keyword">if</span> (user) {
        token.id = user.id
        token.role = user.role
      }

      <span class="comment">// Handle session updates</span>
      <span class="keyword">if</span> (trigger === <span class="string">'update'</span> && session) {
        token.name = session.name
        token.image = session.image
      }

      <span class="keyword">return</span> token
    },
    <span class="keyword">async</span> <span class="function">session</span>({ session, token }) {
      <span class="keyword">if</span> (token && session.user) {
        session.user.id = token.id <span class="keyword">as string</span>
        session.user.role = token.role <span class="keyword">as string</span>
      }
      <span class="keyword">return</span> session
    },
    <span class="keyword">async</span> <span class="function">signIn</span>({ user, account }) {
      <span class="comment">// Block sign in if email not verified (for credentials)</span>
      <span class="keyword">if</span> (account?.provider === <span class="string">'credentials'</span>) {
        <span class="keyword">const</span> existingUser = <span class="keyword">await</span> prisma.user.<span class="function">findUnique</span>({
          where: { id: user.id }
        })
        <span class="keyword">if</span> (!existingUser?.emailVerified) {
          <span class="keyword">return false</span>
        }
      }
      <span class="keyword">return true</span>
    }
  },
  events: {
    <span class="keyword">async</span> <span class="function">signIn</span>({ user, isNewUser }) {
      <span class="keyword">if</span> (isNewUser) {
        <span class="comment">// Send welcome email</span>
        <span class="keyword">await</span> <span class="function">sendWelcomeEmail</span>(user.email!, user.name)

        <span class="comment">// Track signup event</span>
        <span class="function">posthog</span>.<span class="function">capture</span>({
          distinctId: user.id!,
          event: <span class="string">'user_signed_up'</span>,
          properties: { provider: <span class="string">'oauth'</span> }
        })
      }
    }
  }
})</pre>
                </div>

                <h3 class="section-subtitle">16.2 Auth Hooks</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// shared/hooks/useAuth.ts</span>
<span class="string">'use client'</span>

<span class="keyword">import</span> { useSession, signIn, signOut } <span class="keyword">from</span> <span class="string">'next-auth/react'</span>
<span class="keyword">import</span> { useMutation } <span class="keyword">from</span> <span class="string">'@tanstack/react-query'</span>
<span class="keyword">import</span> { useRouter } <span class="keyword">from</span> <span class="string">'next/navigation'</span>
<span class="keyword">import</span> { toast } <span class="keyword">from</span> <span class="string">'sonner'</span>

<span class="keyword">export function</span> <span class="function">useAuth</span>() {
  <span class="keyword">const</span> { data: session, status, update } = <span class="function">useSession</span>()
  <span class="keyword">const</span> router = <span class="function">useRouter</span>()

  <span class="keyword">const</span> loginMutation = <span class="function">useMutation</span>({
    mutationFn: <span class="keyword">async</span> (data: { email: <span class="class-name">string</span>; password: <span class="class-name">string</span> }) => {
      <span class="keyword">const</span> result = <span class="keyword">await</span> <span class="function">signIn</span>(<span class="string">'credentials'</span>, {
        email: data.email,
        password: data.password,
        redirect: <span class="keyword">false</span>
      })

      <span class="keyword">if</span> (result?.error) {
        <span class="keyword">throw new</span> <span class="class-name">Error</span>(<span class="string">'–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å'</span>)
      }

      <span class="keyword">return</span> result
    },
    onSuccess: () => {
      toast.<span class="function">success</span>(<span class="string">'–í—ã —É—Å–ø–µ—à–Ω–æ –≤–æ—à–ª–∏'</span>)
      router.<span class="function">refresh</span>()
    },
    onError: (error) => {
      toast.<span class="function">error</span>(error.message)
    }
  })

  <span class="keyword">const</span> registerMutation = <span class="function">useMutation</span>({
    mutationFn: <span class="keyword">async</span> (data: {
      email: <span class="class-name">string</span>
      password: <span class="class-name">string</span>
      name: <span class="class-name">string</span>
    }) => {
      <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="function">fetch</span>(<span class="string">'/api/auth/register'</span>, {
        method: <span class="string">'POST'</span>,
        headers: { <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span> },
        body: JSON.<span class="function">stringify</span>(data)
      })

      <span class="keyword">if</span> (!response.ok) {
        <span class="keyword">const</span> error = <span class="keyword">await</span> response.<span class="function">json</span>()
        <span class="keyword">throw new</span> <span class="class-name">Error</span>(error.message)
      }

      <span class="keyword">return</span> response.<span class="function">json</span>()
    },
    onSuccess: () => {
      toast.<span class="function">success</span>(<span class="string">'–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—á—Ç—É –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è'</span>)
      router.<span class="function">push</span>(<span class="string">'/auth/verify'</span>)
    },
    onError: (error) => {
      toast.<span class="function">error</span>(error.message)
    }
  })

  <span class="keyword">const</span> logoutMutation = <span class="function">useMutation</span>({
    mutationFn: () => <span class="function">signOut</span>({ redirect: <span class="keyword">false</span> }),
    onSuccess: () => {
      toast.<span class="function">success</span>(<span class="string">'–í—ã –≤—ã—à–ª–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã'</span>)
      router.<span class="function">push</span>(<span class="string">'/'</span>)
      router.<span class="function">refresh</span>()
    }
  })

  <span class="keyword">return</span> {
    user: session?.user,
    isAuthenticated: status === <span class="string">'authenticated'</span>,
    isLoading: status === <span class="string">'loading'</span>,
    login: loginMutation.mutate,
    register: registerMutation.mutate,
    logout: logoutMutation.mutate,
    loginWithGoogle: () => <span class="function">signIn</span>(<span class="string">'google'</span>),
    loginWithApple: () => <span class="function">signIn</span>(<span class="string">'apple'</span>),
    updateSession: update,
    isLoginPending: loginMutation.isPending,
    isRegisterPending: registerMutation.isPending
  }
}</pre>
                </div>
            </div>

            <!-- ============================================================== -->
            <!-- 17. FORMS & VALIDATION -->
            <!-- ============================================================== -->
            <div class="section" id="forms-full">
                <h2 class="section-title">17. –§–æ—Ä–º—ã –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è</h2>

                <h3 class="section-subtitle">17.1 Zod Schemas</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// shared/lib/validations/booking.ts</span>
<span class="keyword">import</span> { z } <span class="keyword">from</span> <span class="string">'zod'</span>

<span class="keyword">export const</span> bookingSchema = z.<span class="function">object</span>({
  type: z.<span class="function">enum</span>([<span class="string">'vehicle'</span>, <span class="string">'property'</span>, <span class="string">'tour'</span>]),
  itemId: z.<span class="function">string</span>().<span class="function">uuid</span>(),
  startDate: z.<span class="function">string</span>().<span class="function">datetime</span>(),
  endDate: z.<span class="function">string</span>().<span class="function">datetime</span>(),
  guests: z.<span class="function">number</span>().<span class="function">min</span>(1).<span class="function">max</span>(20).<span class="function">optional</span>(),
  specialRequests: z.<span class="function">string</span>().<span class="function">max</span>(1000).<span class="function">optional</span>(),
  contactPhone: z.<span class="function">string</span>().<span class="function">regex</span>(/^\\+?[0-9]{10,15}$/),
  promoCode: z.<span class="function">string</span>().<span class="function">optional</span>()
}).<span class="function">refine</span>(
  (data) => <span class="keyword">new</span> <span class="class-name">Date</span>(data.endDate) > <span class="keyword">new</span> <span class="class-name">Date</span>(data.startDate),
  {
    message: <span class="string">'–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø–æ–∑–∂–µ –¥–∞—Ç—ã –Ω–∞—á–∞–ª–∞'</span>,
    path: [<span class="string">'endDate'</span>]
  }
)

<span class="keyword">export const</span> reviewSchema = z.<span class="function">object</span>({
  bookingId: z.<span class="function">string</span>().<span class="function">uuid</span>(),
  rating: z.<span class="function">number</span>().<span class="function">min</span>(1).<span class="function">max</span>(5),
  title: z.<span class="function">string</span>().<span class="function">min</span>(5).<span class="function">max</span>(100),
  comment: z.<span class="function">string</span>().<span class="function">min</span>(20).<span class="function">max</span>(2000),
  pros: z.<span class="function">array</span>(z.<span class="function">string</span>()).<span class="function">max</span>(5).<span class="function">optional</span>(),
  cons: z.<span class="function">array</span>(z.<span class="function">string</span>()).<span class="function">max</span>(5).<span class="function">optional</span>(),
  images: z.<span class="function">array</span>(z.<span class="function">string</span>().<span class="function">url</span>()).<span class="function">max</span>(10).<span class="function">optional</span>()
})

<span class="keyword">export const</span> searchSchema = z.<span class="function">object</span>({
  query: z.<span class="function">string</span>().<span class="function">min</span>(2).<span class="function">max</span>(100).<span class="function">optional</span>(),
  type: z.<span class="function">enum</span>([<span class="string">'all'</span>, <span class="string">'vehicle'</span>, <span class="string">'property'</span>, <span class="string">'tour'</span>]).<span class="function">default</span>(<span class="string">'all'</span>),
  minPrice: z.<span class="function">number</span>().<span class="function">min</span>(0).<span class="function">optional</span>(),
  maxPrice: z.<span class="function">number</span>().<span class="function">min</span>(0).<span class="function">optional</span>(),
  location: z.<span class="function">string</span>().<span class="function">optional</span>(),
  dateFrom: z.<span class="function">string</span>().<span class="function">datetime</span>().<span class="function">optional</span>(),
  dateTo: z.<span class="function">string</span>().<span class="function">datetime</span>().<span class="function">optional</span>(),
  sortBy: z.<span class="function">enum</span>([<span class="string">'price'</span>, <span class="string">'rating'</span>, <span class="string">'date'</span>, <span class="string">'popularity'</span>]).<span class="function">default</span>(<span class="string">'popularity'</span>),
  sortOrder: z.<span class="function">enum</span>([<span class="string">'asc'</span>, <span class="string">'desc'</span>]).<span class="function">default</span>(<span class="string">'desc'</span>),
  page: z.<span class="function">number</span>().<span class="function">min</span>(1).<span class="function">default</span>(1),
  limit: z.<span class="function">number</span>().<span class="function">min</span>(1).<span class="function">max</span>(100).<span class="function">default</span>(20)
})

<span class="keyword">export type</span> <span class="class-name">BookingInput</span> = z.<span class="function">infer</span>&lt;<span class="keyword">typeof</span> bookingSchema&gt;
<span class="keyword">export type</span> <span class="class-name">ReviewInput</span> = z.<span class="function">infer</span>&lt;<span class="keyword">typeof</span> reviewSchema&gt;
<span class="keyword">export type</span> <span class="class-name">SearchInput</span> = z.<span class="function">infer</span>&lt;<span class="keyword">typeof</span> searchSchema&gt;</pre>
                </div>

                <h3 class="section-subtitle">17.2 Form Component with React Hook Form</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// features/booking/components/BookingForm.tsx</span>
<span class="string">'use client'</span>

<span class="keyword">import</span> { useForm } <span class="keyword">from</span> <span class="string">'react-hook-form'</span>
<span class="keyword">import</span> { zodResolver } <span class="keyword">from</span> <span class="string">'@hookform/resolvers/zod'</span>
<span class="keyword">import</span> { useMutation } <span class="keyword">from</span> <span class="string">'@tanstack/react-query'</span>
<span class="keyword">import</span> { bookingSchema, <span class="keyword">type</span> <span class="class-name">BookingInput</span> } <span class="keyword">from</span> <span class="string">'@/shared/lib/validations/booking'</span>
<span class="keyword">import</span> {
  <span class="class-name">Form</span>,
  <span class="class-name">FormControl</span>,
  <span class="class-name">FormField</span>,
  <span class="class-name">FormItem</span>,
  <span class="class-name">FormLabel</span>,
  <span class="class-name">FormMessage</span>
} <span class="keyword">from</span> <span class="string">'@/shared/components/ui/form'</span>
<span class="keyword">import</span> { <span class="class-name">Input</span> } <span class="keyword">from</span> <span class="string">'@/shared/components/ui/input'</span>
<span class="keyword">import</span> { <span class="class-name">Button</span> } <span class="keyword">from</span> <span class="string">'@/shared/components/ui/button'</span>
<span class="keyword">import</span> { <span class="class-name">DatePicker</span> } <span class="keyword">from</span> <span class="string">'@/shared/components/ui/date-picker'</span>
<span class="keyword">import</span> { <span class="class-name">Textarea</span> } <span class="keyword">from</span> <span class="string">'@/shared/components/ui/textarea'</span>
<span class="keyword">import</span> { createBooking } <span class="keyword">from</span> <span class="string">'../api/bookings'</span>
<span class="keyword">import</span> { toast } <span class="keyword">from</span> <span class="string">'sonner'</span>

<span class="keyword">interface</span> <span class="class-name">BookingFormProps</span> {
  itemId: <span class="class-name">string</span>
  type: <span class="string">'vehicle'</span> | <span class="string">'property'</span> | <span class="string">'tour'</span>
  onSuccess?: () => <span class="class-name">void</span>
}

<span class="keyword">export function</span> <span class="function">BookingForm</span>({ itemId, type, onSuccess }: <span class="class-name">BookingFormProps</span>) {
  <span class="keyword">const</span> form = <span class="function">useForm</span>&lt;<span class="class-name">BookingInput</span>&gt;({
    resolver: <span class="function">zodResolver</span>(bookingSchema),
    defaultValues: {
      type,
      itemId,
      guests: 1,
      specialRequests: <span class="string">''</span>
    }
  })

  <span class="keyword">const</span> mutation = <span class="function">useMutation</span>({
    mutationFn: createBooking,
    onSuccess: (data) => {
      toast.<span class="function">success</span>(<span class="string">'–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ!'</span>)
      onSuccess?.()
    },
    onError: (error) => {
      toast.<span class="function">error</span>(error.message)
    }
  })

  <span class="keyword">const</span> onSubmit = (data: <span class="class-name">BookingInput</span>) => {
    mutation.<span class="function">mutate</span>(data)
  }

  <span class="keyword">return</span> (
    &lt;<span class="class-name">Form</span> {...form}&gt;
      &lt;form onSubmit={form.<span class="function">handleSubmit</span>(onSubmit)} className=<span class="string">"space-y-6"</span>&gt;
        &lt;<span class="class-name">FormField</span>
          control={form.control}
          name=<span class="string">"startDate"</span>
          render={({ field }) => (
            &lt;<span class="class-name">FormItem</span>&gt;
              &lt;<span class="class-name">FormLabel</span>&gt;–î–∞—Ç–∞ –∑–∞–µ–∑–¥–∞&lt;/<span class="class-name">FormLabel</span>&gt;
              &lt;<span class="class-name">FormControl</span>&gt;
                &lt;<span class="class-name">DatePicker</span>
                  value={field.value}
                  onChange={field.onChange}
                  minDate={<span class="keyword">new</span> <span class="class-name">Date</span>()}
                /&gt;
              &lt;/<span class="class-name">FormControl</span>&gt;
              &lt;<span class="class-name">FormMessage</span> /&gt;
            &lt;/<span class="class-name">FormItem</span>&gt;
          )}
        /&gt;

        &lt;<span class="class-name">FormField</span>
          control={form.control}
          name=<span class="string">"endDate"</span>
          render={({ field }) => (
            &lt;<span class="class-name">FormItem</span>&gt;
              &lt;<span class="class-name">FormLabel</span>&gt;–î–∞—Ç–∞ –≤—ã–µ–∑–¥–∞&lt;/<span class="class-name">FormLabel</span>&gt;
              &lt;<span class="class-name">FormControl</span>&gt;
                &lt;<span class="class-name">DatePicker</span>
                  value={field.value}
                  onChange={field.onChange}
                  minDate={form.<span class="function">watch</span>(<span class="string">'startDate'</span>) || <span class="keyword">new</span> <span class="class-name">Date</span>()}
                /&gt;
              &lt;/<span class="class-name">FormControl</span>&gt;
              &lt;<span class="class-name">FormMessage</span> /&gt;
            &lt;/<span class="class-name">FormItem</span>&gt;
          )}
        /&gt;

        &lt;<span class="class-name">FormField</span>
          control={form.control}
          name=<span class="string">"contactPhone"</span>
          render={({ field }) => (
            &lt;<span class="class-name">FormItem</span>&gt;
              &lt;<span class="class-name">FormLabel</span>&gt;–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω&lt;/<span class="class-name">FormLabel</span>&gt;
              &lt;<span class="class-name">FormControl</span>&gt;
                &lt;<span class="class-name">Input</span>
                  type=<span class="string">"tel"</span>
                  placeholder=<span class="string">"+7 999 123-45-67"</span>
                  {...field}
                /&gt;
              &lt;/<span class="class-name">FormControl</span>&gt;
              &lt;<span class="class-name">FormMessage</span> /&gt;
            &lt;/<span class="class-name">FormItem</span>&gt;
          )}
        /&gt;

        &lt;<span class="class-name">FormField</span>
          control={form.control}
          name=<span class="string">"specialRequests"</span>
          render={({ field }) => (
            &lt;<span class="class-name">FormItem</span>&gt;
              &lt;<span class="class-name">FormLabel</span>&gt;–û—Å–æ–±—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è&lt;/<span class="class-name">FormLabel</span>&gt;
              &lt;<span class="class-name">FormControl</span>&gt;
                &lt;<span class="class-name">Textarea</span>
                  placeholder=<span class="string">"–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–∂–µ–ª–∞–Ω–∏—è..."</span>
                  {...field}
                /&gt;
              &lt;/<span class="class-name">FormControl</span>&gt;
              &lt;<span class="class-name">FormMessage</span> /&gt;
            &lt;/<span class="class-name">FormItem</span>&gt;
          )}
        /&gt;

        &lt;<span class="class-name">Button</span>
          type=<span class="string">"submit"</span>
          className=<span class="string">"w-full"</span>
          disabled={mutation.isPending}
        &gt;
          {mutation.isPending ? <span class="string">'–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ...'</span> : <span class="string">'–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å'</span>}
        &lt;/<span class="class-name">Button</span>&gt;
      &lt;/form&gt;
    &lt;/<span class="class-name">Form</span>&gt;
  )
}</pre>
                </div>
            </div>

            <!-- ============================================================== -->
            <!-- 18. FILE UPLOAD -->
            <!-- ============================================================== -->
            <div class="section" id="file-upload">
                <h2 class="section-title">18. –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤</h2>

                <h3 class="section-subtitle">18.1 Upload API Route</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// app/api/upload/route.ts</span>
<span class="keyword">import</span> { NextResponse } <span class="keyword">from</span> <span class="string">'next/server'</span>
<span class="keyword">import</span> { <span class="class-name">S3Client</span>, <span class="class-name">PutObjectCommand</span> } <span class="keyword">from</span> <span class="string">'@aws-sdk/client-s3'</span>
<span class="keyword">import</span> { getSignedUrl } <span class="keyword">from</span> <span class="string">'@aws-sdk/s3-request-presigner'</span>
<span class="keyword">import</span> { auth } <span class="keyword">from</span> <span class="string">'@/shared/lib/auth'</span>
<span class="keyword">import</span> { nanoid } <span class="keyword">from</span> <span class="string">'nanoid'</span>

<span class="keyword">const</span> s3 = <span class="keyword">new</span> <span class="class-name">S3Client</span>({
  region: <span class="string">'auto'</span>,
  endpoint: process.env.R2_ENDPOINT,
  credentials: {
    accessKeyId: process.env.R2_ACCESS_KEY_ID!,
    secretAccessKey: process.env.R2_SECRET_ACCESS_KEY!
  }
})

<span class="keyword">const</span> ALLOWED_TYPES = [<span class="string">'image/jpeg'</span>, <span class="string">'image/png'</span>, <span class="string">'image/webp'</span>]
<span class="keyword">const</span> MAX_SIZE = 10 * 1024 * 1024 <span class="comment">// 10MB</span>

<span class="keyword">export async function</span> <span class="function">POST</span>(request: <span class="class-name">Request</span>) {
  <span class="keyword">const</span> session = <span class="keyword">await</span> <span class="function">auth</span>()
  <span class="keyword">if</span> (!session?.user) {
    <span class="keyword">return</span> NextResponse.<span class="function">json</span>(
      { error: <span class="string">'Unauthorized'</span> },
      { status: 401 }
    )
  }

  <span class="keyword">const</span> { fileName, contentType, contentLength } = <span class="keyword">await</span> request.<span class="function">json</span>()

  <span class="comment">// Validate file type</span>
  <span class="keyword">if</span> (!ALLOWED_TYPES.<span class="function">includes</span>(contentType)) {
    <span class="keyword">return</span> NextResponse.<span class="function">json</span>(
      { error: <span class="string">'–ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π —Ç–∏–ø —Ñ–∞–π–ª–∞'</span> },
      { status: 400 }
    )
  }

  <span class="comment">// Validate file size</span>
  <span class="keyword">if</span> (contentLength > MAX_SIZE) {
    <span class="keyword">return</span> NextResponse.<span class="function">json</span>(
      { error: <span class="string">'–§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π (–º–∞–∫—Å. 10MB)'</span> },
      { status: 400 }
    )
  }

  <span class="comment">// Generate unique key</span>
  <span class="keyword">const</span> ext = fileName.<span class="function">split</span>(<span class="string">'.'</span>).<span class="function">pop</span>()
  <span class="keyword">const</span> key = <span class="string">\`uploads/\${session.user.id}/\${<span class="function">nanoid</span>()}.\${ext}\`</span>

  <span class="comment">// Generate presigned URL</span>
  <span class="keyword">const</span> command = <span class="keyword">new</span> <span class="class-name">PutObjectCommand</span>({
    Bucket: process.env.R2_BUCKET_NAME,
    Key: key,
    ContentType: contentType,
    ContentLength: contentLength,
    Metadata: {
      userId: session.user.id
    }
  })

  <span class="keyword">const</span> uploadUrl = <span class="keyword">await</span> <span class="function">getSignedUrl</span>(s3, command, {
    expiresIn: 60 * 5 <span class="comment">// 5 minutes</span>
  })

  <span class="keyword">const</span> publicUrl = <span class="string">\`\${process.env.R2_PUBLIC_URL}/\${key}\`</span>

  <span class="keyword">return</span> NextResponse.<span class="function">json</span>({
    uploadUrl,
    publicUrl,
    key
  })
}</pre>
                </div>

                <h3 class="section-subtitle">18.2 Upload Component</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// shared/components/ImageUpload.tsx</span>
<span class="string">'use client'</span>

<span class="keyword">import</span> { useState, useCallback } <span class="keyword">from</span> <span class="string">'react'</span>
<span class="keyword">import</span> { useDropzone } <span class="keyword">from</span> <span class="string">'react-dropzone'</span>
<span class="keyword">import</span> { useMutation } <span class="keyword">from</span> <span class="string">'@tanstack/react-query'</span>
<span class="keyword">import</span> { <span class="class-name">Progress</span> } <span class="keyword">from</span> <span class="string">'@/shared/components/ui/progress'</span>
<span class="keyword">import</span> { cn } <span class="keyword">from</span> <span class="string">'@/shared/lib/utils'</span>

<span class="keyword">interface</span> <span class="class-name">ImageUploadProps</span> {
  onUpload: (url: <span class="class-name">string</span>) => <span class="class-name">void</span>
  maxFiles?: <span class="class-name">number</span>
  className?: <span class="class-name">string</span>
}

<span class="keyword">export function</span> <span class="function">ImageUpload</span>({
  onUpload,
  maxFiles = 5,
  className
}: <span class="class-name">ImageUploadProps</span>) {
  <span class="keyword">const</span> [progress, setProgress] = <span class="function">useState</span>(0)

  <span class="keyword">const</span> uploadMutation = <span class="function">useMutation</span>({
    mutationFn: <span class="keyword">async</span> (file: <span class="class-name">File</span>) => {
      <span class="comment">// 1. Get presigned URL</span>
      <span class="keyword">const</span> response = <span class="keyword">await</span> <span class="function">fetch</span>(<span class="string">'/api/upload'</span>, {
        method: <span class="string">'POST'</span>,
        headers: { <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span> },
        body: JSON.<span class="function">stringify</span>({
          fileName: file.name,
          contentType: file.type,
          contentLength: file.size
        })
      })

      <span class="keyword">if</span> (!response.ok) {
        <span class="keyword">throw new</span> <span class="class-name">Error</span>(<span class="string">'–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è URL'</span>)
      }

      <span class="keyword">const</span> { uploadUrl, publicUrl } = <span class="keyword">await</span> response.<span class="function">json</span>()

      <span class="comment">// 2. Upload to R2</span>
      <span class="keyword">await</span> <span class="function">fetch</span>(uploadUrl, {
        method: <span class="string">'PUT'</span>,
        body: file,
        headers: {
          <span class="string">'Content-Type'</span>: file.type
        }
      })

      <span class="keyword">return</span> publicUrl
    },
    onSuccess: (url) => {
      <span class="function">onUpload</span>(url)
      <span class="function">setProgress</span>(0)
    }
  })

  <span class="keyword">const</span> onDrop = <span class="function">useCallback</span>((acceptedFiles: <span class="class-name">File</span>[]) => {
    acceptedFiles.<span class="function">forEach</span>(file => {
      uploadMutation.<span class="function">mutate</span>(file)
    })
  }, [uploadMutation])

  <span class="keyword">const</span> { getRootProps, getInputProps, isDragActive } = <span class="function">useDropzone</span>({
    onDrop,
    accept: {
      <span class="string">'image/*'</span>: [<span class="string">'.jpeg'</span>, <span class="string">'.jpg'</span>, <span class="string">'.png'</span>, <span class="string">'.webp'</span>]
    },
    maxFiles,
    maxSize: 10 * 1024 * 1024
  })

  <span class="keyword">return</span> (
    &lt;div
      {...<span class="function">getRootProps</span>()}
      className={<span class="function">cn</span>(
        <span class="string">'border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-colors'</span>,
        isDragActive && <span class="string">'border-primary bg-primary/5'</span>,
        className
      )}
    &gt;
      &lt;input {...<span class="function">getInputProps</span>()} /&gt;

      {uploadMutation.isPending ? (
        &lt;div className=<span class="string">"space-y-2"</span>&gt;
          &lt;p&gt;–ó–∞–≥—Ä—É–∑–∫–∞...&lt;/p&gt;
          &lt;<span class="class-name">Progress</span> value={progress} /&gt;
        &lt;/div&gt;
      ) : isDragActive ? (
        &lt;p&gt;–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ —Ñ–∞–π–ª—ã —Å—é–¥–∞...&lt;/p&gt;
      ) : (
        &lt;div className=<span class="string">"space-y-2"</span>&gt;
          &lt;p&gt;–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–ª–∏ –∫–ª–∏–∫–Ω–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞&lt;/p&gt;
          &lt;p className=<span class="string">"text-sm text-muted-foreground"</span>&gt;
            –ú–∞–∫—Å. —Ä–∞–∑–º–µ—Ä: 10MB | –§–æ—Ä–º–∞—Ç—ã: JPEG, PNG, WebP
          &lt;/p&gt;
        &lt;/div&gt;
      )}
    &lt;/div&gt;
  )
}</pre>
                </div>
            </div>

            <!-- ============================================================== -->
            <!-- 19. SEO OPTIMIZATION -->
            <!-- ============================================================== -->
            <div class="section" id="seo">
                <h2 class="section-title">19. SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è</h2>

                <h3 class="section-subtitle">19.1 Metadata API</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// app/(main)/transport/[id]/page.tsx</span>
<span class="keyword">import</span> { <span class="class-name">Metadata</span> } <span class="keyword">from</span> <span class="string">'next'</span>
<span class="keyword">import</span> { notFound } <span class="keyword">from</span> <span class="string">'next/navigation'</span>
<span class="keyword">import</span> { getVehicleById } <span class="keyword">from</span> <span class="string">'@/features/transport/api'</span>

<span class="keyword">interface</span> <span class="class-name">Props</span> {
  params: { id: <span class="class-name">string</span> }
}

<span class="keyword">export async function</span> <span class="function">generateMetadata</span>({
  params
}: <span class="class-name">Props</span>): <span class="class-name">Promise</span>&lt;<span class="class-name">Metadata</span>&gt; {
  <span class="keyword">const</span> vehicle = <span class="keyword">await</span> <span class="function">getVehicleById</span>(params.id)

  <span class="keyword">if</span> (!vehicle) {
    <span class="keyword">return</span> {
      title: <span class="string">'–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω'</span>
    }
  }

  <span class="keyword">return</span> {
    title: <span class="string">\`\${vehicle.brand} \${vehicle.model} | –ê—Ä–µ–Ω–¥–∞ –Ω–∞ –ü—Ö—É–∫–µ—Ç–µ\`</span>,
    description: <span class="string">\`–ê—Ä–µ–Ω–¥–∞ \${vehicle.type === 'car' ? '–∞–≤—Ç–æ–º–æ–±–∏–ª—è' : '—Å–∫—É—Ç–µ—Ä–∞'} \${vehicle.brand} \${vehicle.model} –Ω–∞ –ü—Ö—É–∫–µ—Ç–µ. –û—Ç \${vehicle.pricePerDay} ‡∏ø/–¥–µ–Ω—å. –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞.\`</span>,
    keywords: [
      <span class="string">'–∞—Ä–µ–Ω–¥–∞'</span>,
      vehicle.brand,
      vehicle.model,
      <span class="string">'–ü—Ö—É–∫–µ—Ç'</span>,
      vehicle.type
    ],
    openGraph: {
      title: <span class="string">\`\${vehicle.brand} \${vehicle.model} | Phuket App\`</span>,
      description: vehicle.description,
      images: vehicle.images.<span class="function">map</span>(img => ({
        url: img,
        width: 1200,
        height: 630,
        alt: <span class="string">\`\${vehicle.brand} \${vehicle.model}\`</span>
      })),
      type: <span class="string">'website'</span>,
      locale: <span class="string">'ru_RU'</span>,
      siteName: <span class="string">'Phuket App'</span>
    },
    twitter: {
      card: <span class="string">'summary_large_image'</span>,
      title: <span class="string">\`\${vehicle.brand} \${vehicle.model}\`</span>,
      description: vehicle.description,
      images: [vehicle.images[0]]
    },
    alternates: {
      canonical: <span class="string">\`https://phuketapp.com/transport/\${vehicle.id}\`</span>,
      languages: {
        <span class="string">'ru-RU'</span>: <span class="string">\`https://phuketapp.com/ru/transport/\${vehicle.id}\`</span>,
        <span class="string">'en-US'</span>: <span class="string">\`https://phuketapp.com/en/transport/\${vehicle.id}\`</span>,
        <span class="string">'th-TH'</span>: <span class="string">\`https://phuketapp.com/th/transport/\${vehicle.id}\`</span>
      }
    }
  }
}</pre>
                </div>

                <h3 class="section-subtitle">19.2 JSON-LD Structured Data</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// shared/components/JsonLd.tsx</span>
<span class="keyword">interface</span> <span class="class-name">VehicleJsonLdProps</span> {
  vehicle: <span class="class-name">Vehicle</span>
  reviews: <span class="class-name">Review</span>[]
}

<span class="keyword">export function</span> <span class="function">VehicleJsonLd</span>({ vehicle, reviews }: <span class="class-name">VehicleJsonLdProps</span>) {
  <span class="keyword">const</span> averageRating = reviews.<span class="function">reduce</span>((acc, r) => acc + r.rating, 0) / reviews.length

  <span class="keyword">const</span> jsonLd = {
    <span class="string">'@context'</span>: <span class="string">'https://schema.org'</span>,
    <span class="string">'@type'</span>: <span class="string">'Product'</span>,
    name: <span class="string">\`\${vehicle.brand} \${vehicle.model}\`</span>,
    description: vehicle.description,
    image: vehicle.images,
    brand: {
      <span class="string">'@type'</span>: <span class="string">'Brand'</span>,
      name: vehicle.brand
    },
    offers: {
      <span class="string">'@type'</span>: <span class="string">'Offer'</span>,
      price: vehicle.pricePerDay,
      priceCurrency: <span class="string">'THB'</span>,
      availability: <span class="string">'https://schema.org/InStock'</span>,
      priceValidUntil: <span class="keyword">new</span> <span class="class-name">Date</span>(Date.<span class="function">now</span>() + 30 * 24 * 60 * 60 * 1000).<span class="function">toISOString</span>()
    },
    aggregateRating: reviews.length > 0 ? {
      <span class="string">'@type'</span>: <span class="string">'AggregateRating'</span>,
      ratingValue: averageRating.<span class="function">toFixed</span>(1),
      reviewCount: reviews.length,
      bestRating: <span class="string">'5'</span>,
      worstRating: <span class="string">'1'</span>
    } : <span class="keyword">undefined</span>,
    review: reviews.<span class="function">slice</span>(0, 5).<span class="function">map</span>(r => ({
      <span class="string">'@type'</span>: <span class="string">'Review'</span>,
      reviewRating: {
        <span class="string">'@type'</span>: <span class="string">'Rating'</span>,
        ratingValue: r.rating
      },
      author: {
        <span class="string">'@type'</span>: <span class="string">'Person'</span>,
        name: r.userName
      },
      reviewBody: r.comment,
      datePublished: r.createdAt
    }))
  }

  <span class="keyword">return</span> (
    &lt;script
      type=<span class="string">"application/ld+json"</span>
      dangerouslySetInnerHTML={{ __html: JSON.<span class="function">stringify</span>(jsonLd) }}
    /&gt;
  )
}</pre>
                </div>

                <h3 class="section-subtitle">19.3 Sitemap Generation</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// app/sitemap.ts</span>
<span class="keyword">import</span> { <span class="class-name">MetadataRoute</span> } <span class="keyword">from</span> <span class="string">'next'</span>
<span class="keyword">import</span> { prisma } <span class="keyword">from</span> <span class="string">'@/shared/lib/prisma'</span>

<span class="keyword">export default async function</span> <span class="function">sitemap</span>(): <span class="class-name">Promise</span>&lt;<span class="class-name">MetadataRoute.Sitemap</span>&gt; {
  <span class="keyword">const</span> baseUrl = <span class="string">'https://phuketapp.com'</span>

  <span class="comment">// Get all vehicles</span>
  <span class="keyword">const</span> vehicles = <span class="keyword">await</span> prisma.vehicle.<span class="function">findMany</span>({
    select: { id: <span class="keyword">true</span>, updatedAt: <span class="keyword">true</span> }
  })

  <span class="comment">// Get all properties</span>
  <span class="keyword">const</span> properties = <span class="keyword">await</span> prisma.property.<span class="function">findMany</span>({
    select: { id: <span class="keyword">true</span>, updatedAt: <span class="keyword">true</span> }
  })

  <span class="comment">// Get all tours</span>
  <span class="keyword">const</span> tours = <span class="keyword">await</span> prisma.tour.<span class="function">findMany</span>({
    select: { id: <span class="keyword">true</span>, updatedAt: <span class="keyword">true</span> }
  })

  <span class="keyword">return</span> [
    <span class="comment">// Static pages</span>
    { url: baseUrl, lastModified: <span class="keyword">new</span> <span class="class-name">Date</span>(), changeFrequency: <span class="string">'daily'</span>, priority: 1 },
    { url: <span class="string">\`\${baseUrl}/transport\`</span>, lastModified: <span class="keyword">new</span> <span class="class-name">Date</span>(), changeFrequency: <span class="string">'daily'</span>, priority: 0.9 },
    { url: <span class="string">\`\${baseUrl}/accommodation\`</span>, lastModified: <span class="keyword">new</span> <span class="class-name">Date</span>(), changeFrequency: <span class="string">'daily'</span>, priority: 0.9 },
    { url: <span class="string">\`\${baseUrl}/tours\`</span>, lastModified: <span class="keyword">new</span> <span class="class-name">Date</span>(), changeFrequency: <span class="string">'daily'</span>, priority: 0.9 },

    <span class="comment">// Vehicle pages</span>
    ...vehicles.<span class="function">map</span>(v => ({
      url: <span class="string">\`\${baseUrl}/transport/\${v.id}\`</span>,
      lastModified: v.updatedAt,
      changeFrequency: <span class="string">'weekly'</span> <span class="keyword">as const</span>,
      priority: 0.8
    })),

    <span class="comment">// Property pages</span>
    ...properties.<span class="function">map</span>(p => ({
      url: <span class="string">\`\${baseUrl}/accommodation/\${p.id}\`</span>,
      lastModified: p.updatedAt,
      changeFrequency: <span class="string">'weekly'</span> <span class="keyword">as const</span>,
      priority: 0.8
    })),

    <span class="comment">// Tour pages</span>
    ...tours.<span class="function">map</span>(t => ({
      url: <span class="string">\`\${baseUrl}/tours/\${t.id}\`</span>,
      lastModified: t.updatedAt,
      changeFrequency: <span class="string">'weekly'</span> <span class="keyword">as const</span>,
      priority: 0.8
    }))
  ]
}</pre>
                </div>
            </div>

            <!-- ============================================================== -->
            <!-- 20. PERFORMANCE OPTIMIZATION -->
            <!-- ============================================================== -->
            <div class="section" id="performance">
                <h2 class="section-title">20. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</h2>

                <h3 class="section-subtitle">20.1 Image Optimization</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// shared/components/OptimizedImage.tsx</span>
<span class="keyword">import</span> <span class="class-name">Image</span> <span class="keyword">from</span> <span class="string">'next/image'</span>
<span class="keyword">import</span> { useState } <span class="keyword">from</span> <span class="string">'react'</span>
<span class="keyword">import</span> { cn } <span class="keyword">from</span> <span class="string">'@/shared/lib/utils'</span>

<span class="keyword">interface</span> <span class="class-name">OptimizedImageProps</span> {
  src: <span class="class-name">string</span>
  alt: <span class="class-name">string</span>
  width: <span class="class-name">number</span>
  height: <span class="class-name">number</span>
  priority?: <span class="class-name">boolean</span>
  className?: <span class="class-name">string</span>
}

<span class="keyword">export function</span> <span class="function">OptimizedImage</span>({
  src,
  alt,
  width,
  height,
  priority = <span class="keyword">false</span>,
  className
}: <span class="class-name">OptimizedImageProps</span>) {
  <span class="keyword">const</span> [isLoading, setIsLoading] = <span class="function">useState</span>(<span class="keyword">true</span>)

  <span class="keyword">return</span> (
    &lt;div className={<span class="function">cn</span>(<span class="string">'relative overflow-hidden'</span>, className)}&gt;
      &lt;<span class="class-name">Image</span>
        src={src}
        alt={alt}
        width={width}
        height={height}
        priority={priority}
        quality={85}
        placeholder=<span class="string">"blur"</span>
        blurDataURL=<span class="string">"data:image/jpeg;base64,/9j/4AAQSkZJRg..."</span>
        sizes=<span class="string">"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw"</span>
        className={<span class="function">cn</span>(
          <span class="string">'duration-700 ease-in-out'</span>,
          isLoading
            ? <span class="string">'scale-110 blur-2xl grayscale'</span>
            : <span class="string">'scale-100 blur-0 grayscale-0'</span>
        )}
        onLoad={() => <span class="function">setIsLoading</span>(<span class="keyword">false</span>)}
      /&gt;
    &lt;/div&gt;
  )
}</pre>
                </div>

                <h3 class="section-subtitle">20.2 React Query Configuration</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// shared/lib/query-client.ts</span>
<span class="keyword">import</span> { <span class="class-name">QueryClient</span> } <span class="keyword">from</span> <span class="string">'@tanstack/react-query'</span>

<span class="keyword">export const</span> queryClient = <span class="keyword">new</span> <span class="class-name">QueryClient</span>({
  defaultOptions: {
    queries: {
      <span class="comment">// Data remains fresh for 1 minute</span>
      staleTime: 60 * 1000,
      <span class="comment">// Cache for 5 minutes</span>
      gcTime: 5 * 60 * 1000,
      <span class="comment">// Don't refetch on window focus in production</span>
      refetchOnWindowFocus: process.env.NODE_ENV === <span class="string">'development'</span>,
      <span class="comment">// Retry failed requests 2 times</span>
      retry: 2,
      <span class="comment">// Exponential backoff</span>
      retryDelay: (attemptIndex) => Math.<span class="function">min</span>(1000 * 2 ** attemptIndex, 30000)
    },
    mutations: {
      <span class="comment">// Don't retry mutations by default</span>
      retry: <span class="keyword">false</span>
    }
  }
})

<span class="comment">// Prefetch common data on app start</span>
<span class="keyword">export async function</span> <span class="function">prefetchCommonData</span>() {
  <span class="keyword">await</span> Promise.<span class="function">all</span>([
    queryClient.<span class="function">prefetchQuery</span>({
      queryKey: [<span class="string">'vehicleTypes'</span>],
      queryFn: fetchVehicleTypes
    }),
    queryClient.<span class="function">prefetchQuery</span>({
      queryKey: [<span class="string">'popularLocations'</span>],
      queryFn: fetchPopularLocations
    }),
    queryClient.<span class="function">prefetchQuery</span>({
      queryKey: [<span class="string">'exchangeRates'</span>],
      queryFn: fetchExchangeRates
    })
  ])
}</pre>
                </div>

                <h3 class="section-subtitle">20.3 Bundle Analysis & Code Splitting</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// next.config.js</span>
<span class="keyword">const</span> withBundleAnalyzer = <span class="function">require</span>(<span class="string">'@next/bundle-analyzer'</span>)({
  enabled: process.env.ANALYZE === <span class="string">'true'</span>
})

<span class="comment">/** @type {import('next').NextConfig} */</span>
<span class="keyword">const</span> nextConfig = {
  <span class="comment">// Enable React strict mode</span>
  reactStrictMode: <span class="keyword">true</span>,

  <span class="comment">// Optimize images</span>
  images: {
    formats: [<span class="string">'image/avif'</span>, <span class="string">'image/webp'</span>],
    remotePatterns: [
      {
        protocol: <span class="string">'https'</span>,
        hostname: <span class="string">'*.r2.cloudflarestorage.com'</span>
      }
    ],
    deviceSizes: [640, 750, 828, 1080, 1200, 1920, 2048],
    imageSizes: [16, 32, 48, 64, 96, 128, 256, 384]
  },

  <span class="comment">// Compiler optimizations</span>
  compiler: {
    removeConsole: process.env.NODE_ENV === <span class="string">'production'</span>
  },

  <span class="comment">// Experimental features</span>
  experimental: {
    optimizeCss: <span class="keyword">true</span>,
    optimizePackageImports: [
      <span class="string">'@tanstack/react-query'</span>,
      <span class="string">'date-fns'</span>,
      <span class="string">'lodash'</span>
    ]
  },

  <span class="comment">// Headers for caching</span>
  <span class="keyword">async</span> <span class="function">headers</span>() {
    <span class="keyword">return</span> [
      {
        source: <span class="string">'/:all*(svg|jpg|png|webp|avif)'</span>,
        headers: [
          {
            key: <span class="string">'Cache-Control'</span>,
            value: <span class="string">'public, max-age=31536000, immutable'</span>
          }
        ]
      }
    ]
  }
}

module.exports = <span class="function">withBundleAnalyzer</span>(nextConfig)</pre>
                </div>
            </div>

            <!-- ============================================================== -->
            <!-- 21. TESTING -->
            <!-- ============================================================== -->
            <div class="section" id="testing">
                <h2 class="section-title">21. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</h2>

                <h3 class="section-subtitle">21.1 Unit Tests (Vitest)</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// features/booking/__tests__/calculatePrice.test.ts</span>
<span class="keyword">import</span> { describe, it, expect } <span class="keyword">from</span> <span class="string">'vitest'</span>
<span class="keyword">import</span> { calculateBookingPrice } <span class="keyword">from</span> <span class="string">'../utils/calculatePrice'</span>

<span class="function">describe</span>(<span class="string">'calculateBookingPrice'</span>, () => {
  <span class="function">it</span>(<span class="string">'calculates daily rate correctly'</span>, () => {
    <span class="keyword">const</span> result = <span class="function">calculateBookingPrice</span>({
      pricePerDay: 500,
      startDate: <span class="string">'2024-01-01'</span>,
      endDate: <span class="string">'2024-01-03'</span>
    })

    <span class="function">expect</span>(result.days).<span class="function">toBe</span>(2)
    <span class="function">expect</span>(result.subtotal).<span class="function">toBe</span>(1000)
    <span class="function">expect</span>(result.total).<span class="function">toBe</span>(1000)
  })

  <span class="function">it</span>(<span class="string">'applies weekly discount for 7+ days'</span>, () => {
    <span class="keyword">const</span> result = <span class="function">calculateBookingPrice</span>({
      pricePerDay: 500,
      pricePerWeek: 3000,
      startDate: <span class="string">'2024-01-01'</span>,
      endDate: <span class="string">'2024-01-08'</span>
    })

    <span class="function">expect</span>(result.days).<span class="function">toBe</span>(7)
    <span class="function">expect</span>(result.subtotal).<span class="function">toBe</span>(3000)
    <span class="function">expect</span>(result.discount).<span class="function">toBe</span>(500) <span class="comment">// 7 * 500 - 3000</span>
  })

  <span class="function">it</span>(<span class="string">'applies promo code discount'</span>, () => {
    <span class="keyword">const</span> result = <span class="function">calculateBookingPrice</span>({
      pricePerDay: 500,
      startDate: <span class="string">'2024-01-01'</span>,
      endDate: <span class="string">'2024-01-03'</span>,
      promoCode: { type: <span class="string">'percentage'</span>, value: 10 }
    })

    <span class="function">expect</span>(result.promoDiscount).<span class="function">toBe</span>(100)
    <span class="function">expect</span>(result.total).<span class="function">toBe</span>(900)
  })

  <span class="function">it</span>(<span class="string">'adds loyalty points discount'</span>, () => {
    <span class="keyword">const</span> result = <span class="function">calculateBookingPrice</span>({
      pricePerDay: 500,
      startDate: <span class="string">'2024-01-01'</span>,
      endDate: <span class="string">'2024-01-03'</span>,
      loyaltyPoints: 200
    })

    <span class="function">expect</span>(result.loyaltyDiscount).<span class="function">toBe</span>(200)
    <span class="function">expect</span>(result.total).<span class="function">toBe</span>(800)
  })
})</pre>
                </div>

                <h3 class="section-subtitle">21.2 Integration Tests (Testing Library)</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// features/booking/__tests__/BookingForm.test.tsx</span>
<span class="keyword">import</span> { render, screen, waitFor } <span class="keyword">from</span> <span class="string">'@testing-library/react'</span>
<span class="keyword">import</span> userEvent <span class="keyword">from</span> <span class="string">'@testing-library/user-event'</span>
<span class="keyword">import</span> { <span class="class-name">QueryClient</span>, <span class="class-name">QueryClientProvider</span> } <span class="keyword">from</span> <span class="string">'@tanstack/react-query'</span>
<span class="keyword">import</span> { <span class="class-name">BookingForm</span> } <span class="keyword">from</span> <span class="string">'../components/BookingForm'</span>
<span class="keyword">import</span> { server } <span class="keyword">from</span> <span class="string">'@/mocks/server'</span>
<span class="keyword">import</span> { http, <span class="class-name">HttpResponse</span> } <span class="keyword">from</span> <span class="string">'msw'</span>

<span class="keyword">const</span> queryClient = <span class="keyword">new</span> <span class="class-name">QueryClient</span>({
  defaultOptions: { queries: { retry: <span class="keyword">false</span> } }
})

<span class="keyword">const</span> <span class="function">renderWithProviders</span> = (ui: <span class="class-name">React.ReactElement</span>) => {
  <span class="keyword">return</span> <span class="function">render</span>(
    &lt;<span class="class-name">QueryClientProvider</span> client={queryClient}&gt;
      {ui}
    &lt;/<span class="class-name">QueryClientProvider</span>&gt;
  )
}

<span class="function">describe</span>(<span class="string">'BookingForm'</span>, () => {
  <span class="function">it</span>(<span class="string">'submits booking successfully'</span>, <span class="keyword">async</span> () => {
    <span class="keyword">const</span> onSuccess = vi.<span class="function">fn</span>()
    <span class="keyword">const</span> user = userEvent.<span class="function">setup</span>()

    <span class="function">renderWithProviders</span>(
      &lt;<span class="class-name">BookingForm</span>
        itemId=<span class="string">"vehicle-123"</span>
        type=<span class="string">"vehicle"</span>
        onSuccess={onSuccess}
      /&gt;
    )

    <span class="comment">// Fill form</span>
    <span class="keyword">await</span> user.<span class="function">type</span>(
      screen.<span class="function">getByLabelText</span>(<span class="string">/–∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω/i</span>),
      <span class="string">'+79991234567'</span>
    )

    <span class="comment">// Submit</span>
    <span class="keyword">await</span> user.<span class="function">click</span>(screen.<span class="function">getByRole</span>(<span class="string">'button'</span>, { name: <span class="string">/–∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å/i</span> }))

    <span class="comment">// Wait for success</span>
    <span class="keyword">await</span> <span class="function">waitFor</span>(() => {
      <span class="function">expect</span>(onSuccess).<span class="function">toHaveBeenCalled</span>()
    })
  })

  <span class="function">it</span>(<span class="string">'shows validation errors'</span>, <span class="keyword">async</span> () => {
    <span class="keyword">const</span> user = userEvent.<span class="function">setup</span>()

    <span class="function">renderWithProviders</span>(
      &lt;<span class="class-name">BookingForm</span> itemId=<span class="string">"vehicle-123"</span> type=<span class="string">"vehicle"</span> /&gt;
    )

    <span class="comment">// Submit without filling required fields</span>
    <span class="keyword">await</span> user.<span class="function">click</span>(screen.<span class="function">getByRole</span>(<span class="string">'button'</span>, { name: <span class="string">/–∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å/i</span> }))

    <span class="comment">// Check for error message</span>
    <span class="keyword">await</span> <span class="function">waitFor</span>(() => {
      <span class="function">expect</span>(screen.<span class="function">getByText</span>(<span class="string">/–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ/i</span>)).<span class="function">toBeInTheDocument</span>()
    })
  })

  <span class="function">it</span>(<span class="string">'handles server error'</span>, <span class="keyword">async</span> () => {
    <span class="comment">// Mock server error</span>
    server.<span class="function">use</span>(
      http.<span class="function">post</span>(<span class="string">'/api/bookings'</span>, () => {
        <span class="keyword">return</span> HttpResponse.<span class="function">json</span>(
          { error: <span class="string">'–≠—Ç–æ –≤—Ä–µ–º—è —É–∂–µ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–æ'</span> },
          { status: 409 }
        )
      })
    )

    <span class="keyword">const</span> user = userEvent.<span class="function">setup</span>()

    <span class="function">renderWithProviders</span>(
      &lt;<span class="class-name">BookingForm</span> itemId=<span class="string">"vehicle-123"</span> type=<span class="string">"vehicle"</span> /&gt;
    )

    <span class="comment">// Fill and submit</span>
    <span class="keyword">await</span> user.<span class="function">type</span>(
      screen.<span class="function">getByLabelText</span>(<span class="string">/–∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω/i</span>),
      <span class="string">'+79991234567'</span>
    )
    <span class="keyword">await</span> user.<span class="function">click</span>(screen.<span class="function">getByRole</span>(<span class="string">'button'</span>, { name: <span class="string">/–∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å/i</span> }))

    <span class="comment">// Check for error toast</span>
    <span class="keyword">await</span> <span class="function">waitFor</span>(() => {
      <span class="function">expect</span>(screen.<span class="function">getByText</span>(<span class="string">/—É–∂–µ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–æ/i</span>)).<span class="function">toBeInTheDocument</span>()
    })
  })
})</pre>
                </div>

                <h3 class="section-subtitle">21.3 E2E Tests (Playwright)</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// e2e/booking.spec.ts</span>
<span class="keyword">import</span> { test, expect } <span class="keyword">from</span> <span class="string">'@playwright/test'</span>

test.<span class="function">describe</span>(<span class="string">'Booking Flow'</span>, () => {
  test.<span class="function">beforeEach</span>(<span class="keyword">async</span> ({ page }) => {
    <span class="comment">// Login before each test</span>
    <span class="keyword">await</span> page.<span class="function">goto</span>(<span class="string">'/login'</span>)
    <span class="keyword">await</span> page.<span class="function">fill</span>(<span class="string">'input[name="email"]'</span>, <span class="string">'test@example.com'</span>)
    <span class="keyword">await</span> page.<span class="function">fill</span>(<span class="string">'input[name="password"]'</span>, <span class="string">'password123'</span>)
    <span class="keyword">await</span> page.<span class="function">click</span>(<span class="string">'button[type="submit"]'</span>)
    <span class="keyword">await</span> page.<span class="function">waitForURL</span>(<span class="string">'/'</span>)
  })

  <span class="function">test</span>(<span class="string">'complete vehicle booking flow'</span>, <span class="keyword">async</span> ({ page }) => {
    <span class="comment">// Go to transport page</span>
    <span class="keyword">await</span> page.<span class="function">goto</span>(<span class="string">'/transport'</span>)

    <span class="comment">// Select first available vehicle</span>
    <span class="keyword">await</span> page.<span class="function">click</span>(<span class="string">'[data-testid="vehicle-card"]:first-child'</span>)

    <span class="comment">// Wait for detail page</span>
    <span class="keyword">await</span> <span class="function">expect</span>(page.<span class="function">locator</span>(<span class="string">'h1'</span>)).<span class="function">toBeVisible</span>()

    <span class="comment">// Select dates</span>
    <span class="keyword">await</span> page.<span class="function">click</span>(<span class="string">'[data-testid="start-date-picker"]'</span>)
    <span class="keyword">await</span> page.<span class="function">click</span>(<span class="string">'[data-testid="calendar-day"]:not([disabled]):first-child'</span>)

    <span class="keyword">await</span> page.<span class="function">click</span>(<span class="string">'[data-testid="end-date-picker"]'</span>)
    <span class="keyword">await</span> page.<span class="function">click</span>(<span class="string">'[data-testid="calendar-day"]:not([disabled]):nth-child(3)'</span>)

    <span class="comment">// Fill phone</span>
    <span class="keyword">await</span> page.<span class="function">fill</span>(<span class="string">'input[name="contactPhone"]'</span>, <span class="string">'+79991234567'</span>)

    <span class="comment">// Click book button</span>
    <span class="keyword">await</span> page.<span class="function">click</span>(<span class="string">'button:has-text("–ó–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å")'</span>)

    <span class="comment">// Wait for Stripe checkout</span>
    <span class="keyword">await</span> page.<span class="function">waitForURL</span>(<span class="string">/checkout\.stripe\.com/</span>)

    <span class="comment">// Fill Stripe test card</span>
    <span class="keyword">await</span> page.<span class="function">fill</span>(<span class="string">'input[name="cardNumber"]'</span>, <span class="string">'4242424242424242'</span>)
    <span class="keyword">await</span> page.<span class="function">fill</span>(<span class="string">'input[name="cardExpiry"]'</span>, <span class="string">'12/30'</span>)
    <span class="keyword">await</span> page.<span class="function">fill</span>(<span class="string">'input[name="cardCvc"]'</span>, <span class="string">'123'</span>)
    <span class="keyword">await</span> page.<span class="function">fill</span>(<span class="string">'input[name="billingName"]'</span>, <span class="string">'Test User'</span>)

    <span class="comment">// Submit payment</span>
    <span class="keyword">await</span> page.<span class="function">click</span>(<span class="string">'button:has-text("Pay")'</span>)

    <span class="comment">// Wait for success page</span>
    <span class="keyword">await</span> page.<span class="function">waitForURL</span>(<span class="string">/\/booking\/success/</span>)

    <span class="comment">// Verify success</span>
    <span class="keyword">await</span> <span class="function">expect</span>(page.<span class="function">locator</span>(<span class="string">'h1'</span>)).<span class="function">toContainText</span>(<span class="string">'–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ'</span>)
  })
})</pre>
                </div>
            </div>

            <!-- ============================================================== -->
            <!-- 22. DEPLOYMENT & CI/CD -->
            <!-- ============================================================== -->
            <div class="section" id="deployment">
                <h2 class="section-title">22. –î–µ–ø–ª–æ–π –∏ CI/CD</h2>

                <h3 class="section-subtitle">22.1 GitHub Actions Workflow</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">YAML</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment"># .github/workflows/ci.yml</span>
name: CI/CD Pipeline

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

env:
  NODE_VERSION: '20'

jobs:
  lint-and-type-check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: \${{ env.NODE_VERSION }}
          cache: 'npm'

      - name: Install dependencies
        run: npm ci

      - name: Run ESLint
        run: npm run lint

      - name: Run TypeScript check
        run: npm run type-check

  unit-tests:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: \${{ env.NODE_VERSION }}
          cache: 'npm'

      - name: Install dependencies
        run: npm ci

      - name: Run unit tests
        run: npm run test:unit -- --coverage

      - name: Upload coverage
        uses: codecov/codecov-action@v3
        with:
          files: ./coverage/lcov.info

  e2e-tests:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: \${{ env.NODE_VERSION }}
          cache: 'npm'

      - name: Install dependencies
        run: npm ci

      - name: Install Playwright browsers
        run: npx playwright install --with-deps

      - name: Run E2E tests
        run: npm run test:e2e
        env:
          DATABASE_URL: \${{ secrets.TEST_DATABASE_URL }}
          NEXTAUTH_SECRET: \${{ secrets.NEXTAUTH_SECRET }}

      - name: Upload test results
        if: always()
        uses: actions/upload-artifact@v3
        with:
          name: playwright-report
          path: playwright-report/

  deploy-preview:
    needs: [lint-and-type-check, unit-tests]
    if: github.event_name == 'pull_request'
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Deploy to Vercel Preview
        uses: amondnet/vercel-action@v25
        with:
          vercel-token: \${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: \${{ secrets.VERCEL_ORG_ID }}
          vercel-project-id: \${{ secrets.VERCEL_PROJECT_ID }}
          scope: \${{ secrets.VERCEL_ORG_ID }}

  deploy-production:
    needs: [lint-and-type-check, unit-tests, e2e-tests]
    if: github.ref == 'refs/heads/main'
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4

      - name: Deploy to Vercel Production
        uses: amondnet/vercel-action@v25
        with:
          vercel-token: \${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: \${{ secrets.VERCEL_ORG_ID }}
          vercel-project-id: \${{ secrets.VERCEL_PROJECT_ID }}
          vercel-args: '--prod'
          scope: \${{ secrets.VERCEL_ORG_ID }}</pre>
                </div>

                <h3 class="section-subtitle">22.2 Environment Variables</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">.env.example</span>
                    </div>
                    <pre><span class="comment"># App</span>
NEXT_PUBLIC_APP_URL=https://phuketapp.com
NEXT_PUBLIC_API_URL=https://api.phuketapp.com/v1

<span class="comment"># Database</span>
DATABASE_URL=postgresql://user:password@host:5432/phuket_web

<span class="comment"># Auth</span>
NEXTAUTH_URL=https://phuketapp.com
NEXTAUTH_SECRET=your-secret-key-min-32-chars
GOOGLE_CLIENT_ID=xxx.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=xxx
APPLE_CLIENT_ID=com.phuketapp.web
APPLE_CLIENT_SECRET=xxx

<span class="comment"># Stripe</span>
NEXT_PUBLIC_STRIPE_KEY=pk_live_xxx
STRIPE_SECRET_KEY=sk_live_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx

<span class="comment"># Mapbox</span>
NEXT_PUBLIC_MAPBOX_TOKEN=pk.eyJ1xxx

<span class="comment"># Cloudflare R2</span>
R2_ENDPOINT=https://xxx.r2.cloudflarestorage.com
R2_ACCESS_KEY_ID=xxx
R2_SECRET_ACCESS_KEY=xxx
R2_BUCKET_NAME=phuket-uploads
R2_PUBLIC_URL=https://cdn.phuketapp.com

<span class="comment"># Email (Resend)</span>
RESEND_API_KEY=re_xxx

<span class="comment"># Analytics</span>
NEXT_PUBLIC_POSTHOG_KEY=phc_xxx
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com

<span class="comment"># Monitoring</span>
SENTRY_DSN=https://xxx@o123.ingest.sentry.io/456
SENTRY_AUTH_TOKEN=sntrys_xxx

<span class="comment"># Rate Limiting</span>
UPSTASH_REDIS_URL=https://xxx.upstash.io
UPSTASH_REDIS_TOKEN=xxx</pre>
                </div>
            </div>

            <!-- ============================================================== -->
            <!-- 23. MONITORING -->
            <!-- ============================================================== -->
            <div class="section" id="monitoring">
                <h2 class="section-title">23. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</h2>

                <h3 class="section-subtitle">23.1 Sentry Integration</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// sentry.client.config.ts</span>
<span class="keyword">import</span> * <span class="keyword">as</span> Sentry <span class="keyword">from</span> <span class="string">'@sentry/nextjs'</span>

Sentry.<span class="function">init</span>({
  dsn: process.env.NEXT_PUBLIC_SENTRY_DSN,
  tracesSampleRate: 0.1,
  replaysSessionSampleRate: 0.1,
  replaysOnErrorSampleRate: 1.0,

  integrations: [
    Sentry.<span class="function">replayIntegration</span>({
      maskAllText: <span class="keyword">false</span>,
      blockAllMedia: <span class="keyword">false</span>
    }),
    Sentry.<span class="function">browserTracingIntegration</span>()
  ],

  beforeSend(event) {
    <span class="comment">// Don't send errors in development</span>
    <span class="keyword">if</span> (process.env.NODE_ENV === <span class="string">'development'</span>) {
      <span class="keyword">return null</span>
    }
    <span class="keyword">return</span> event
  }
})</pre>
                </div>

                <h3 class="section-subtitle">23.2 PostHog Analytics</h3>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// shared/lib/posthog.ts</span>
<span class="keyword">import</span> posthog <span class="keyword">from</span> <span class="string">'posthog-js'</span>

<span class="keyword">export function</span> <span class="function">initPostHog</span>() {
  <span class="keyword">if</span> (<span class="keyword">typeof</span> window === <span class="string">'undefined'</span>) <span class="keyword">return</span>
  <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">'production'</span>) <span class="keyword">return</span>

  posthog.<span class="function">init</span>(process.env.NEXT_PUBLIC_POSTHOG_KEY!, {
    api_host: process.env.NEXT_PUBLIC_POSTHOG_HOST,
    capture_pageview: <span class="keyword">false</span>, <span class="comment">// We capture manually with router events</span>
    capture_pageleave: <span class="keyword">true</span>,
    persistence: <span class="string">'localStorage'</span>,
    autocapture: <span class="keyword">true</span>
  })
}

<span class="comment">// Track page views</span>
<span class="keyword">export function</span> <span class="function">trackPageView</span>(url: <span class="class-name">string</span>) {
  posthog.<span class="function">capture</span>(<span class="string">'$pageview'</span>, {
    <span class="string">'$current_url'</span>: url
  })
}

<span class="comment">// Track custom events</span>
<span class="keyword">export function</span> <span class="function">trackEvent</span>(
  event: <span class="class-name">string</span>,
  properties?: <span class="class-name">Record</span>&lt;<span class="class-name">string</span>, <span class="class-name">unknown</span>&gt;
) {
  posthog.<span class="function">capture</span>(event, properties)
}

<span class="comment">// Identify user</span>
<span class="keyword">export function</span> <span class="function">identifyUser</span>(userId: <span class="class-name">string</span>, traits?: <span class="class-name">Record</span>&lt;<span class="class-name">string</span>, <span class="class-name">unknown</span>&gt;) {
  posthog.<span class="function">identify</span>(userId, traits)
}

<span class="comment">// Feature flags</span>
<span class="keyword">export function</span> <span class="function">isFeatureEnabled</span>(flag: <span class="class-name">string</span>): <span class="class-name">boolean</span> {
  <span class="keyword">return</span> posthog.<span class="function">isFeatureEnabled</span>(flag) ?? <span class="keyword">false</span>
}</pre>
                </div>

                <h3 class="section-subtitle">23.3 Performance Monitoring Dashboard</h3>
                <div class="diagram-block">
                    <pre>
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                        MONITORING DASHBOARD                                  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                              ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ                           VERCEL ANALYTICS                           ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ   ‚Ä¢ Core Web Vitals (LCP, FID, CLS)                                  ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ   ‚Ä¢ Edge function performance                                        ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ   ‚Ä¢ API route latency                                                ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ   ‚Ä¢ Static asset caching                                             ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ                                                                              ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îÇ
‚îÇ  ‚îÇ         SENTRY             ‚îÇ    ‚îÇ         POSTHOG            ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ   ‚Ä¢ Error tracking         ‚îÇ    ‚îÇ   ‚Ä¢ User sessions          ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ   ‚Ä¢ Performance traces     ‚îÇ    ‚îÇ   ‚Ä¢ Conversion funnels     ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ   ‚Ä¢ Session replays        ‚îÇ    ‚îÇ   ‚Ä¢ Feature flags          ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ   ‚Ä¢ Release tracking       ‚îÇ    ‚îÇ   ‚Ä¢ A/B testing            ‚îÇ          ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îÇ
‚îÇ                                                                              ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ                         CUSTOM METRICS                               ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ   ‚Ä¢ Booking conversion rate                                          ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ   ‚Ä¢ Search performance (p50, p95, p99)                               ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ   ‚Ä¢ Payment success rate                                             ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ   ‚Ä¢ API error rate by endpoint                                       ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ                                                                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                    </pre>
                </div>
            </div>
        `
        }
    },

    // ========================================================================
    // WEB TECHNICAL DESIGN
    // ========================================================================
    'web-technical': {
        title: '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–∏–∑–∞–π–Ω',
        icon: null,
        platform: 'web',
        breadcrumb: ['–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', 'Web / Next.js', '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–∏–∑–∞–π–Ω'],
        description: '–î–µ—Ç–∞–ª–∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ Web',
        levels: {
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // QUICK - –ö—Ä–∞—Ç–∫–∞—è –≤—ã–∂–∏–º–∫–∞
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            quick: `
            <div class="section">
                <h2 class="section-title">Web Tech Stack</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Area</th>
                                <th>Technology</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td><strong>Framework</strong></td><td>Next.js 14 (App Router)</td></tr>
                            <tr><td><strong>Language</strong></td><td>TypeScript 5.3+</td></tr>
                            <tr><td><strong>Styling</strong></td><td>Tailwind CSS + shadcn/ui</td></tr>
                            <tr><td><strong>State</strong></td><td>Zustand + React Query</td></tr>
                            <tr><td><strong>Deployment</strong></td><td>Vercel</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Key Components</h2>
                <div class="cards-grid">
                    <div class="card">
                        <span class="card-icon">‚ö°</span>
                        <h3 class="card-title">Server Components</h3>
                        <p class="card-description">React Server Components for SEO & performance</p>
                    </div>
                    <div class="card">
                        <span class="card-icon">üîê</span>
                        <h3 class="card-title">NextAuth.js</h3>
                        <p class="card-description">JWT auth with OAuth providers</p>
                    </div>
                    <div class="card">
                        <span class="card-icon">üí≥</span>
                        <h3 class="card-title">Stripe</h3>
                        <p class="card-description">Payment processing</p>
                    </div>
                    <div class="card">
                        <span class="card-icon">üó∫Ô∏è</span>
                        <h3 class="card-title">Mapbox</h3>
                        <p class="card-description">Interactive maps</p>
                    </div>
                </div>
            </div>
            `,

            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // MEDIUM - –°—Ä–µ–¥–Ω–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            medium: `
            <div class="section">
                <h2 class="section-title">1. Dependencies</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">package.json (main deps)</span>
                    </div>
                    <pre>{
  "next": "14.1.0",
  "react": "18.2.0",
  "typescript": "5.3.3",
  "@tanstack/react-query": "5.17.0",
  "zustand": "4.4.7",
  "next-auth": "5.0.0-beta",
  "tailwindcss": "3.4.1",
  "@stripe/stripe-js": "2.3.0",
  "mapbox-gl": "3.1.0",
  "react-hook-form": "7.49.0",
  "zod": "3.22.4"
}</pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">2. Authentication Flow</h2>
                <div class="diagram-block">
                    <pre>
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Client  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ NextAuth ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ   API    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
     ‚îÇ                ‚îÇ                ‚îÇ
     ‚îÇ  1. Login      ‚îÇ                ‚îÇ
     ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ                ‚îÇ
     ‚îÇ                ‚îÇ  2. Verify     ‚îÇ
     ‚îÇ                ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ
     ‚îÇ                ‚îÇ  3. JWT        ‚îÇ
     ‚îÇ                ‚îÇ‚óÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ
     ‚îÇ  4. Session    ‚îÇ                ‚îÇ
     ‚îÇ‚óÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ                ‚îÇ
     ‚îÇ                ‚îÇ                ‚îÇ
     ‚îÇ  5. API calls with token        ‚îÇ
     ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">3. Environment Variables</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">.env.local</span>
                    </div>
                    <pre>
NEXT_PUBLIC_API_URL=https://api.phuketapp.com/v1
NEXTAUTH_URL=https://phuketapp.com
NEXTAUTH_SECRET=your-secret-key
NEXT_PUBLIC_MAPBOX_TOKEN=pk.xxx
NEXT_PUBLIC_STRIPE_KEY=pk_live_xxx
                    </pre>
                </div>
            </div>
            `,

            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            // FULL - –ü–æ–ª–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
            // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
            full: `
            <div class="section">
                <h2 class="section-title">1. Dependencies</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">package.json</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre>{
  "name": "phuket-web",
  "version": "1.0.0",
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",
    "type-check": "tsc --noEmit"
  },
  "dependencies": {
    "next": "14.1.0",
    "react": "18.2.0",
    "react-dom": "18.2.0",
    "typescript": "5.3.3",
    "@tanstack/react-query": "5.17.0",
    "zustand": "4.4.7",
    "next-auth": "5.0.0-beta.4",
    "tailwindcss": "3.4.1",
    "@stripe/stripe-js": "2.3.0",
    "@stripe/react-stripe-js": "2.4.0",
    "mapbox-gl": "3.1.0",
    "react-map-gl": "7.1.7",
    "react-hook-form": "7.49.0",
    "@hookform/resolvers": "3.3.4",
    "zod": "3.22.4",
    "date-fns": "3.2.0",
    "clsx": "2.1.0",
    "tailwind-merge": "2.2.0"
  },
  "devDependencies": {
    "@types/node": "20.11.0",
    "@types/react": "18.2.48",
    "autoprefixer": "10.4.17",
    "postcss": "8.4.33",
    "eslint": "8.56.0",
    "eslint-config-next": "14.1.0"
  }
}</pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">2. NextAuth Configuration</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// shared/lib/auth.ts</span>
<span class="keyword">import</span> <span class="class-name">NextAuth</span> <span class="keyword">from</span> <span class="string">'next-auth'</span>
<span class="keyword">import</span> <span class="class-name">Credentials</span> <span class="keyword">from</span> <span class="string">'next-auth/providers/credentials'</span>
<span class="keyword">import</span> <span class="class-name">Google</span> <span class="keyword">from</span> <span class="string">'next-auth/providers/google'</span>

<span class="keyword">export const</span> { handlers, auth, signIn, signOut } = <span class="function">NextAuth</span>({
  providers: [
    <span class="function">Credentials</span>({
      credentials: {
        email: { type: <span class="string">'email'</span> },
        password: { type: <span class="string">'password'</span> }
      },
      <span class="keyword">async</span> <span class="function">authorize</span>(credentials) {
        <span class="keyword">const</span> res = <span class="keyword">await</span> <span class="function">fetch</span>(<span class="string">\`\${API_URL}/auth/login\`</span>, {
          method: <span class="string">'POST'</span>,
          body: JSON.<span class="function">stringify</span>(credentials),
          headers: { <span class="string">'Content-Type'</span>: <span class="string">'application/json'</span> }
        })

        <span class="keyword">if</span> (!res.ok) <span class="keyword">return null</span>
        <span class="keyword">return</span> res.<span class="function">json</span>()
      }
    }),
    <span class="function">Google</span>({
      clientId: process.env.GOOGLE_CLIENT_ID!,
      clientSecret: process.env.GOOGLE_CLIENT_SECRET!
    })
  ],
  callbacks: {
    <span class="keyword">async</span> <span class="function">jwt</span>({ token, user }) {
      <span class="keyword">if</span> (user) {
        token.accessToken = user.access_token
        token.refreshToken = user.refresh_token
      }
      <span class="keyword">return</span> token
    },
    <span class="keyword">async</span> <span class="function">session</span>({ session, token }) {
      session.accessToken = token.accessToken
      <span class="keyword">return</span> session
    }
  },
  pages: {
    signIn: <span class="string">'/login'</span>,
    error: <span class="string">'/auth/error'</span>
  }
})</pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">3. React Query Setup</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// app/providers.tsx</span>
<span class="string">'use client'</span>

<span class="keyword">import</span> { <span class="class-name">QueryClient</span>, <span class="class-name">QueryClientProvider</span> } <span class="keyword">from</span> <span class="string">'@tanstack/react-query'</span>
<span class="keyword">import</span> { <span class="class-name">SessionProvider</span> } <span class="keyword">from</span> <span class="string">'next-auth/react'</span>
<span class="keyword">import</span> { useState } <span class="keyword">from</span> <span class="string">'react'</span>

<span class="keyword">export function</span> <span class="function">Providers</span>({ children }: { children: <span class="class-name">React.ReactNode</span> }) {
  <span class="keyword">const</span> [queryClient] = <span class="function">useState</span>(() => <span class="keyword">new</span> <span class="class-name">QueryClient</span>({
    defaultOptions: {
      queries: {
        staleTime: 60 * 1000, <span class="comment">// 1 minute</span>
        refetchOnWindowFocus: <span class="keyword">false</span>
      }
    }
  }))

  <span class="keyword">return</span> (
    &lt;<span class="class-name">SessionProvider</span>&gt;
      &lt;<span class="class-name">QueryClientProvider</span> client={queryClient}&gt;
        {children}
      &lt;/<span class="class-name">QueryClientProvider</span>&gt;
    &lt;/<span class="class-name">SessionProvider</span>&gt;
  )
}</pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">4. Zustand Store Example</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="comment">// shared/stores/cart-store.ts</span>
<span class="keyword">import</span> { create } <span class="keyword">from</span> <span class="string">'zustand'</span>
<span class="keyword">import</span> { persist } <span class="keyword">from</span> <span class="string">'zustand/middleware'</span>

<span class="keyword">interface</span> <span class="class-name">CartItem</span> {
  id: <span class="class-name">string</span>
  type: <span class="string">'vehicle'</span> | <span class="string">'property'</span> | <span class="string">'tour'</span>
  name: <span class="class-name">string</span>
  price: <span class="class-name">number</span>
  dates: { start: <span class="class-name">Date</span>; end: <span class="class-name">Date</span> }
}

<span class="keyword">interface</span> <span class="class-name">CartStore</span> {
  items: <span class="class-name">CartItem</span>[]
  addItem: (item: <span class="class-name">CartItem</span>) => <span class="class-name">void</span>
  removeItem: (id: <span class="class-name">string</span>) => <span class="class-name">void</span>
  clearCart: () => <span class="class-name">void</span>
  total: () => <span class="class-name">number</span>
}

<span class="keyword">export const</span> useCartStore = <span class="function">create</span>&lt;<span class="class-name">CartStore</span>&gt;()(
  <span class="function">persist</span>(
    (set, get) => ({
      items: [],
      addItem: (item) => set((state) => ({
        items: [...state.items, item]
      })),
      removeItem: (id) => set((state) => ({
        items: state.items.<span class="function">filter</span>(i => i.id !== id)
      })),
      clearCart: () => set({ items: [] }),
      total: () => get().items.<span class="function">reduce</span>((sum, i) => sum + i.price, 0)
    }),
    { name: <span class="string">'cart-storage'</span> }
  )
)</pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">5. Stripe Payment Integration</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">TypeScript</span>
                        <button class="code-copy" onclick="copyCode(this)">Copy</button>
                    </div>
                    <pre><span class="string">'use client'</span>

<span class="keyword">import</span> { loadStripe } <span class="keyword">from</span> <span class="string">'@stripe/stripe-js'</span>
<span class="keyword">import</span> { <span class="class-name">Elements</span>, <span class="class-name">PaymentElement</span>, useStripe, useElements } <span class="keyword">from</span> <span class="string">'@stripe/react-stripe-js'</span>

<span class="keyword">const</span> stripePromise = <span class="function">loadStripe</span>(process.env.NEXT_PUBLIC_STRIPE_KEY!)

<span class="keyword">export function</span> <span class="function">CheckoutForm</span>({ clientSecret }: { clientSecret: <span class="class-name">string</span> }) {
  <span class="keyword">const</span> stripe = <span class="function">useStripe</span>()
  <span class="keyword">const</span> elements = <span class="function">useElements</span>()

  <span class="keyword">const</span> handleSubmit = <span class="keyword">async</span> (e: <span class="class-name">React.FormEvent</span>) => {
    e.<span class="function">preventDefault</span>()
    <span class="keyword">if</span> (!stripe || !elements) <span class="keyword">return</span>

    <span class="keyword">const</span> { error } = <span class="keyword">await</span> stripe.<span class="function">confirmPayment</span>({
      elements,
      confirmParams: {
        return_url: <span class="string">\`\${window.location.origin}/booking/success\`</span>
      }
    })

    <span class="keyword">if</span> (error) {
      console.<span class="function">error</span>(error.message)
    }
  }

  <span class="keyword">return</span> (
    &lt;<span class="class-name">Elements</span> stripe={stripePromise} options={{ clientSecret }}&gt;
      &lt;form onSubmit={handleSubmit}&gt;
        &lt;<span class="class-name">PaymentElement</span> /&gt;
        &lt;button type=<span class="string">"submit"</span> disabled={!stripe}&gt;
          –û–ø–ª–∞—Ç–∏—Ç—å
        &lt;/button&gt;
      &lt;/form&gt;
    &lt;/<span class="class-name">Elements</span>&gt;
  )
}</pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">6. Environment Variables</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">.env.local</span>
                    </div>
                    <pre>
# API
NEXT_PUBLIC_API_URL=https://api.phuketapp.com/v1

# Auth
NEXTAUTH_URL=https://phuketapp.com
NEXTAUTH_SECRET=your-super-secret-key

# OAuth
GOOGLE_CLIENT_ID=xxx.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=xxx

# Maps
NEXT_PUBLIC_MAPBOX_TOKEN=pk.eyJ1...

# Payments
NEXT_PUBLIC_STRIPE_KEY=pk_live_xxx
STRIPE_SECRET_KEY=sk_live_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx
                    </pre>
                </div>
            </div>
        `
        }
    },

    // ========================================================================
    // API REFERENCE
    // ========================================================================
    api: {
        title: 'API Reference',
        icon: null,
        platform: null,
        breadcrumb: ['–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', '–ë—ç–∫–µ–Ω–¥', 'API'],
        description: '–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è REST API',
        content: `
            <div class="section">
                <h2 class="section-title">Base URL</h2>
                <div class="code-block">
                    <pre>https://api.phuketapp.com/v1</pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Authentication</h2>

                <h3 class="section-subtitle">POST /auth/register</h3>
                <p>Register a new user</p>

                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">Request</span>
                    </div>
                    <pre>{
  "email": "user@example.com",
  "password": "SecurePass123",
  "name": "Ivan Petrov",
  "phone": "+7 999 123-45-67"
}</pre>
                </div>

                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">Response (201)</span>
                    </div>
                    <pre>{
  "access_token": "eyJhbGciOiJIUzI1NiIs...",
  "refresh_token": "eyJhbGciOiJIUzI1NiIs...",
  "token_type": "bearer",
  "expires_in": 1800,
  "user": {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "email": "user@example.com",
    "name": "Ivan Petrov",
    "loyalty_level": "bronze",
    "loyalty_points": 200
  }
}</pre>
                </div>

                <h3 class="section-subtitle">POST /auth/login</h3>
                <p>Login existing user</p>

                <h3 class="section-subtitle">POST /auth/refresh</h3>
                <p>Refresh access token</p>
            </div>

            <div class="section">
                <h2 class="section-title">Vehicles</h2>

                <h3 class="section-subtitle">GET /vehicles</h3>
                <p>Get list of available vehicles</p>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Parameter</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>type</td>
                                <td>string</td>
                                <td>scooter, motorcycle, car, suv</td>
                            </tr>
                            <tr>
                                <td>min_price</td>
                                <td>number</td>
                                <td>Minimum daily price (THB)</td>
                            </tr>
                            <tr>
                                <td>max_price</td>
                                <td>number</td>
                                <td>Maximum daily price (THB)</td>
                            </tr>
                            <tr>
                                <td>date_from</td>
                                <td>string</td>
                                <td>Start date (ISO 8601)</td>
                            </tr>
                            <tr>
                                <td>date_to</td>
                                <td>string</td>
                                <td>End date (ISO 8601)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3 class="section-subtitle">GET /vehicles/{id}</h3>
                <p>Get vehicle details</p>
            </div>

            <div class="section">
                <h2 class="section-title">Bookings</h2>

                <h3 class="section-subtitle">POST /bookings</h3>
                <p>Create a new booking</p>

                <h3 class="section-subtitle">GET /bookings</h3>
                <p>Get user's bookings</p>

                <h3 class="section-subtitle">GET /bookings/{id}</h3>
                <p>Get booking details</p>

                <h3 class="section-subtitle">DELETE /bookings/{id}</h3>
                <p>Cancel a booking</p>
            </div>

            <div class="section">
                <h2 class="section-title">Error Codes</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Status</th>
                                <th>Code</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>400</td>
                                <td>VALIDATION_ERROR</td>
                                <td>Invalid request data</td>
                            </tr>
                            <tr>
                                <td>401</td>
                                <td>UNAUTHORIZED</td>
                                <td>Invalid or expired token</td>
                            </tr>
                            <tr>
                                <td>403</td>
                                <td>FORBIDDEN</td>
                                <td>Access denied</td>
                            </tr>
                            <tr>
                                <td>404</td>
                                <td>NOT_FOUND</td>
                                <td>Resource not found</td>
                            </tr>
                            <tr>
                                <td>409</td>
                                <td>CONFLICT</td>
                                <td>Resource already exists</td>
                            </tr>
                            <tr>
                                <td>429</td>
                                <td>RATE_LIMIT</td>
                                <td>Too many requests</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        `
    },

    // ========================================================================
    // DATABASE SCHEMA
    // ========================================================================
    database: {
        title: '–°—Ö–µ–º–∞ –ë–î',
        icon: null,
        platform: null,
        breadcrumb: ['–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', '–ë—ç–∫–µ–Ω–¥', '–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö'],
        description: '–°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL',
        content: `
            <div class="section">
                <h2 class="section-title">ER-–¥–∏–∞–≥—Ä–∞–º–º–∞</h2>
                <div class="diagram-block">
                    <pre>
+-------------+       +-------------+       +-------------+
|   users     |       |  vehicles   |       | properties  |
+-------------+       +-------------+       +-------------+
| id (PK)     |       | id (PK)     |       | id (PK)     |
| email       |       | name        |       | name        |
| password    |       | type        |       | type        |
| name        |       | brand       |       | bedrooms    |
| phone       |       | model       |       | bathrooms   |
| avatar_url  |       | year        |       | max_guests  |
| loyalty_lvl |       | price_day   |       | price_day   |
| points      |       | price_week  |       | amenities[] |
| created_at  |       | price_month |       | location    |
+------+------+       | features[]  |       | images[]    |
       |              | images[]    |       +------+------+
       |              | partner_id  |              |
       |              +------+------+              |
       |                     |                     |
       |        +------------+------------+        |
       |        |                         |        |
       v        v                         v        v
+------+--------+------+         +--------+--------+------+
|      bookings        |         |        tours          |
+----------------------+         +----------------------+
| id (PK)              |         | id (PK)              |
| user_id (FK)         |         | name                 |
| bookable_type        |         | description          |
| bookable_id          |         | duration_hours       |
| date_from            |         | price                |
| date_to              |         | max_participants     |
| total_price          |         | meeting_point        |
| status               |         | images[]             |
| payment_status       |         | partner_id           |
| created_at           |         +----------------------+
+----------------------+
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Core Tables</h2>

                <h3 class="section-subtitle">users</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Column</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>id</td>
                                <td>UUID</td>
                                <td>Primary key</td>
                            </tr>
                            <tr>
                                <td>email</td>
                                <td>VARCHAR(255)</td>
                                <td>Unique email</td>
                            </tr>
                            <tr>
                                <td>password_hash</td>
                                <td>VARCHAR(255)</td>
                                <td>Bcrypt hash</td>
                            </tr>
                            <tr>
                                <td>name</td>
                                <td>VARCHAR(100)</td>
                                <td>Display name</td>
                            </tr>
                            <tr>
                                <td>loyalty_level</td>
                                <td>ENUM</td>
                                <td>bronze, silver, gold, platinum</td>
                            </tr>
                            <tr>
                                <td>loyalty_points</td>
                                <td>INTEGER</td>
                                <td>Current points</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3 class="section-subtitle">bookings</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Column</th>
                                <th>Type</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>id</td>
                                <td>UUID</td>
                                <td>Primary key</td>
                            </tr>
                            <tr>
                                <td>user_id</td>
                                <td>UUID</td>
                                <td>FK to users</td>
                            </tr>
                            <tr>
                                <td>bookable_type</td>
                                <td>ENUM</td>
                                <td>vehicle, property, tour</td>
                            </tr>
                            <tr>
                                <td>bookable_id</td>
                                <td>UUID</td>
                                <td>FK to bookable entity</td>
                            </tr>
                            <tr>
                                <td>status</td>
                                <td>ENUM</td>
                                <td>pending, confirmed, cancelled, completed</td>
                            </tr>
                            <tr>
                                <td>payment_status</td>
                                <td>ENUM</td>
                                <td>pending, paid, refunded</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Indexes</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">SQL</span>
                    </div>
                    <pre>
-- Users
CREATE UNIQUE INDEX idx_users_email ON users(email);

-- Bookings
CREATE INDEX idx_bookings_user_id ON bookings(user_id);
CREATE INDEX idx_bookings_status ON bookings(status);
CREATE INDEX idx_bookings_dates ON bookings(date_from, date_to);

-- Vehicles
CREATE INDEX idx_vehicles_type ON vehicles(type);
CREATE INDEX idx_vehicles_price ON vehicles(price_day);
CREATE INDEX idx_vehicles_partner ON vehicles(partner_id);
                    </pre>
                </div>
            </div>
        `
    },

    // ========================================================================
    // COMPARISON PAGE
    // ========================================================================
    comparison: {
        title: 'iOS vs Android',
        icon: null,
        platform: null,
        breadcrumb: ['–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', '–°—Ä–∞–≤–Ω–µ–Ω–∏–µ', 'iOS vs Android'],
        description: '–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π iOS –∏ Android',
        content: `
            <div class="section">
                <h2 class="section-title">–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º</h2>
                <div class="table-wrapper">
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th class="col-aspect">–ê—Å–ø–µ–∫—Ç</th>
                                <th class="col-ios">iOS</th>
                                <th class="col-android">Android</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Min Version</strong></td>
                                <td>iOS 17.0</td>
                                <td>Android 8.0 (API 26)</td>
                            </tr>
                            <tr>
                                <td><strong>Language</strong></td>
                                <td>Swift 5.9</td>
                                <td>Kotlin 1.9</td>
                            </tr>
                            <tr>
                                <td><strong>UI Framework</strong></td>
                                <td>SwiftUI</td>
                                <td>Jetpack Compose</td>
                            </tr>
                            <tr>
                                <td><strong>Architecture</strong></td>
                                <td>MVVM + Repository</td>
                                <td>MVVM + Clean Architecture</td>
                            </tr>
                            <tr>
                                <td><strong>State Management</strong></td>
                                <td>@Published / @StateObject</td>
                                <td>StateFlow / MutableStateFlow</td>
                            </tr>
                            <tr>
                                <td><strong>Async</strong></td>
                                <td>async/await (Swift Concurrency)</td>
                                <td>Kotlin Coroutines</td>
                            </tr>
                            <tr>
                                <td><strong>DI</strong></td>
                                <td>Custom DI Container</td>
                                <td>Hilt (Dagger)</td>
                            </tr>
                            <tr>
                                <td><strong>Network</strong></td>
                                <td>URLSession</td>
                                <td>Retrofit + OkHttp</td>
                            </tr>
                            <tr>
                                <td><strong>Local DB</strong></td>
                                <td>SwiftData</td>
                                <td>Room</td>
                            </tr>
                            <tr>
                                <td><strong>Secure Storage</strong></td>
                                <td>Keychain</td>
                                <td>EncryptedSharedPreferences</td>
                            </tr>
                            <tr>
                                <td><strong>Maps</strong></td>
                                <td>MapKit (Apple Maps)</td>
                                <td>Google Maps SDK</td>
                            </tr>
                            <tr>
                                <td><strong>Push</strong></td>
                                <td>APNs</td>
                                <td>FCM</td>
                            </tr>
                            <tr>
                                <td><strong>Images</strong></td>
                                <td>AsyncImage / Kingfisher</td>
                                <td>Coil</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Code Comparison</h2>

                <div class="tabs-container">
                    <div class="tabs-header">
                        <button class="tab-btn active" data-tab="viewmodel" onclick="switchTab('viewmodel')">ViewModel</button>
                        <button class="tab-btn" data-tab="ui" onclick="switchTab('ui')">UI Component</button>
                    </div>

                    <div class="tab-content active" id="tab-viewmodel">
                        <h3 class="section-subtitle">iOS (Swift)</h3>
                        <div class="code-block">
                            <pre><span class="annotation">@MainActor</span>
<span class="keyword">final class</span> <span class="class-name">HomeViewModel</span>: <span class="class-name">ObservableObject</span> {
    <span class="annotation">@Published</span> <span class="keyword">var</span> weather: <span class="class-name">Weather</span>?
    <span class="annotation">@Published</span> <span class="keyword">var</span> isLoading = <span class="keyword">false</span>

    <span class="keyword">func</span> <span class="function">loadWeather</span>() <span class="keyword">async</span> {
        isLoading = <span class="keyword">true</span>
        weather = <span class="keyword">try? await</span> repository.<span class="function">getWeather</span>()
        isLoading = <span class="keyword">false</span>
    }
}</pre>
                        </div>

                        <h3 class="section-subtitle">Android (Kotlin)</h3>
                        <div class="code-block">
                            <pre><span class="annotation">@HiltViewModel</span>
<span class="keyword">class</span> <span class="class-name">HomeViewModel</span> <span class="annotation">@Inject</span> <span class="keyword">constructor</span>(
    <span class="keyword">private val</span> repository: <span class="class-name">WeatherRepository</span>
) : <span class="class-name">ViewModel</span>() {
    <span class="keyword">private val</span> _weather = <span class="class-name">MutableStateFlow</span>&lt;<span class="class-name">Weather</span>?&gt;(<span class="keyword">null</span>)
    <span class="keyword">val</span> weather = _weather.<span class="function">asStateFlow</span>()

    <span class="keyword">fun</span> <span class="function">loadWeather</span>() {
        viewModelScope.<span class="function">launch</span> {
            _weather.value = repository.<span class="function">getWeather</span>()
        }
    }
}</pre>
                        </div>
                    </div>

                    <div class="tab-content" id="tab-ui">
                        <h3 class="section-subtitle">iOS (SwiftUI)</h3>
                        <div class="code-block">
                            <pre><span class="keyword">struct</span> <span class="class-name">VehicleCard</span>: <span class="class-name">View</span> {
    <span class="keyword">let</span> vehicle: <span class="class-name">Vehicle</span>

    <span class="keyword">var</span> body: <span class="keyword">some</span> <span class="class-name">View</span> {
        <span class="class-name">VStack</span>(alignment: .leading) {
            <span class="class-name">AsyncImage</span>(url: vehicle.imageURL)
                .<span class="function">frame</span>(height: <span class="number">200</span>)
            <span class="class-name">Text</span>(vehicle.name)
                .<span class="function">font</span>(.headline)
            <span class="class-name">Text</span>(<span class="string">"‡∏ø</span>\(vehicle.priceDay)<span class="string">/day"</span>)
        }
        .<span class="function">cornerRadius</span>(<span class="number">12</span>)
    }
}</pre>
                        </div>

                        <h3 class="section-subtitle">Android (Compose)</h3>
                        <div class="code-block">
                            <pre><span class="annotation">@Composable</span>
<span class="keyword">fun</span> <span class="function">VehicleCard</span>(vehicle: <span class="class-name">Vehicle</span>) {
    <span class="class-name">Card</span>(
        shape = <span class="class-name">RoundedCornerShape</span>(<span class="number">12</span>.dp)
    ) {
        <span class="class-name">Column</span> {
            <span class="class-name">AsyncImage</span>(
                model = vehicle.imageUrl,
                modifier = <span class="class-name">Modifier</span>.<span class="function">height</span>(<span class="number">200</span>.dp)
            )
            <span class="class-name">Text</span>(
                text = vehicle.name,
                style = <span class="class-name">MaterialTheme</span>.typography.titleMedium
            )
            <span class="class-name">Text</span>(text = <span class="string">"‡∏ø</span>\${vehicle.priceDay}<span class="string">/day"</span>)
        }
    }
}</pre>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Feature Parity</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>iOS</th>
                                <th>Android</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Authentication</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                            </tr>
                            <tr>
                                <td>Transport Booking</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                            </tr>
                            <tr>
                                <td>Property Booking</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                            </tr>
                            <tr>
                                <td>Tours</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                            </tr>
                            <tr>
                                <td>AI Assistant</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                            </tr>
                            <tr>
                                <td>Currency Converter</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                            </tr>
                            <tr>
                                <td>Widgets</td>
                                <td>‚úÖ (WidgetKit)</td>
                                <td>‚úÖ (Glance)</td>
                            </tr>
                            <tr>
                                <td>Biometric Auth</td>
                                <td>‚úÖ (Face ID/Touch ID)</td>
                                <td>‚úÖ (Fingerprint/Face)</td>
                            </tr>
                            <tr>
                                <td>Offline Mode</td>
                                <td>üîÑ (RFC)</td>
                                <td>üîÑ (RFC)</td>
                            </tr>
                            <tr>
                                <td>Online Payments</td>
                                <td>üîÑ (RFC)</td>
                                <td>üîÑ (RFC)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        `
    },

    // ========================================================================
    // ROADMAP
    // ========================================================================
    roadmap: {
        title: '–ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏',
        icon: null,
        platform: null,
        breadcrumb: ['–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', 'Roadmap'],
        description: '8-–º–µ—Å—è—á–Ω—ã–π –ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: —è–Ω–≤–∞—Ä—å - –∞–≤–≥—É—Å—Ç 2026',
        content: `
            <div class="section">
                <h2 class="section-title">–û–±–∑–æ—Ä</h2>
                <p><strong>–ü–µ—Ä–∏–æ–¥:</strong> –Ø–Ω–≤–∞—Ä—å 2026 ‚Äî –ê–≤–≥—É—Å—Ç 2026<br>
                <strong>–ö–æ–º–∞–Ω–¥–∞:</strong> 2-3 Full-stack —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞</p>

                <div class="diagram-block">
                    <pre>
   –Ø–ù–í–ê–†–¨       –§–ï–í–†–ê–õ–¨        –ú–ê–†–¢        –ê–ü–†–ï–õ–¨         –ú–ê–ô          –ò–Æ–ù–¨         –ò–Æ–õ–¨       –ê–í–ì–£–°–¢
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+
|  –°–ü–†–ò–ù–¢   |  –°–ü–†–ò–ù–¢   |  –°–ü–†–ò–ù–¢   |  –°–ü–†–ò–ù–¢   |  –°–ü–†–ò–ù–¢   |  –°–ü–†–ò–ù–¢   |  –°–ü–†–ò–ù–¢   |  –°–ü–†–ò–ù–¢   |
|   1-2     |   3-4     |   5-6     |   7-8     |   9-10    |   11-12   |   13-14   |   15-16   |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+
| –ë—ç–∫–µ–Ω–¥    |–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞- | –ü–ª–∞—Ç–µ–∂–∏   |  –ü–∞–Ω–µ–ª—å   |–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ| –ü–æ–ª–∏—Ä–æ–≤–∫–∞ | –¢–µ—Å—Ç–∏—Ä–æ-  |  –ó–∞–ø—É—Å–∫   |
|   API     |–Ω–∏—è+–û—Ç–∑—ã–≤—ã | –∏ –ü—É—à–∏    | –í–µ–Ω–¥–æ—Ä–∞   |  —Ñ–∏—á–∏     |   –∏ QA    | –≤–∞–Ω–∏–µ+Beta| –∏ –†–µ–ª–∏–∑   |
+-----------+-----------+-----------+-----------+-----------+-----------+-----------+-----------+
    MVP         v0.4        v0.6        v0.8       v0.9       v1.0-RC    v1.0-BETA    –†–ï–õ–ò–ó
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">–ö–∞–ª–µ–Ω–¥–∞—Ä—å —Å–ø—Ä–∏–Ω—Ç–æ–≤</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>–°–ø—Ä–∏–Ω—Ç</th>
                                <th>–î–∞—Ç—ã</th>
                                <th>–§–∞–∑–∞</th>
                                <th>–†–µ–∑—É–ª—å—Ç–∞—Ç</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>–°–ø—Ä–∏–Ω—Ç 1</td>
                                <td>06.01 ‚Äî 19.01</td>
                                <td>–ë—ç–∫–µ–Ω–¥</td>
                                <td>API –ñ–∏–ª—å—ë</td>
                            </tr>
                            <tr>
                                <td>–°–ø—Ä–∏–Ω—Ç 2</td>
                                <td>20.01 ‚Äî 02.02</td>
                                <td>–ë—ç–∫–µ–Ω–¥</td>
                                <td>API –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏ –¢—É—Ä—ã</td>
                            </tr>
                            <tr>
                                <td>–°–ø—Ä–∏–Ω—Ç 3</td>
                                <td>03.02 ‚Äî 16.02</td>
                                <td>–ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</td>
                                <td>–°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</td>
                            </tr>
                            <tr>
                                <td>–°–ø—Ä–∏–Ω—Ç 4</td>
                                <td>17.02 ‚Äî 02.03</td>
                                <td>–û—Ç–∑—ã–≤—ã</td>
                                <td>–û—Ç–∑—ã–≤—ã –∏ —Ä–µ–π—Ç–∏–Ω–≥–∏</td>
                            </tr>
                            <tr>
                                <td>–°–ø—Ä–∏–Ω—Ç 5</td>
                                <td>03.03 ‚Äî 16.03</td>
                                <td>–ü–ª–∞—Ç–µ–∂–∏</td>
                                <td>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Stripe</td>
                            </tr>
                            <tr>
                                <td>–°–ø—Ä–∏–Ω—Ç 6</td>
                                <td>17.03 ‚Äî 30.03</td>
                                <td>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</td>
                                <td>Email –∏ Push</td>
                            </tr>
                            <tr>
                                <td>–°–ø—Ä–∏–Ω—Ç 7</td>
                                <td>31.03 ‚Äî 13.04</td>
                                <td>–í–µ–Ω–¥–æ—Ä—ã</td>
                                <td>–ü–∞–Ω–µ–ª—å –≤–µ–Ω–¥–æ—Ä–∞</td>
                            </tr>
                            <tr>
                                <td>–°–ø—Ä–∏–Ω—Ç 8</td>
                                <td>14.04 ‚Äî 27.04</td>
                                <td>–í–µ–Ω–¥–æ—Ä—ã</td>
                                <td>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –≤–µ–Ω–¥–æ—Ä–∞</td>
                            </tr>
                            <tr>
                                <td>–°–ø—Ä–∏–Ω—Ç 9</td>
                                <td>28.04 ‚Äî 11.05</td>
                                <td>–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ</td>
                                <td>–ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã</td>
                            </tr>
                            <tr>
                                <td>–°–ø—Ä–∏–Ω—Ç 10</td>
                                <td>12.05 ‚Äî 25.05</td>
                                <td>–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ</td>
                                <td>–ö–∞—Ä—Ç—ã –∏ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è</td>
                            </tr>
                            <tr>
                                <td>–°–ø—Ä–∏–Ω—Ç 11</td>
                                <td>26.05 ‚Äî 08.06</td>
                                <td>–ü–æ–ª–∏—Ä–æ–≤–∫–∞</td>
                                <td>–ö–æ–¥-—Ä–µ–≤—å—é –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥</td>
                            </tr>
                            <tr>
                                <td>–°–ø—Ä–∏–Ω—Ç 12</td>
                                <td>09.06 ‚Äî 22.06</td>
                                <td>QA</td>
                                <td>E2E —Ç–µ—Å—Ç—ã –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</td>
                            </tr>
                            <tr>
                                <td>–°–ø—Ä–∏–Ω—Ç 13</td>
                                <td>23.06 ‚Äî 06.07</td>
                                <td>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</td>
                                <td>–ê—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –Ω–∞–≥—Ä—É–∑–∫–∞</td>
                            </tr>
                            <tr>
                                <td>–°–ø—Ä–∏–Ω—Ç 14</td>
                                <td>07.07 ‚Äî 20.07</td>
                                <td>Beta</td>
                                <td>–ó–∞–∫—Ä—ã—Ç–∞—è Beta</td>
                            </tr>
                            <tr>
                                <td>–°–ø—Ä–∏–Ω—Ç 15</td>
                                <td>21.07 ‚Äî 03.08</td>
                                <td>Beta</td>
                                <td>–û—Ç–∫—Ä—ã—Ç–∞—è Beta –∏ –±–∞–≥—Ñ–∏–∫—Å—ã</td>
                            </tr>
                            <tr>
                                <td>–°–ø—Ä–∏–Ω—Ç 16</td>
                                <td>04.08 ‚Äî 17.08</td>
                                <td>–ó–∞–ø—É—Å–∫</td>
                                <td>–î–µ–ø–ª–æ–π –∏ —Ä–µ–ª–∏–∑</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">–ú–µ—Å—è—Ü 1: –Ø–Ω–≤–∞—Ä—å 2026</h2>
                <h3 class="section-subtitle">–ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±—ç–∫–µ–Ω–¥–∞</h3>
                <p><strong>–¶–µ–ª—å:</strong> –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –±—ç–∫–µ–Ω–¥ —Å —Ä–∞–±–æ—Ç–∞—é—â–∏–º–∏ API —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º–∏</p>

                <div class="callout info">
                    <span class="callout-icon">üéØ</span>
                    <div class="callout-content">
                        <div class="callout-title">–°–ø—Ä–∏–Ω—Ç 1 (06.01 ‚Äî 19.01): API –ñ–∏–ª—å—ë</div>
                        <div class="callout-text">–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Prisma + PostgreSQL, CRUD –¥–ª—è –∂–∏–ª—å—è, —Ñ–∏–ª—å—Ç—Ä—ã, –ø–∞–≥–∏–Ω–∞—Ü–∏—è</div>
                    </div>
                </div>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>–ó–∞–¥–∞—á–∞</th>
                                <th>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</th>
                                <th>–û—Ü–µ–Ω–∫–∞</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Prisma + PostgreSQL –¥–ª—è –ø—Ä–æ–¥–∞</td><td>P0</td><td>2–¥</td></tr>
                            <tr><td>API: GET /properties (—Å–ø–∏—Å–æ–∫, —Ñ–∏–ª—å—Ç—Ä—ã, –ø–∞–≥–∏–Ω–∞—Ü–∏—è)</td><td>P0</td><td>3–¥</td></tr>
                            <tr><td>API: GET /properties/:id (–¥–µ—Ç–∞–ª–∏)</td><td>P0</td><td>1–¥</td></tr>
                            <tr><td>API: POST /properties (—Å–æ–∑–¥–∞–Ω–∏–µ)</td><td>P0</td><td>2–¥</td></tr>
                            <tr><td>API: PUT/DELETE /properties/:id</td><td>P0</td><td>1–¥</td></tr>
                            <tr><td>Zod —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏</td><td>P0</td><td>1–¥</td></tr>
                            <tr><td>Unit-—Ç–µ—Å—Ç—ã (>70% –ø–æ–∫—Ä—ã—Ç–∏–µ)</td><td>P1</td><td>2–¥</td></tr>
                        </tbody>
                    </table>
                </div>

                <div class="callout info">
                    <span class="callout-icon">üéØ</span>
                    <div class="callout-content">
                        <div class="callout-title">–°–ø—Ä–∏–Ω—Ç 2 (20.01 ‚Äî 02.02): API –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏ –¢—É—Ä—ã</div>
                        <div class="callout-text">–ü–æ–ª–Ω—ã–π CRUD –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∫–∞—Ç–∞–ª–æ–≥–∞, Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è</div>
                    </div>
                </div>

                <p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> MVP –ë—ç–∫–µ–Ω–¥</p>
            </div>

            <div class="section">
                <h2 class="section-title">–ú–µ—Å—è—Ü 2: –§–µ–≤—Ä–∞–ª—å 2026</h2>
                <h3 class="section-subtitle">–°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π –∏ –æ—Ç–∑—ã–≤–æ–≤</h3>
                <p><strong>–¶–µ–ª—å:</strong> –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –∏ –æ—Å—Ç–∞–≤–ª—è—Ç—å –æ—Ç–∑—ã–≤—ã</p>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>–ó–∞–¥–∞—á–∏ —Å–ø—Ä–∏–Ω—Ç–æ–≤ 3-4</th>
                                <th>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>CRUD API –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π</td><td>P0</td></tr>
                            <tr><td>–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –¥–∞—Ç</td><td>P0</td></tr>
                            <tr><td>–ö–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–∏–¥–∂–µ—Ç–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</td><td>P0</td></tr>
                            <tr><td>–í—ã–±–æ—Ä –¥–∞—Ç —Å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –¥–∞—Ç–∞–º–∏</td><td>P0</td></tr>
                            <tr><td>–°—Ç—Ä–∞–Ω–∏—Ü–∞ "–ú–æ–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è"</td><td>P0</td></tr>
                            <tr><td>CRUD API –¥–ª—è –æ—Ç–∑—ã–≤–æ–≤</td><td>P0</td></tr>
                            <tr><td>–ë–µ–π–¥–∂ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω–Ω–æ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</td><td>P0</td></tr>
                            <tr><td>–†–∞—Å—á—ë—Ç —Å—Ä–µ–¥–Ω–µ–≥–æ —Ä–µ–π—Ç–∏–Ω–≥–∞</td><td>P0</td></tr>
                            <tr><td>–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–æ—Ç–æ –∫ –æ—Ç–∑—ã–≤–∞–º</td><td>P1</td></tr>
                        </tbody>
                    </table>
                </div>

                <p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π v0.5</p>
            </div>

            <div class="section">
                <h2 class="section-title">–ú–µ—Å—è—Ü 3: –ú–∞—Ä—Ç 2026</h2>
                <h3 class="section-subtitle">–ü–ª–∞—Ç–µ–∂–∏ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
                <p><strong>–¶–µ–ª—å:</strong> –û–Ω–ª–∞–π–Ω-–ø–ª–∞—Ç–µ–∂–∏ –∏ —Å–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π</p>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>–°–ø—Ä–∏–Ω—Ç 5 (Stripe)</th>
                                <th>–°–ø—Ä–∏–Ω—Ç 6 (–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Stripe –∞–∫–∫–∞—É–Ω—Ç–∞</td>
                                <td>–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Resend</td>
                            </tr>
                            <tr>
                                <td>–°–æ–∑–¥–∞–Ω–∏–µ Checkout Session</td>
                                <td>Email —à–∞–±–ª–æ–Ω—ã (React Email)</td>
                            </tr>
                            <tr>
                                <td>–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ Webhook</td>
                                <td>Email –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</td>
                            </tr>
                            <tr>
                                <td>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–ª–∞—Ç–µ–∂–∞</td>
                                <td>Email –∫–≤–∏—Ç–∞–Ω—Ü–∏–∏ –æ–± –æ–ø–ª–∞—Ç–µ</td>
                            </tr>
                            <tr>
                                <td>–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤</td>
                                <td>–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –æ –±—Ä–æ–Ω–∏ (–∑–∞ 1 –¥–µ–Ω—å)</td>
                            </tr>
                            <tr>
                                <td>–°—Ç—Ä–∞–Ω–∏—Ü—ã —É—Å–ø–µ—Ö–∞/–æ—Ç–º–µ–Ω—ã</td>
                                <td>In-app —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –ü–ª–∞—Ç—ë–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ v0.7</p>
            </div>

            <div class="section">
                <h2 class="section-title">–ú–µ—Å—è—Ü 4: –ê–ø—Ä–µ–ª—å 2026</h2>
                <h3 class="section-subtitle">–ü–∞–Ω–µ–ª—å –≤–µ–Ω–¥–æ—Ä–∞</h3>
                <p><strong>–¶–µ–ª—å:</strong> –í–µ–Ω–¥–æ—Ä—ã –º–æ–≥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏</p>

                <div class="feature-list">
                    <div class="feature-item">
                        <span class="feature-icon">üë§</span>
                        <div class="feature-text">
                            <h4>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤–µ–Ω–¥–æ—Ä–∞</h4>
                            <p>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å —Ä–æ–ª—å—é –≤–µ–Ω–¥–æ—Ä–∞ –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–µ–π</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">üìã</span>
                        <div class="feature-text">
                            <h4>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—ä—è–≤–ª–µ–Ω–∏—è–º–∏</h4>
                            <p>–î–æ–±–∞–≤–ª–µ–Ω–∏–µ/–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/–£–¥–∞–ª–µ–Ω–∏–µ –∂–∏–ª—å—è, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞, —Ç—É—Ä–æ–≤</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">üìÖ</span>
                        <div class="feature-text">
                            <h4>–ö–∞–ª–µ–Ω–¥–∞—Ä—å –∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å</h4>
                            <p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –¥–∞—Ç</p>
                        </div>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">üìä</span>
                        <div class="feature-text">
                            <h4>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h4>
                            <p>–î–æ—Ö–æ–¥—ã, –ø—Ä–æ—Å–º–æ—Ç—Ä—ã, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π</p>
                        </div>
                    </div>
                </div>

                <p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –ü–∞–Ω–µ–ª—å –≤–µ–Ω–¥–æ—Ä–∞ v0.9</p>
            </div>

            <div class="section">
                <h2 class="section-title">–ú–µ—Å—è—Ü 5: –ú–∞–π 2026</h2>
                <h3 class="section-subtitle">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</h3>
                <p><strong>–¶–µ–ª—å:</strong> –£–ª—É—á—à–µ–Ω–Ω—ã–π –ø–æ–∏—Å–∫, –∫–∞—Ä—Ç—ã, –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è</p>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>–°–ø—Ä–∏–Ω—Ç 9 (–ü–æ–∏—Å–∫)</th>
                                <th>–°–ø—Ä–∏–Ω—Ç 10 (–ö–∞—Ä—Ç—ã –∏ i18n)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>API –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞</td>
                                <td>–ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è Mapbox</td>
                            </tr>
                            <tr>
                                <td>–ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ (PostgreSQL)</td>
                                <td>–í—Å–ø–ª—ã–≤–∞—é—â–∏–µ –æ–∫–Ω–∞ –Ω–∞ –∫–∞—Ä—Ç–µ</td>
                            </tr>
                            <tr>
                                <td>–ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –≤ —à–∞–ø–∫–µ</td>
                                <td>–ú–∞—Ä—à—Ä—É—Ç—ã –¥–æ –æ–±—ä–µ–∫—Ç–∞</td>
                            </tr>
                            <tr>
                                <td>UI —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤</td>
                                <td>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ i18n (next-intl)</td>
                            </tr>
                            <tr>
                                <td>–§–∏–ª—å—Ç—Ä –ø–æ –≥—Ä–∞–Ω–∏—Ü–∞–º –∫–∞—Ä—Ç—ã</td>
                                <td>–†—É—Å—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥</td>
                            </tr>
                            <tr>
                                <td>–ù–µ–¥–∞–≤–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω—ã–µ</td>
                                <td>–¢–∞–π—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥</td>
                            </tr>
                            <tr>
                                <td>–ü–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ–∏—Å–∫–∞</td>
                                <td>–í—ã–±–æ—Ä –≤–∞–ª—é—Ç—ã</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> –ü–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª v1.0</p>
            </div>

            <div class="section">
                <h2 class="section-title">–ú–µ—Å—è—Ü 6: –ò—é–Ω—å 2026</h2>
                <h3 class="section-subtitle">–ü–æ–ª–∏—Ä–æ–≤–∫–∞ –∏ QA</h3>
                <p><strong>–¶–µ–ª—å:</strong> –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞ –∏ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏</p>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>–°–ø—Ä–∏–Ω—Ç 11 (–†–µ–≤—å—é –∫–æ–¥–∞)</th>
                                <th>–°–ø—Ä–∏–Ω—Ç 12 (QA)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>–†–µ–≤—å—é –∫–æ–¥–∞ –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π</td>
                                <td>E2E —Ç–µ—Å—Ç—ã (Playwright)</td>
                            </tr>
                            <tr>
                                <td>–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—á–∏—Å—Ç–∫–∞</td>
                                <td>–ê—É–¥–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (Lighthouse)</td>
                            </tr>
                            <tr>
                                <td>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏</td>
                                <td>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</td>
                            </tr>
                            <tr>
                                <td>–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ—Ö–¥–æ–ª–≥–∞</td>
                                <td>–ö—Ä–æ—Å—Å–±—Ä–∞—É–∑–µ—Ä–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</td>
                            </tr>
                            <tr>
                                <td>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç–∏ API</td>
                                <td>–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–æ–±–∏–ª—å–Ω–æ–π –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> v1.0-RC (–†–µ–ª–∏–∑-–∫–∞–Ω–¥–∏–¥–∞—Ç)</p>
            </div>

            <div class="section">
                <h2 class="section-title">–ú–µ—Å—è—Ü 7: –ò—é–ª—å 2026</h2>
                <h3 class="section-subtitle">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –ë–µ—Ç–∞</h3>
                <p><strong>–¶–µ–ª—å:</strong> –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –∑–∞–ø—É—Å–∫ –±–µ—Ç—ã</p>

                <div class="callout warning">
                    <span class="callout-icon">üîí</span>
                    <div class="callout-content">
                        <div class="callout-title">–°–ø—Ä–∏–Ω—Ç 13 (–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)</div>
                        <div class="callout-text">–ê—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –ü–µ–Ω—Ç–µ—Å—Ç, –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ OWASP</div>
                    </div>
                </div>

                <div class="callout info">
                    <span class="callout-icon">üß™</span>
                    <div class="callout-content">
                        <div class="callout-title">–°–ø—Ä–∏–Ω—Ç 14 (–ó–∞–∫—Ä—ã—Ç–∞—è –±–µ—Ç–∞)</div>
                        <div class="callout-text">–ë–µ—Ç–∞ –ø–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è–º (100-500 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π), –°–±–æ—Ä –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏, –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –±–∞–≥–æ–≤</div>
                    </div>
                </div>

                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</th>
                                <th>–ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ SQL-–∏–Ω—ä–µ–∫—Ü–∏–π</td>
                                <td>1000 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</td>
                            </tr>
                            <tr>
                                <td>–°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ XSS-—É—è–∑–≤–∏–º–æ—Å—Ç–µ–π</td>
                                <td>–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API < 500–º—Å</td>
                            </tr>
                            <tr>
                                <td>–¢–µ—Å—Ç—ã –æ–±—Ö–æ–¥–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏</td>
                                <td>–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î</td>
                            </tr>
                            <tr>
                                <td>–ü—Ä–æ–≤–µ—Ä–∫–∞ rate limiting</td>
                                <td>CDN cache hit ratio > 90%</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> v1.0-BETA</p>
            </div>

            <div class="section">
                <h2 class="section-title">–ú–µ—Å—è—Ü 8: –ê–≤–≥—É—Å—Ç 2026</h2>
                <h3 class="section-subtitle">–ó–∞–ø—É—Å–∫ –∏ –†–µ–ª–∏–∑</h3>
                <p><strong>–¶–µ–ª—å:</strong> –ü—É–±–ª–∏—á–Ω—ã–π –∑–∞–ø—É—Å–∫ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</p>

                <div class="callout info">
                    <span class="callout-icon">üì¢</span>
                    <div class="callout-content">
                        <div class="callout-title">–°–ø—Ä–∏–Ω—Ç 15 (–û—Ç–∫—Ä—ã—Ç–∞—è –±–µ—Ç–∞)</div>
                        <div class="callout-text">–ü—É–±–ª–∏—á–Ω–∞—è –±–µ—Ç–∞, –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ —Ñ–∏–¥–±–µ–∫—É, –§–∏–Ω–∞–ª—å–Ω–∞—è –ø–æ–ª–∏—Ä–æ–≤–∫–∞, –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞</div>
                    </div>
                </div>

                <div class="callout success">
                    <span class="callout-icon">üöÄ</span>
                    <div class="callout-content">
                        <div class="callout-title">–°–ø—Ä–∏–Ω—Ç 16 (–ü—Ä–æ–¥–∞–∫—à–Ω –∑–∞–ø—É—Å–∫)</div>
                        <div class="callout-text">–î–µ–ø–ª–æ–π –≤ –ø—Ä–æ–¥–∞–∫—à–Ω, Stripe Live —Ä–µ–∂–∏–º, –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ 24/7, –ü–£–ë–õ–ò–ß–ù–´–ô –†–ï–õ–ò–ó!</div>
                    </div>
                </div>

                <h3 class="section-subtitle">–ß–µ–∫–ª–∏—Å—Ç –∑–∞–ø—É—Å–∫–∞</h3>
                <ul>
                    <li>–ü–æ–∫—Ä—ã—Ç–∏–µ E2E > 80%</li>
                    <li>Lighthouse score > 90</li>
                    <li>–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ/–≤—ã—Å–æ–∫–∏–µ –±–∞–≥–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã</li>
                    <li>–ê—É–¥–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω</li>
                    <li>–ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–π–¥–µ–Ω–æ (1000+ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)</li>
                    <li>–ü—Ä–æ–¥–∞–∫—à–Ω –æ–∫—Ä—É–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ</li>
                    <li>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω (Sentry, PostHog)</li>
                    <li>Stripe Live —Ä–µ–∂–∏–º –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω</li>
                    <li>–§–∏–¥–±–µ–∫ –±–µ—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∞–Ω</li>
                    <li>–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ñ–∏–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞</li>
                </ul>

                <p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç:</strong> v1.0 –ü–£–ë–õ–ò–ß–ù–´–ô –†–ï–õ–ò–ó</p>
            </div>

            <div class="section">
                <h2 class="section-title">–†–∏—Å–∫–∏ –∏ –ú–∏—Ç–∏–≥–∞—Ü–∏—è</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>–†–∏—Å–∫</th>
                                <th>–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å</th>
                                <th>–í–ª–∏—è–Ω–∏–µ</th>
                                <th>–ú–∏—Ç–∏–≥–∞—Ü–∏—è</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>–ó–∞–¥–µ—Ä–∂–∫–∞ –æ–¥–æ–±—Ä–µ–Ω–∏—è Stripe</td>
                                <td>–°—Ä–µ–¥–Ω—è—è</td>
                                <td>–í—ã—Å–æ–∫–æ–µ</td>
                                <td>–ù–∞—á–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –∑–∞—Ä–∞–Ω–µ–µ (—Ñ–µ–≤—Ä–∞–ª—å)</td>
                            </tr>
                            <tr>
                                <td>–ü—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏</td>
                                <td>–ù–∏–∑–∫–∞—è</td>
                                <td>–°—Ä–µ–¥–Ω–µ–µ</td>
                                <td>–†–∞–Ω–Ω–µ–µ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ</td>
                            </tr>
                            <tr>
                                <td>–ù–µ—Ö–≤–∞—Ç–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞</td>
                                <td>–°—Ä–µ–¥–Ω—è—è</td>
                                <td>–°—Ä–µ–¥–Ω–µ–µ</td>
                                <td>–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞ —Å –≤–µ–Ω–¥–æ—Ä–∞–º–∏</td>
                            </tr>
                            <tr>
                                <td>–ë–∞–≥–∏ –≤ –ø—Ä–æ–¥–∞–∫—à–Ω–µ</td>
                                <td>–í—ã—Å–æ–∫–∞—è</td>
                                <td>–í—ã—Å–æ–∫–æ–µ</td>
                                <td>–¢—â–∞—Ç–µ–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, feature flags</td>
                            </tr>
                            <tr>
                                <td>–ò–∑–º–µ–Ω–µ–Ω–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π</td>
                                <td>–°—Ä–µ–¥–Ω—è—è</td>
                                <td>–°—Ä–µ–¥–Ω–µ–µ</td>
                                <td>Agile –ø–æ–¥—Ö–æ–¥, –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ —Å–∏–Ω–∫–∏</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

        `
    },

    // ========================================================================
    // WEB PLATFORM
    // ========================================================================
    'web-platform': {
        title: 'Web –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞',
        icon: null,
        platform: null,
        breadcrumb: ['–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è', '–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã', 'Web'],
        description: 'PhuketHub Web –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ (Next.js)',
        content: `
            <div class="section">
                <h2 class="section-title">–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫</h2>

                <h3 class="section-subtitle">Frontend</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Technology</th>
                                <th>Version</th>
                                <th>Purpose</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>Next.js</td><td>16.0.1</td><td>React framework with SSR/SSG</td></tr>
                            <tr><td>TypeScript</td><td>5.9.3</td><td>Type safety</td></tr>
                            <tr><td>React</td><td>19.2.0</td><td>Component-based UI</td></tr>
                            <tr><td>TailwindCSS</td><td>3.4.18</td><td>Utility-first CSS</td></tr>
                            <tr><td>Zustand</td><td>5.0.8</td><td>State management</td></tr>
                            <tr><td>React Hook Form</td><td>7.66.0</td><td>Form handling</td></tr>
                            <tr><td>Zod</td><td>4.1.12</td><td>Schema validation</td></tr>
                            <tr><td>Framer Motion</td><td>12.23.24</td><td>Animations</td></tr>
                            <tr><td>Mapbox GL</td><td>3.16.0</td><td>Interactive maps</td></tr>
                        </tbody>
                    </table>
                </div>

                <h3 class="section-subtitle">Backend</h3>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Technology</th>
                                <th>Version</th>
                                <th>Purpose</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>Node.js</td><td>20.x</td><td>JavaScript runtime</td></tr>
                            <tr><td>Next.js API Routes</td><td>-</td><td>Serverless functions</td></tr>
                            <tr><td>Prisma</td><td>6.18.0</td><td>Database ORM</td></tr>
                            <tr><td>NextAuth.js</td><td>4.24.13</td><td>Authentication</td></tr>
                            <tr><td>PostgreSQL</td><td>15</td><td>Main database</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Architecture</h2>
                <div class="diagram-block">
                    <pre>
+---------------------------------------------------------------------+
|                           CLIENTS                                    |
+---------------+---------------+---------------+---------------------+
|  Web Browser  |  Mobile PWA   |  Mobile App   |   Admin Panel       |
|  (Desktop)    |  (Future)     |  (Future)     |   (Internal)        |
+-------+-------+-------+-------+-------+-------+----------+----------+
        |               |               |                   |
        +---------------+---------------+-------------------+
                                |
                                | HTTPS
                                v
+---------------------------------------------------------------------+
|                         EDGE LAYER                                   |
|  +-----------+  +-----------+  +-----------+                        |
|  |  Vercel   |  | Cloudflare|  |    CDN    |                        |
|  |   Edge    |  |    WAF    |  |  (Assets) |                        |
|  +-----------+  +-----------+  +-----------+                        |
+---------------------------------------------------------------------+
                                |
                                v
+---------------------------------------------------------------------+
|                      APPLICATION LAYER                               |
|  +----------------------------------------------------------------+ |
|  |                    Next.js Application                          | |
|  |  +------------+  +------------+  +------------+                 | |
|  |  |   Pages/   |  |    API     |  | Middleware |                 | |
|  |  | App Router |  |   Routes   |  | (Auth/CORS)|                 | |
|  |  +------------+  +------------+  +------------+                 | |
|  +----------------------------------------------------------------+ |
+---------------------------------------------------------------------+
                                |
        +-----------------------+-----------------------+
        |                       |                       |
        v                       v                       v
+---------------+     +---------------+     +---------------+
|   PostgreSQL  |     |   Cloudflare  |     |   External    |
|   (Prisma)    |     |   R2 / S3     |     |   Services    |
|               |     |   (Files)     |     |               |
| - Users       |     | - Images      |     | - Mapbox      |
| - Properties  |     | - Videos      |     | - Stripe      |
| - Vehicles    |     | - Documents   |     | - Resend      |
| - Tours       |     |               |     | - Currency    |
| - Bookings    |     |               |     | - Weather     |
+---------------+     +---------------+     +---------------+
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Project Structure</h2>
                <div class="code-block">
                    <div class="code-header">
                        <span class="code-lang">Project Structure</span>
                    </div>
                    <pre>
phukethub/
|
+-- app/                          # Next.js App Router
|   +-- api/                      # API endpoints
|   |   +-- auth/                 # NextAuth routes
|   |   +-- bookings/             # Booking CRUD
|   |   +-- properties/           # Properties API
|   |   +-- vehicles/             # Vehicles API
|   |   +-- tours/                # Tours API
|   |   +-- reviews/              # Reviews API
|   |
|   +-- (main)/                   # Main pages
|   |   +-- page.tsx              # Home
|   |   +-- properties/           # Properties listing
|   |   +-- vehicles/             # Vehicles listing
|   |   +-- tours/                # Tours listing
|   |
|   +-- dashboard/                # Vendor dashboard
|   +-- profile/                  # User profile
|
+-- components/                   # React components
|   +-- ui/                       # UI primitives
|   +-- forms/                    # Form components
|   +-- layout/                   # Layout components
|
+-- lib/                          # Utilities
|   +-- prisma.ts                 # Prisma client
|   +-- auth.ts                   # Auth config
|   +-- utils.ts                  # Helpers
|
+-- prisma/
|   +-- schema.prisma             # Database schema
|   +-- migrations/               # Migrations
                    </pre>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">External Services</h2>
                <div class="cards-grid">
                    <div class="card">
                        <span class="card-icon">üó∫Ô∏è</span>
                        <h3 class="card-title">Mapbox</h3>
                        <p class="card-description">Interactive maps and geolocation</p>
                    </div>
                    <div class="card">
                        <span class="card-icon">üí≥</span>
                        <h3 class="card-title">Stripe</h3>
                        <p class="card-description">Payment processing</p>
                    </div>
                    <div class="card">
                        <span class="card-icon">üìß</span>
                        <h3 class="card-title">Resend</h3>
                        <p class="card-description">Transactional emails</p>
                    </div>
                    <div class="card">
                        <span class="card-icon">üìä</span>
                        <h3 class="card-title">PostHog</h3>
                        <p class="card-description">User analytics</p>
                    </div>
                    <div class="card">
                        <span class="card-icon">üêõ</span>
                        <h3 class="card-title">Sentry</h3>
                        <p class="card-description">Error tracking</p>
                    </div>
                    <div class="card">
                        <span class="card-icon">‚òÅÔ∏è</span>
                        <h3 class="card-title">Cloudflare R2</h3>
                        <p class="card-description">File storage (images, videos)</p>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title">Infrastructure</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Component</th>
                                <th>Provider</th>
                                <th>Purpose</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><td>Hosting</td><td>Vercel</td><td>Application hosting</td></tr>
                            <tr><td>CDN</td><td>Vercel Edge</td><td>Static asset delivery</td></tr>
                            <tr><td>Database</td><td>Neon/Supabase</td><td>Managed PostgreSQL</td></tr>
                            <tr><td>DNS</td><td>Cloudflare</td><td>DNS management</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        `
    }
};

// Export for use in app.js
if (typeof module !== 'undefined' && module.exports) {
    module.exports = CONTENT;
}
