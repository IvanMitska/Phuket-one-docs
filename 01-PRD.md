# Product Requirements Document (PRD)
# Phuket App

**Версия:** 1.0
**Дата:** 12 декабря 2025
**Автор:** Product Team
**Статус:** В разработке

---

## 1. Обзор продукта

### 1.1 Название
**Phuket App** — комплексная туристическая платформа для острова Пхукет, Таиланд.

### 1.2 Проблема
Туристы, приезжающие на Пхукет, сталкиваются с рядом проблем:
- **Разрозненность сервисов**: для аренды транспорта, бронирования жилья и экскурсий нужно использовать 5-10 разных приложений
- **Языковой барьер**: многие местные сервисы не имеют поддержки русского/английского языка
- **Непрозрачность цен**: отсутствие единой системы сравнения цен
- **Переплата посредникам**: туристы платят завышенную комиссию агентствам
- **Отсутствие персонализации**: нет единой программы лояльности для постоянных гостей

### 1.3 Решение
Единое мобильное приложение, объединяющее все туристические услуги на Пхукете:
- Аренда транспорта (скутеры, мотоциклы, автомобили)
- Бронирование жилья (виллы, апартаменты, отели)
- Экскурсии и туры
- AI-ассистент для помощи туристам
- Конвертер валют с актуальными курсами
- Прогноз погоды
- Единая программа лояльности

### 1.4 Целевая аудитория

| Сегмент | Описание | % аудитории |
|---------|----------|-------------|
| Русскоязычные туристы | Туристы из РФ, СНГ, живущие на Пхукете | 40% |
| Европейские туристы | UK, Германия, Франция, Скандинавия | 25% |
| Китайские туристы | Материковый Китай, Гонконг, Тайвань | 20% |
| Digital nomads | Удаленные работники, long-stay | 10% |
| Прочие | Австралия, США, другие страны | 5% |

### 1.5 Ключевые метрики успеха (KPI)

| Метрика | Target Year 1 | Target Year 2 |
|---------|---------------|---------------|
| MAU (Monthly Active Users) | 50,000 | 200,000 |
| Конверсия в бронирование | 8% | 12% |
| Retention Day 30 | 25% | 35% |
| NPS (Net Promoter Score) | 40+ | 50+ |
| GMV (Gross Merchandise Value) | $2M | $10M |
| Revenue | $200K | $1M |

---

## 2. Функциональные требования

### 2.1 Аутентификация (P0 — Critical)

| ID | Требование | Приоритет |
|----|------------|-----------|
| AUTH-001 | Регистрация по email/пароль | P0 |
| AUTH-002 | Вход в систему | P0 |
| AUTH-003 | Сброс пароля по email | P0 |
| AUTH-004 | Социальный вход (Google, Apple, Facebook) | P1 |
| AUTH-005 | Двухфакторная аутентификация (SMS/Email) | P2 |
| AUTH-006 | Биометрический вход (Face ID, Touch ID) | P1 |
| AUTH-007 | Автоматический logout после 30 дней неактивности | P1 |

**Критерии приемки:**
- Пароль минимум 8 символов, 1 заглавная буква, 1 цифра
- Токены хранятся в Keychain (iOS) / Encrypted SharedPreferences (Android)
- Refresh token с ротацией при каждом использовании

### 2.2 Аренда транспорта (P0 — Critical)

| ID | Требование | Приоритет |
|----|------------|-----------|
| TRANS-001 | Просмотр каталога транспорта с фильтрами | P0 |
| TRANS-002 | Фильтрация по типу (скутер, мото, авто, SUV, van) | P0 |
| TRANS-003 | Фильтрация по цене (min-max) | P0 |
| TRANS-004 | Просмотр карточки транспорта (фото, характеристики, отзывы) | P0 |
| TRANS-005 | Бронирование на даты | P0 |
| TRANS-006 | Отображение на карте | P1 |
| TRANS-007 | Сравнение нескольких вариантов | P2 |
| TRANS-008 | Фильтрация по характеристикам (ABS, GPS и т.д.) | P1 |

**Типы транспорта:**
- Скутер (125-160cc): Honda Click, PCX, Yamaha NMAX
- Мотоцикл (400-650cc): Honda CB500X, Kawasaki Z400
- Автомобиль: Toyota Yaris, Honda City
- SUV: Toyota Fortuner, Mitsubishi Pajero
- Минивен: Toyota Commuter

**Ценообразование:**
- Цена за день / неделю / месяц
- Скидки: неделя -10%, месяц -20%
- Страховка включена в базовую цену

### 2.3 Бронирование жилья (P0 — Critical)

| ID | Требование | Приоритет |
|----|------------|-----------|
| PROP-001 | Просмотр каталога жилья с фильтрами | P0 |
| PROP-002 | Фильтрация по типу (вилла, кондо, апартаменты) | P0 |
| PROP-003 | Фильтрация по цене и количеству спален | P0 |
| PROP-004 | Фильтрация по району | P0 |
| PROP-005 | Просмотр карточки (галерея, amenities, отзывы) | P0 |
| PROP-006 | Бронирование на даты | P0 |
| PROP-007 | Отображение на карте с маркерами | P1 |
| PROP-008 | Instant Book (бронь без подтверждения хоста) | P1 |
| PROP-009 | Запрос на бронирование (с подтверждением) | P1 |

**Типы жилья:**
- Вилла (private villa): 2-6 спален, бассейн
- Кондоминиум: студия-2 спальни, общий бассейн
- Апартаменты: 1-3 спальни
- Дом: 2-4 спальни
- Отель: номера различных категорий

**Районы:**
- Patong Beach (тусовка, nightlife)
- Kata/Karon (семейный отдых)
- Kamala/Surin (премиум)
- Rawai/Naiharn (тихий, для long-stay)
- Old Phuket Town (исторический центр)
- Bang Tao/Laguna (luxury resorts)

### 2.4 Экскурсии и туры (P0 — Critical)

| ID | Требование | Приоритет |
|----|------------|-----------|
| TOUR-001 | Просмотр каталога экскурсий с фильтрами | P0 |
| TOUR-002 | Фильтрация по категории | P0 |
| TOUR-003 | Фильтрация по цене и длительности | P0 |
| TOUR-004 | Просмотр детальной информации (программа, что включено) | P0 |
| TOUR-005 | Бронирование на дату с указанием количества гостей | P0 |
| TOUR-006 | Показ точки сбора на карте | P1 |
| TOUR-007 | Отзывы и рейтинги туров | P0 |
| TOUR-008 | Bestseller badge для популярных туров | P1 |

**Категории туров:**
- Island tours: Phi-Phi, James Bond Island, Similan
- Adventure: зиплайн, рафтинг, квадроциклы
- Cultural: Big Buddha, храмы, Old Town
- Diving: PADI курсы, снорклинг
- Food tours: тайская кухня, уличная еда
- Nature: Khao Sok, слоны, водопады

### 2.5 AI-ассистент (P1 — High)

| ID | Требование | Приоритет |
|----|------------|-----------|
| AI-001 | Чат-интерфейс для вопросов | P1 |
| AI-002 | Ответы на вопросы о Пхукете | P1 |
| AI-003 | Рекомендации по турам/жилью/транспорту | P1 |
| AI-004 | История разговора (последние 10 сообщений) | P1 |
| AI-005 | Suggested actions (быстрые кнопки) | P2 |
| AI-006 | Голосовой ввод | P2 |
| AI-007 | Offline режим с базовой информацией | P1 |

**Ограничения:**
- Отвечает только на вопросы о Пхукете и туризме
- Не выполняет инструкции, противоречащие основной задаче
- Защита от prompt injection

### 2.6 Программа лояльности (P1 — High)

| ID | Требование | Приоритет |
|----|------------|-----------|
| LOY-001 | Начисление баллов за бронирования | P1 |
| LOY-002 | Уровни лояльности (Bronze → Platinum) | P1 |
| LOY-003 | Просмотр баллов и истории | P1 |
| LOY-004 | Скидки в зависимости от уровня | P1 |
| LOY-005 | Rewards каталог (на что потратить баллы) | P2 |
| LOY-006 | Реферальная программа | P2 |

**Уровни:**
| Уровень | Порог | Скидка | Множитель |
|---------|-------|--------|-----------|
| Bronze | 0 | 0% | 1x |
| Silver | 1,000 pts | 3% | 1.25x |
| Gold | 5,000 pts | 5% | 1.5x |
| Platinum | 15,000 pts | 10% | 2x |

### 2.7 Конвертер валют (P1 — High)

| ID | Требование | Приоритет |
|----|------------|-----------|
| CUR-001 | Отображение актуальных курсов к THB | P1 |
| CUR-002 | Конвертация между валютами | P1 |
| CUR-003 | Поддержка USD, EUR, RUB, CNY, JPY, GBP | P1 |
| CUR-004 | Показ изменения курса за день | P2 |
| CUR-005 | График курса за период | P3 |

### 2.8 Погода (P2 — Medium)

| ID | Требование | Приоритет |
|----|------------|-----------|
| WEATHER-001 | Текущая погода на Пхукете | P2 |
| WEATHER-002 | Прогноз на 5 дней | P2 |
| WEATHER-003 | Советы (что надеть, нужен ли зонт) | P3 |

### 2.9 Профиль пользователя (P0 — Critical)

| ID | Требование | Приоритет |
|----|------------|-----------|
| PROF-001 | Просмотр и редактирование профиля | P0 |
| PROF-002 | Изменение пароля | P0 |
| PROF-003 | Загрузка аватара | P1 |
| PROF-004 | Настройки уведомлений | P1 |
| PROF-005 | Выбор языка (RU, EN, TH) | P0 |
| PROF-006 | Выбор валюты отображения | P1 |
| PROF-007 | История бронирований | P0 |
| PROF-008 | Избранное (wishlist) | P1 |
| PROF-009 | Удаление аккаунта (GDPR) | P0 |

### 2.10 Бронирования (P0 — Critical)

| ID | Требование | Приоритет |
|----|------------|-----------|
| BOOK-001 | Создание бронирования | P0 |
| BOOK-002 | Просмотр списка бронирований | P0 |
| BOOK-003 | Детали бронирования | P0 |
| BOOK-004 | Отмена бронирования | P0 |
| BOOK-005 | Код подтверждения | P0 |
| BOOK-006 | Push-уведомления о статусе | P1 |
| BOOK-007 | Добавление в календарь устройства | P2 |
| BOOK-008 | PDF-подтверждение | P2 |

---

## 3. Нефункциональные требования

### 3.1 Производительность

| Требование | Target |
|------------|--------|
| Время загрузки списков | < 2 секунды |
| Время загрузки детальной страницы | < 1.5 секунды |
| Время отклика API | < 500ms (p95) |
| Размер приложения | < 50 MB |
| Cold start время | < 3 секунды |
| Работа при 3G соединении | Да |

### 3.2 Доступность

| Требование | Target |
|------------|--------|
| Uptime API | 99.9% |
| Planned downtime | < 4 часа/месяц |
| Recovery time (RTO) | < 1 час |
| Data recovery (RPO) | < 1 час |

### 3.3 Безопасность

| Требование | Описание |
|------------|----------|
| Шифрование данных | TLS 1.2+ в transit, AES-256 at rest |
| Хранение паролей | bcrypt (12 rounds) |
| Токены | JWT с коротким временем жизни (30 мин) |
| SSL Pinning | Обязательно для мобильных приложений |
| Rate limiting | 60 req/min general, 5 req/min auth |
| Input validation | Все входные данные валидируются |
| Audit logging | Все критичные действия логируются |

### 3.4 Масштабируемость

| Метрика | Текущий target | Будущий target |
|---------|----------------|----------------|
| Concurrent users | 1,000 | 10,000 |
| Requests per second | 100 | 1,000 |
| Database size | 10 GB | 100 GB |
| Media storage | 100 GB | 1 TB |

### 3.5 Локализация

| Язык | Приоритет | Статус |
|------|-----------|--------|
| Русский | P0 | В работе |
| Английский | P0 | В работе |
| Тайский | P1 | Планируется |
| Китайский (упр.) | P2 | Планируется |

---

## 4. User Stories

### 4.1 Аренда транспорта

```
US-001: Как турист, я хочу найти скутер для аренды на неделю,
чтобы самостоятельно передвигаться по острову.

Acceptance Criteria:
- Могу отфильтровать только скутеры
- Вижу цену за день и за неделю
- Вижу фото и характеристики
- Могу забронировать на выбранные даты
```

```
US-002: Как турист, я хочу арендовать автомобиль с автоматической
коробкой передач, чтобы было удобно ездить по горным дорогам.

Acceptance Criteria:
- Могу отфильтровать по типу трансмиссии
- Вижу информацию о страховке
- Могу посмотреть местоположение пункта выдачи
```

### 4.2 Бронирование жилья

```
US-003: Как семья из 4 человек, мы хотим найти виллу с
2 спальнями и бассейном рядом с пляжем Ката.

Acceptance Criteria:
- Могу фильтровать по району
- Могу фильтровать по количеству спален
- Вижу amenities (бассейн отмечен)
- Вижу расстояние до пляжа
```

```
US-004: Как digital nomad, я хочу снять кондо на месяц с хорошим
WiFi в тихом районе.

Acceptance Criteria:
- Вижу цену за месяц
- Вижу информацию о WiFi
- Могу отфильтровать по минимальному сроку аренды
```

### 4.3 Экскурсии

```
US-005: Как турист, я хочу забронировать экскурсию на острова
Пхи-Пхи на завтра для 2 человек.

Acceptance Criteria:
- Вижу доступные даты
- Могу указать количество гостей
- Вижу что включено в стоимость
- Вижу точку сбора и время
```

### 4.4 AI-ассистент

```
US-006: Как турист, я хочу спросить AI-ассистента о лучших
ресторанах с морепродуктами рядом с моим отелем.

Acceptance Criteria:
- AI понимает вопрос на русском/английском
- Дает релевантные рекомендации
- Может предложить забронировать столик (если интеграция есть)
```

---

## 5. Ограничения и допущения

### 5.1 Ограничения

1. **Географическое**: Только остров Пхукет и ближайшие острова
2. **Платежи**: На первом этапе без онлайн-оплаты (оплата при получении)
3. **Языки**: Первый релиз только RU + EN
4. **Платформы**: Сначала iOS, затем Android и Web

### 5.2 Допущения

1. Партнеры (прокаты, виллы, туроператоры) предоставят API или данные
2. Интернет доступен у большинства пользователей
3. GPS работает корректно на устройствах
4. OpenAI API будет доступен для AI-ассистента

### 5.3 Зависимости

| Зависимость | Тип | Влияние |
|-------------|-----|---------|
| OpenAI API | Внешняя | AI-ассистент не будет работать без него |
| Apple Push Notification | Внешняя | Уведомления iOS |
| Map services | Внешняя | Карты и навигация |
| Currency API | Внешняя | Актуальные курсы валют |
| Weather API | Внешняя | Прогноз погоды |

---

## 6. Roadmap

### Phase 1: MVP (Q1 2026)
- [x] Аутентификация (email/password)
- [x] Каталог транспорта с фильтрами
- [x] Каталог жилья с фильтрами
- [x] Каталог экскурсий
- [x] Бронирование (без оплаты)
- [x] Профиль пользователя
- [x] AI-ассистент (базовый)
- [ ] Push-уведомления

### Phase 2: Growth (Q2 2026)
- [ ] Социальный вход (Google, Apple)
- [ ] Программа лояльности
- [ ] Онлайн-оплата (Stripe, local banks)
- [ ] Отзывы и рейтинги
- [ ] Android версия

### Phase 3: Scale (Q3-Q4 2026)
- [ ] Web версия
- [ ] Китайский язык
- [ ] Расширение на Самуи, Краби
- [ ] B2B партнерская программа
- [ ] Advanced AI features

---

## 7. Риски

| Риск | Вероятность | Влияние | Митигация |
|------|-------------|---------|-----------|
| Низкая конверсия | Средняя | Высокое | A/B тесты, улучшение UX |
| Конкуренты (Grab, Agoda) | Высокая | Среднее | Фокус на нише, локализация |
| Технические проблемы API | Средняя | Высокое | Мониторинг, fallback |
| Юридические (лицензии) | Низкая | Высокое | Консультация с юристами |
| Сезонность туризма | Высокая | Среднее | Маркетинг в low season |

---

## 8. Глоссарий

| Термин | Определение |
|--------|-------------|
| MAU | Monthly Active Users — уникальные пользователи в месяц |
| GMV | Gross Merchandise Value — общий объем транзакций |
| NPS | Net Promoter Score — индекс лояльности |
| P0/P1/P2 | Приоритеты (Critical/High/Medium) |
| Long-stay | Длительное проживание (1+ месяц) |
| Instant Book | Бронирование без подтверждения хоста |

---

**Согласовано:**

| Роль | Имя | Подпись | Дата |
|------|-----|---------|------|
| Product Owner | | | |
| Tech Lead | | | |
| Designer | | | |
| QA Lead | | | |
